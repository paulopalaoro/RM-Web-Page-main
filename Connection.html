<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>RadioMaster Devices Config</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a1a1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="RadioMaster">
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="apple-touch-icon" href="./icons/apple-touch-icon.png">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
  <style>
    
    body {
      margin: 0;
      font-family: 'Roboto', monospace;
      background: linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%);
      color: #222;
      min-height: 100vh;
    }


    .signal-container {
      position: relative;
      width: 50px;
      height: 45px;
      display: flex;
      align-items: flex-end;
      gap: 5px; 
      padding-bottom: 5px;
    }


    .signal-bar {
      width: 8px; 
      background-color: #e0e0e0; 
      border-radius: 1px; 
      transition: background-color 0.25s ease; 
    }


    .bar-1 { height: 10px; } 
    .bar-2 { height: 20px; }
    .bar-3 { height: 30px; }
    .bar-4 { height: 40px; } 


    .cross {
      position: absolute;
      background-color: #ff4444;
      width: 2px;
      height: 12px;
      border-radius: 1px;
      transition: opacity 0.25s ease;
      opacity: 0; /* */
    }


    .cross-1 {
      top: 18px;
      left: 22px;
      transform: rotate(45deg);
    }

    .cross-2 {
      top: 18px;
      left: 22px;
      transform: rotate(-45deg);
    }


    .state-disconnected .cross {
      opacity: 1; 
    }

    .state-disconnected .signal-bar {
      background-color: #e0e0e0; 
    }


    .state-signal-1 .bar-1 {
      background-color: #4CAF50; 
    }

    .state-signal-1 .bar-2,
    .state-signal-1 .bar-3,
    .state-signal-1 .bar-4 {
      background-color: #e0e0e0; 
    }


    .state-signal-2 .bar-1,
    .state-signal-2 .bar-2 {
      background-color: #4CAF50;
    }

    .state-signal-2 .bar-3,
    .state-signal-2 .bar-4 {
      background-color: #e0e0e0;
    }


    .state-signal-3 .bar-1,
    .state-signal-3 .bar-2,
    .state-signal-3 .bar-3 {
      background-color: #4CAF50;
    }

    .state-signal-3 .bar-4 {
      background-color: #e0e0e0;
    }


    .state-signal-4 .signal-bar {
      background-color: #4CAF50;
    }

    .center-wrapper {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: none;
    }
    .card {
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 8px 36px rgba(79,140,255,0.15);
      padding: 48px 60px 40px 60px;
      min-width: 380px;
      max-width: 520px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 0.5s;
    }
    .card-title {
      font-size: 1.7em;
      font-weight: bold;
      color: #3358e0;
      margin-bottom: 32px;
      letter-spacing: 1px;
    }
    .form-group {
      width: 100%;
      margin-bottom: 28px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    .form-group label {
      font-size: 1.08em;
      color: #3358e0;
      margin-bottom: 8px;
      font-weight: 500;
    }
    .form-group select, .form-group input {
      width: 100%;
      padding: 12px 14px;
      border: 1.5px solid #d0d7e6;
      border-radius: 8px;
      font-size: 1.08em;
      outline: none;
      transition: border 0.2s;
      margin-bottom: 0;
    }
    .form-group input:focus, .form-group select:focus {
      border: 2px solid #4f8cff;
    }
    .connect-btn {
      width: 100%;
      background: linear-gradient(90deg, #4f8cff 0%, #3358e0 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 16px 0;
      font-size: 1.18em;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
      margin-top: 16px;
    }
    .connect-btn:disabled {
      background: #b3cfff;
      cursor: not-allowed;
    }
    .connect-status {
      margin-top: 24px;
      font-size: 1.12em;
      color: #4f8cff;
      font-weight: bold;
      letter-spacing: 1px;
      min-height: 28px;
    }

    .comm-container, .calib-container {
      width: 100%;
      max-width: 1200px;
      min-width: 0;
      margin: 0 auto !important;
      padding: 0 !important;
      border-radius: 0 !important;
      box-shadow: none !important;
      min-height: calc(100vh - 64px) !important;
      height: calc(100vh - 64px) !important;
      background: #fff;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
    }
    .main-content-area {
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: flex-start;
      min-height: 0;
      height: 100%;
      width: 100vw;
      max-width: 100vw;
      box-sizing: border-box;
      padding-left: 0;
      padding-right: 0;
    }
    .comm-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #3358e0;
      margin-bottom: 8px;
      letter-spacing: 1px;
    }
    .comm-output-box {
      background: #f4f6fb;
      color: #222;
      border-radius: 8px;
      padding: 16px 12px 16px 16px;
      flex: 1 1 0;
      min-height: 180px;
      max-height: 100%;
      font-family: 'Roboto', monospace;
      font-size: 1.08em;
      white-space: pre-wrap;
      box-shadow: 0 1px 4px rgba(79,140,255,0.04);
      overflow-y: auto;
      word-break: break-all;
      position: relative;
      margin-bottom: 0;
    }
    .output-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .clear-btn {
      background: #e0e7ff;
      color: #3358e0;
      border: none;
      border-radius: 5px;
      padding: 5px 14px;
      font-size: 0.98em;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      margin-left: 8px;
    }
    .clear-btn:hover {
      background: #3358e0;
      color: #fff;
    }
    .comm-input-row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 8px;
    }
    .comm-input-row input[type="text"] {
      flex: 1;
      padding: 10px 12px;
      border: 1px solid #d0d7e6;
      border-radius: 6px;
      font-size: 1em;
      outline: none;
      transition: border 0.2s;
    }
    .comm-input-row input[type="text"]:focus {
      border: 1.5px solid #4f8cff;
    }
    .comm-input-row select {
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid #d0d7e6;
      font-size: 1em;
      outline: none;
      transition: border 0.2s;
    }
    .comm-input-row button {
      background: #4f8cff;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 10px 18px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
    }
    .comm-input-row button:disabled {
      background: #b3cfff;
      cursor: not-allowed;
    }
    .comm-input-row button:not(:disabled):hover {
      background: #3358e0;
      transform: scale(1.04);
    }
    @media (max-width: 1300px) {
      .comm-container, .calib-container {
        max-width: 98vw;
      }
    }
    @media (max-width: 700px) {
      .comm-container, .calib-container {
        max-width: 100vw;
        min-width: 0;
        border-radius: 0 !important;
      }
    }

    #device-info-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1200;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #1a1a1a;
      padding: 10px 32px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.2);
      min-height: 64px;
    }
    .logo-section, #logo-img {
      border-radius: 0;
      overflow: visible;
    }
    #logo-img {
      height: 44px;
      width: auto;
      max-width: 120px;
      cursor: pointer;
      border-radius: 8px;
    }
    .menu-section {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .menu-bar {
      display: flex;
      gap: 18px;
      justify-content: center;
      background: none;
      animation: fadeIn 0.7s;
    }
    .battery-section {
      width: 200px;
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }
    .battery-container {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .battery-outer {
      position: relative;
      width: 32px;
      height: 18px;
      border: 2.5px solid #fff;
      border-radius: 7px;
      background: #23272f;
      box-shadow: 0 1px 4px rgba(79,140,255,0.10);
      display: flex;
      align-items: center;
      margin-right: 2px;
    }
    .battery-head {
      position: absolute;
      right: -6px;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 8px;
      background: #fff;
      border-radius: 2px;
      box-shadow: 0 0 2px #fff;
    }
    .battery-inner {
      position: absolute;
      left: 2.5px;
      top: 2.5px;
      bottom: 2.5px;
      width: 0;
      border-radius: 4px;
      transition: all 0.4s;
    }
    .battery-inner.high {
      background: linear-gradient(90deg, #2ecc71 60%, #b6fcd5 100%);
    }
    .battery-inner.medium {
      background: linear-gradient(90deg, #f1c40f 60%, #fffbe6 100%);
    }
    .battery-inner.low {
      background: linear-gradient(90deg, #e74c3c 60%, #ffd6d6 100%);
    }
    .battery-num {
      color: #fff;
      font-weight: 500;
      font-size: 1.08em;
      min-width: 40px;
      letter-spacing: 1px;
    }

    .menu-btn {
      background: none;
      color: #fff;
      border: none;
      padding: 10px 24px;
      font-size: 1em;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      letter-spacing: 1px;
    }
    .menu-btn::after {
      content: '';
      position: absolute;
      bottom: 6px;
      left: 24px;
      right: 24px;
      height: 2px;
      background: #fff;
      transform: scaleX(0);
      transition: transform 0.3s;
    }
    .menu-btn:hover::after,
    .menu-btn.active::after {
      transform: scaleX(1);
    }
    .menu-btn.active {
      color: #fff;
    }
    .menu-btn:hover {
      color: #fff;
    }
    .main-flex-root {
      padding-top: 84px;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      width: 100vw;
      box-sizing: border-box;
      padding-left: 0;
      padding-right: 0;
    }
    .wireless-settings {
      padding: 0 !important;
      max-width: 100vw;
      margin: 0;
      gap: 18px;
      background: none;
    }
    .param-container {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    .setting-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      padding: 18px 22px;
      background: #f4f8ff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(79,140,255,0.07);
      border: 1.5px solid #e0e7ff;
      transition: box-shadow 0.2s, border 0.2s;
      position: relative;
    }
    .setting-item:hover {
      box-shadow: 0 4px 16px rgba(79,140,255,0.13);
      border: 1.5px solid #4f8cff;
    }
    .setting-label {
      flex: 1 1 0;
      font-size: 1.08em;
      color: #3358e0;
      font-weight: 500;
      letter-spacing: 0.5px;
      min-width: 120px;
      margin-right: 18px;
      text-align: right;
    }
    .setting-control {
      min-width: 160px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .setting-control input[type="number"] {
      width: 90px;
      padding: 8px 10px;
      border: 1.5px solid #d0d7e6;
      border-radius: 6px;
      font-size: 1em;
      outline: none;
      transition: border 0.2s;
    }
    .setting-control input[type="number"]:focus {
      border: 1.5px solid #4f8cff;
    }
    .setting-control select {
      width: 120px;
      padding: 8px 22px 8px 10px; 
      border-radius: 6px;
      border: 1.5px solid #d0d7e6;
      font-size: 1em;
      outline: none;
      transition: border 0.2s;
      background: #fff;
    }
    .setting-control select:focus {
      border: 1.5px solid #4f8cff;
    }
    .setting-control button {
      padding: 8px 18px;
      background: linear-gradient(90deg, #4f8cff 0%, #3358e0 100%);
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 1em;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 1px 4px rgba(79,140,255,0.08);
    }
    .setting-control button:hover {
      background: linear-gradient(90deg, #3358e0 0%, #4f8cff 100%);
      box-shadow: 0 2px 8px rgba(79,140,255,0.13);
    }
    .setting-control span {
      color: #222;
      font-size: 1.05em;
      background: none;
      padding: 0 4px;
    }
    @media (max-width: 700px) {
      .wireless-settings, .param-container { padding: 8px 2vw; }
      .setting-item { flex-direction: column; align-items: flex-start; padding: 14px 8px; }
      .setting-label { text-align: left; margin-bottom: 6px; }
      .setting-control { min-width: 0; width: 100%; }
      .setting-control input, .setting-control select { width: 100%; }
    }
    .device-info {
      background: #eaf1ff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(79,140,255,0.07);
      border: 1.5px solid #d0d7e6;
      padding: 18px 22px 10px 22px;
      margin-bottom: 18px;
    }


    .comm-container {
      max-width: 1400px !important;
      min-width: 900px !important;
      padding: 32px 32px 24px 32px !important;
      margin-bottom: 24px !important;
      min-height: 900px !important;
      height: auto !important;
    }
    .param-container {
      gap: 10px !important;
      padding: 4px 2px !important;
    }
    .setting-item {
      padding: 8px 10px !important;
      gap: 8px !important;
      font-size: 1em !important;
    }
    .setting-label {
      min-width: 90px !important;
      font-size: 1em !important;
    }
    .setting-control input, .setting-control select, .setting-control button {
      font-size: 0.98em !important;
      padding: 5px 8px !important;
      min-height: 28px !important;
      height: 28px !important;
    }
    .setting-control button {
      padding: 5px 14px !important;
    }

    .param-folder-root {
      background: #eaf1ff !important;
      color: #3358e0 !important;
      font-weight: bold !important;
      border-radius: 8px !important;
      font-size: 1.13em !important;
      padding-left: 18px !important;
      margin-bottom: 6px !important;
      display: flex;
      align-items: center;
      box-shadow: 0 2px 8px rgba(79,140,255,0.07);
      border: 1.5px solid #e0e7ff;
    }
    .param-folder-root .folder-icon {
      width: 18px; height: 18px; margin-right: 8px; opacity: 0.7;
    }
    .param-folder-child {
      background: #f7faff !important;
      color: #3358e0 !important;
      font-weight: 500 !important;
      border-radius: 6px !important;
      font-size: 1.05em !important;
      padding-left: 32px !important;
      margin-bottom: 4px !important;
      border: 1px solid #e0e7ff;
    }

    .calib-title {
      font-size: 1.3em;
      font-weight: bold;
      color: #3358e0;
      margin-bottom: 8px;
      letter-spacing: 1px;
    }
    .calib-btn-group {
      display: flex;
      gap: 18px;
      margin-bottom: 18px;
    }
    .calib-btn {
      border: none;
      border-radius: 8px;
      background: #eaf1ff;
      color: #3358e0;
      font-size: 1.08em;
      font-weight: 500;
      padding: 10px 22px;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      outline: none;
    }
    .calib-btn.active-high { background: #2ecc71; color: #fff; }
    .calib-btn.active-mid { background: #f1c40f; color: #fff; }
    .calib-btn.active-low { background: #e74c3c; color: #fff; }
    .calib-slider-row {
      display: flex;
      align-items: center;
      gap: 18px;
      margin-bottom: 18px;
    }
    .calib-slider-label {
      color: #3358e0;
      font-weight: 500;
      min-width: 40px;
    }
    .calib-slider {
      flex: 1;
      accent-color: #4f8cff;
      height: 6px;
      border-radius: 4px;
    }
    .calib-slider-value {
      min-width: 36px;
      color: #3358e0;
      font-weight: bold;
      font-size: 1.08em;
    }
    .calib-joystick-row {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: 96px;
      width: 100%;
      margin: 0 auto;
      padding: 0;
      position: relative;
    }
    .calib-joystick-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: auto;
      height: auto;
      position: relative;
    }
    .calib-joystick {
      width: auto !important;
      height: auto !important;
      max-width: 140px !important;
      max-height: 140px !important;
      min-width: 60px;
      min-height: 60px;
      margin: 0;
      display: block;
      background: #f4f6fb;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(79,140,255,0.07);
      border: 1.5px solid #e0e7ff;
    }
    .calib-joystick-label {
      text-align: center;
      color: #3358e0;
      font-weight: 500;
      margin-bottom: 6px;
    }
    @media (max-width: 2200px) {
      .calib-joystick, .calib-joystick-wrap { width: 500px !important; height: 500px !important; }
    }
    @media (max-width: 1400px) {
      .calib-joystick, .calib-joystick-wrap { width: 140px !important; height: 140px !important; min-width: 60px; min-height: 60px; }
    }
    @media (max-width: 900px) {
      .calib-joystick, .calib-joystick-wrap { width: 120px !important; height: 120px !important; min-width: 50px; min-height: 50px; }
      .calib-joystick-row { flex-direction: column; align-items: center; gap: 32px; }
    }

    #page-calib {
      background: #fff !important;
      min-height: calc(100vh - 64px);
      width: 100vw;
      position: relative;
      z-index: 1;
    }
    .progress-bar {
      position: relative;
      height: 26px; 
      box-sizing: border-box;
      background: none;
    }
    .progress-bar .bar-line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 3px;
      background: #b3cfff;
      border-radius: 2px;
      transform: translateY(-50%);
      z-index: 1;
    }
    .progress-dot {
      position: absolute;
      top: 0;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      box-shadow: 0 2px 12px #b3cfff;
      border: 3px solid #fff;
      transition: left 0.3s;
      z-index: 2;
      background: #2ecc71; 
    }
    .keymode-select {
      appearance: none;
      -webkit-appearance: none;
      background: linear-gradient(90deg, #eaf1ff 0%, #c3dafe 100%);
      border: 1.5px solid #3358e0;
      border-radius: 8px;
      padding: 8px 28px 8px 12px;
      font-size: 1.08em;
      font-family: 'Roboto', monospace;
      color: #3358e0;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(51,88,224,0.08);
      transition: border 0.2s, box-shadow 0.2s;
      cursor: pointer;
      outline: none;
      margin-bottom: 2px;
      min-width: 80px;
      text-align: center;
      background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6l4 4 4-4' stroke='%233358e0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 18px 18px;
    }
    .keymode-select:focus, .keymode-select:hover {
      border: 2px solid #5a7cff;
      box-shadow: 0 4px 16px rgba(51,88,224,0.13);
    }

    .setting-row {
      display: flex;
      align-items: center;
      background: #eaf1ff;
      border-radius: 12px;
      padding: 12px 18px;
      margin-bottom: 12px;
      gap: 16px;
    }

    .setting-label {
      color: #3358e0;
      font-weight: 500;
      width: 120px;         
      text-align: left;     
      flex-shrink: 0;       
    }

    input[type="range"] {
      flex: 1;
      max-width: 300px;
      margin: 0 12px;
    }

    .setting-right {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 120px;
      justify-content: flex-end;
    }

    .setting-value {
      font-family: 'Roboto', monospace;
      font-size: 1.08em;
      min-width: 40px;
      text-align: right;
    }


    .progress-modal {
      position: fixed;
      z-index: 9999; 
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: none; /* */
    }


    .progress-modal.active {
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }


    .progress-backdrop {
      position: absolute;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(4px); 
    }


    .progress-modal__content {
      position: relative;
      width: 320px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 1.5rem;
      animation: scaleIn 0.3s ease;
    }


    .progress-bar-back {
      width: 100%;
      height: 6px;
      background: #E5E7EB;
      border-radius: 4px;
      overflow: hidden;
    }


    .progress-bar__fill {
      height: 100%;
      background: #165DFF;
      transition: width 0.3s ease; 
    }


    .progress-modal__header {
      position: relative;
      padding-right: 30px; 
    }

    .progress-modal__close {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s ease;
    }


    .progress-modal__close i {
      color: #000;
      font-size: 16px;
    }


    .progress-modal__close:hover {
      background-color: #f0f0f0;
    }
    .progress-modal__close:hover i {
      color: #222;
    }


    .progress-modal__close:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
    }
    .progress-modal__close:focus i {
      color: #000;
    }


    .progress-modal__close i {
      color: #333; 
      font-size: 16px; 
    }


    .progress-modal__close:hover i {
      color: #000; 
    }

    .progress-modal__close {

      border: 1px solid #e0e0e0;
      background-color: #fafafa; 
    }

    .progress-modal__close:hover {
      border-color: #ccc;
      background-color: #f0f0f0; 
    }

 .progress-modal__close {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      width: 24px;
      height: 24px;
      padding: 0;
      border-radius: 50%;
      transition: all 0.2s ease;
    }


    .progress-modal__close::before,
    .progress-modal__close::after {
      content: '';
      position: absolute;
      width: 2px;
      height: 16px;
      background-color: #333; 
      border-radius: 1px;
    }


    .progress-modal__close::before {
      transform: rotate(45deg);
      left: 11px; 
    }


    .progress-modal__close::after {
      transform: rotate(-45deg);
      left: 11px; 
    }


    .progress-modal__close:hover {
      background-color: #f0f0f0;
    }

    .progress-modal__close:hover::before,
    .progress-modal__close:hover::after {
      background-color: #000; 
    }


    .progress-modal__close:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
    }

    #calib-bar-rv  {
      transform: scaleY(-1);

    }

    #calib-bar-lv  {
      transform: scaleY(-1);

    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes scaleIn {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }


    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes scaleIn {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    #lang-switcher {
      position: static;
      margin-left: 18px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 4px 12px;
      font-size: 1em;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      user-select: none;
    }

    @media (max-width: 700px) {
      /* Card de conexão */
      .card {
        min-width: 0;
        padding: 32px 20px 28px 20px;
        border-radius: 14px;
        margin: 0 12px;
      }
      /* Navbar — CSS Grid: logo+bateria linha 1, menu linha 2 */
      #device-info-bar {
        display: grid !important;
        grid-template-areas: "logo battery" "menu menu";
        grid-template-columns: auto 1fr;
        grid-template-rows: auto auto;
        padding: 6px 12px 0 12px;
        min-height: unset;
        gap: 0;
        align-items: center;
      }
      .logo-section {
        grid-area: logo;
        display: flex;
        align-items: center;
      }
      #logo-img {
        height: 32px;
        max-width: 80px;
      }
      .battery-section {
        grid-area: battery;
        width: auto;
        min-width: 0;
        justify-content: flex-end;
      }
      .battery-num {
        font-size: 0.88em;
        min-width: 28px;
        letter-spacing: 0;
      }
      .menu-section {
        grid-area: menu;
        display: flex;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        justify-content: flex-start;
        padding-bottom: 4px;
        width: 100%;
      }
      .menu-section::-webkit-scrollbar {
        display: none;
      }
      .menu-bar {
        gap: 0;
        flex-wrap: nowrap;
        white-space: nowrap;
        width: 100%;
      }
      .menu-btn {
        padding: 8px 12px;
        font-size: 0.82em;
        letter-spacing: 0;
        flex-shrink: 0;
      }
      .menu-btn::after {
        left: 12px;
        right: 12px;
      }
      /* Ajuste padding-top do conteúdo para navbar de 2 linhas */
      .main-flex-root {
        padding-top: 108px;
      }
      /* Comm container — sobrescreve min-width: 900px !important */
      .comm-container {
        min-width: 0 !important;
        padding: 12px 6px !important;
      }
      #lang-switcher {
        margin-left: 6px;
        padding: 4px 6px;
        font-size: 0.85em;
      }
    }

  </style>
</head>
<body style="margin:0;">

  <div id="device-info-bar">
    <div class="logo-section">
      <img id="logo-img" src="data:image/png;base64,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" alt="logo"/>
    </div>
    <div class="menu-section">
      <div class="menu-bar">
        <!-- 
         éšè—ç‰¹å®šé¡µé¢
         <button class="menu-btn" data-page="comm" style="display:none;">ä¸²å£é€šä¿¡</button> 
          æˆ–è€…
          var commBtn = document.querySelector('.menu-btn[data-page="comm"]');
          if (commBtn) commBtn.style.display = 'none'; 
        -->
        <button data-i18n="comm-uart" class="menu-btn" data-page="comm">Comunicacao Serial</button>

        <button data-i18n='attr-dev' class="menu-btn" data-page="attr">Dispositivo</button>
        <button data-i18n='config-dev' class="menu-btn" data-page="config">Canais</button>
        <button data-i18n='net-config' class="menu-btn" data-page="net">Configuracoes RF</button>
        <button data-i18n='dev-cailation' class="menu-btn" data-page="calib">Calibracao</button>
        <button data-i18n='frieware-updata' class="menu-btn" data-page="fw">Atualizacao de Firmware</button>
      </div>
    </div>
    <div id="signalContainer" class="signal-container state-disconnected">
      <div class="signal-bar bar-1"></div>
      <div class="signal-bar bar-2"></div>
      <div class="signal-bar bar-3"></div>
      <div class="signal-bar bar-4"></div>
      <div class="cross cross-1"></div>
      <div class="cross cross-2"></div>
    </div>
    <div class="battery-section">
      <div class="battery-container">
        <div class="battery-outer">
          <div class="battery-inner" id="battery-bar-fill"></div>
          <div class="battery-head"></div>
          <div class="battery-head-fill"></div>
        </div>
        <span class="battery-num" id="battery-bar-num">50%</span>
      </div>
      <div id="lang-switcher">LANG PT</div>
    </div>
  </div>

  <div class="main-flex-root">

    <div class="center-wrapper" id="connect-page">
      <div class="card">
        <div class="card-title" data-i18n="connect-title">Conexao Serial</div>
        <div class="form-group">
          <label data-i18n="connect-port">Porta Serial</label>
          <span style="color:#888;font-size:0.98em;" data-i18n="connect-port-desc">Clique em "Conectar" para abrir o seletor de porta serial no navegador</span>
        </div>
        <!-- <div class="form-group">
          <label for="baudrate" data-i18n="connect-baudrate">Taxa de Baud</label>
          <input id="baudrate" type="number" min="1200" max="921600" step="1" value="115200" placeholder="Taxa de Baud">
        </div> -->
        <button class="connect-btn" id="connect" data-i18n="connect-btn">Conectar</button>
        <div class="connect-status" id="serial-status" data-i18n="connect-status">Desconectado</div>
      </div>
    </div>

    <div id="main-app" style="display:none;">
      <div class="main-content-area">
        <div id="page-comm" class="main-page">
          <div class="comm-container">

            <div class="output-header">
              <span data-i18n="comm-output-title">Saida</span>
              <button class="clear-btn" id="clear-output" data-i18n="comm-clear-output">Limpar</button>
            </div>
            <div class="comm-output-box" id="output"></div>
            <div class="comm-input-row">
              <select id="send-mode">
                <option value="text" data-i18n="comm-send-text">Enviar Texto</option>
                <option value="hex" data-i18n="comm-send-hex">Enviar Hex</option>
              </select>
              <input id="input" type="text" data-i18n="comm-send-input" >

              <button id="send" data-i18n="comm-send-btn">Enviar</button>
            </div>
            <div style="margin-top:4px;align-self:flex-end;">
              <input type="checkbox" id="recv-hex">
              <label style="font-size:0.98em;color:#3358e0;font-weight:bold;"  data-i18n="recv-hex-checked">Exibir conteudo recebido em Hex</label>
            </div>
            <div class="form-group" style="margin-top:18px;margin-bottom:18px;">
              <label for="manual-baudrate" style="font-size:1.08em;color:#3358e0;margin-bottom:8px; font-weight:500;" data-i18n="baud-btn">Baud Rate Manual</label>
              <div style="display:flex;gap:10px;width:100%;">
                <input id="manual-baudrate" type="number" min="1200" max="921600" step="1" placeholder="Digite a taxa de baud" style="flex:1;padding:12px 14px;border:1.5px solid #d0d7e6;border-radius:8px;font-size:1.08em;outline:none;transition:border 0.2s;">
                <button id="apply-baudrate" style="padding:12px 24px;background:linear-gradient(90deg,#4f8cff 0%,#3358e0 100%);color:#fff;border:none;border-radius:8px;font-size:1.08em;cursor:pointer;transition:opacity 0.2s;white-space:nowrap;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'";data-i18n="baud-enter-btn">Confirm</button>
              </div>
            </div>
            <button class="connect-btn" id="disconnect" style="margin-top:18px;background:linear-gradient(90deg,#e74c3c 0%,#c0392b 100%);" data-i18n="comm-disconnect-btn">Desconectar</button>
          </div>
        </div>

        <div id="page-attr" class="main-page" style="display:none;">
          <div class="comm-container"><div class="comm-title">Informacoes do Dispositivo</div><div>Aqui estao os detalhes do dispositivo.</div></div>
        </div>
        
        <div id="page-config" class="main-page" style="display:none;">
          <div class="comm-container"><div class="comm-title">Configuracao de Canais</div><div>Aqui estao as configuracoes do dispositivo.</div></div>
        </div>
        
        <div id="page-net" class="main-page" style="display:none;">
          <div class="comm-container">
            <div style="display:flex;align-items:center;gap:18px;margin-bottom:8px;">
              <div class="comm-title" data-i18n="net-lua-config">Configuracao LUA</div>
              <button id="wifi-toggle-btn" class="connect-btn" style="min-width:130px;max-width:130px;padding:6px 24px;font-size:1em;">Abrir TxWiFi</button>
            </div>            
            <div id="wireless-settings" class="wireless-settings">

            </div>
            <div id="crsf-result" style="white-space:pre-wrap;color:#3358e0;font-size:0.98em;margin:12px 0;"></div>
              <div class="wireless-controls">
                <button id="refresh-settings" class="connect-btn" data-i18n="net-refresh-tx"></button>
                <span id="settings-status" class="settings-status"></span>
                <button id="refresh-settings-rx" class="connect-btn" style="margin-left:12px;" data-i18n="net-refresh-rx"></button>
                <span id="settings-status-rx" class="settings-status"></span>
              </div>
              <label id="settings-status-label" class="settings-status" data-i18n="settings-status-label-Text" style="text-align:center;"></label>
              <label id="settings-rxLua-label" class="settings-status" data-i18n="settings-rxLua-label-Text" style="text-align:center;"></label>         
            </div>
        </div>
        
        <div id="page-calib" class="main-page" style="display:none;">
          <div class="comm-container">
            <!-- <div style="display:flex;align-items:center;gap:22px;margin-bottom:18px;">
              <button id="calib-action-btn" class="connect-btn" style="min-width:140px;">Iniciar calibracao</button>
              <div class="calib-btn-slider-row" style="display:flex;align-items:center;gap:32px;">
                <div class="calib-btn-group" id="calib-btn-group" style="display:flex;gap:18px;"></div>
                <div class="calib-slider-row" style="display:flex;align-items:center;gap:12px;min-width:220px;">
                  <span class="calib-slider-label">S1</span>
                  <input type="range" min="0" max="100" value="50" class="calib-slider-sao" id="calib-slider">
                  <span class="calib-slider-value" id="calib-slider-value">50</span>
                </div>
              </div>
            </div> -->
            <!-- <div class="calib-joystick-row">
              <div class="calib-joystick-wrap">
                <div class="calib-joystick-label">Joystick Esquerdo</div>
                <canvas class="calib-joystick" id="joystick1" width="1050" height="1050"></canvas>
              </div>
              <div class="calib-joystick-wrap">
                <div class="calib-joystick-label">Joystick Direito</div>
                <canvas class="calib-joystick" id="joystick2" width="1050" height="1050"></canvas>
              </div>
            </div> -->
          </div>
        </div>

        <div id="page-fw" class="main-page" style="display:none;">
          <div class="comm-container" style="display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 64px);background:linear-gradient(135deg,#e0e7ff 0%,#f4f6fb 100%);">
            <div id="fw-card" style="background:#fff;border-radius:22px;box-shadow:0 8px 36px rgba(79,140,255,0.15);padding:48px 60px 40px 60px;min-width:380px;max-width:520px;width:100%;display:flex;flex-direction:column;align-items:center;">
              <div class="comm-title" style="margin-bottom:32px;" data-i18n="fw-change-title">Selecionar Atualizacao de Firmware</div>
              <div style="margin-bottom:18px;width:100%;display:flex;align-items:center;justify-content:flex-start;gap:12px;">
                <label for="fw-device-type" style="color:#3358e0;font-weight:500;" data-i18n="fw-device-type">Tipo de Dispositivo:</label>
                <select id="fw-device-type" style="padding:4px 12px;border-radius:8px;border:1.5px solid #4f8cff;font-size:1.08em;">
                  <option value="remote" selected data-i18n="fw-remote">Controle T8L</option>
                  <option value="transmitter" data-i18n="fw-transmitter">Modulo ELRS Interno</option>
                  <option value="sensor" data-i18n="fw-sensor">Sensor</option>
                </select>
              </div>

              <div id="fw-drop-area" style="border:2.5px dashed #4f8cff;border-radius:14px;padding:32px 18px;margin-bottom:22px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:border-color 0.2s;position:relative;background:#f4f8ff;">
                <div data-i18n="drag-fw-file" style="font-size:1.13em;color:#3358e0;font-weight:500;margin-bottom:10px;">Arraste o arquivo de firmware aqui</div>
                <div data-i18n="or" style="color:#888;font-size:0.98em;margin-bottom:12px;">Ou</div>
                <input type="file" id="fw-file" accept=".bin,.hex" data-i18n="fw-file-input" style="display:none;">
                <div id="fw-file-name" data-i18n="fw-file-name" style="margin-top:14px;color:#3358e0;font-weight:500;font-size:1.08em;"></div>
              </div>

              <div style="margin-bottom:22px;width:100%;display:flex;flex-direction:column;align-items:flex-start;">
                <label id="fw-progress-label" data-i18n="update-progress" style="font-weight:bold;color:#3358e0;margin-bottom:8px;display:none;" data-i18n="update-progress">Progresso da Atualizacao</label>
                <div id="fw-progress-bar-wrap" style="width:100%;height:22px;background:#e0e7ff;border-radius:12px;overflow:hidden;position:relative;display:none;">
                  <div id="fw-progress-bar" style="height:100%;width:0%;background:linear-gradient(90deg,#4f8cff 0%,#3358e0 100%);border-radius:12px;transition:width 0.3s;"></div>
                  <span id="fw-progress-text" style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:bold;color:#3358e0;font-size:1.08em;">0%</span>
                </div>
              </div>
              <button id="fw-update-btn" class="connect-btn" style="width:100%;margin-top:8px;margin-bottom:8px;font-size:1.15em;" data-i18n="fw-update-btn">Confirmar Atualizacao</button>
              <div id="fw-status" style="margin-top:10px;color:#e74c3c;font-weight:bold;min-height:28px;text-align:center;width:100%;"></div>
              <div id="fw-status-text" style="margin-top:10px;color:#e74c3c;font-weight:bold;min-height:28px;text-align:center;width:100%;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <div id="progressModal" class="progress-modal">
    <div class="progress-backdrop"></div>
    <div class="progress-modal__content">
      <div class="progress-modal__header">
        <h3 class="text-lg font-semibold" id="progressStatus-label" data-i18n="progressStatus-label-Text">Atualizacao de Configuracao LUA</h3>
        <button id="progressCloseBtn" class="progress-modal__close">
          <i class="fas fa-times"></i> 
        </button>
      </div>
      <div class="progress-modal__body">
        <p class="text-gray-600 mb-2" id="progressStatus" data-i18n="progressStatus-Text">Processando...</p>
        <div class="progress-bar-back">
          <div id="progressBar" class="progress-bar__fill" style="width: 30%"></div>
        </div>
      </div>
    </div>
  </div>
  
  <script>


    //console.log('RadioMasterWeb_V1.6.2');
    

    window._appInitialized = false;
    

    window.addEventListener('error', function(event) {
      console.error('Global error:', event.error);
    });
    
    window.addEventListener('unhandledrejection', function(event) {
      console.error('Unhandled promise rejection:', event.reason);
    });
    

    function detectOS() {
      const userAgent = navigator.userAgent || navigator.appVersion || navigator.vendor || '';
      const platform = navigator.platform || '';
      

      if (userAgent.indexOf('Win') !== -1 || platform.indexOf('Win') !== -1) {
        return 'Windows';
      }
      

      if (userAgent.indexOf('Mac') !== -1 || platform.indexOf('Mac') !== -1) {
        return 'Mac';
      }
      

      if (userAgent.indexOf('Linux') !== -1 || platform.indexOf('Linux') !== -1) {
        return 'Linux';
      }
      

      if (userAgent.indexOf('iPhone') !== -1 || userAgent.indexOf('iPad') !== -1) {
        return 'iOS';
      }
      

      if (userAgent.indexOf('Android') !== -1) {
        return 'Android';
      }
      
      return 'Unknown';
    }
    

    const currentOS = detectOS();
    console.log('æ£€æµ‹åˆ°çš„æ“ä½œç³»ç»Ÿ:', currentOS);
    

    function checkSerialAPISupport() {
      if (!navigator.serial) {
        console.warn('Serial API not supported in this browser/environment');
        return false;
      }
      return true;
    }

    let _serialApi = null;
    async function initSerialApi() {
      if (navigator.serial) { _serialApi = navigator.serial; return; }
      try {
        const { SerialPolyfill } = await import('https://unpkg.com/@google/web-serial-polyfill@1.0.15/dist/serial.js');
        _serialApi = new SerialPolyfill();
        console.log('[Serial] Web Serial Polyfill carregado (Android/WebUSB)');
      } catch (e) {
        console.warn('[Serial] Polyfill nao disponivel:', e);
      }
    }
    initSerialApi();
    async function getSerialApi() {
      if (!_serialApi) await initSerialApi();
      return _serialApi;
    }
    

    if (!checkSerialAPISupport()) {
      console.log('Serial APIæ£€æŸ¥å¤±è´¥ï¼Œå°†åœ¨è¿žæŽ¥æ—¶æä¾›æ›´å¥½çš„é”™è¯¯ä¿¡æ¯');
    }
    

    let permissionsPolicyViolation = false;
    

    const originalConsoleError = console.error;
    console.error = function(...args) {
      const message = args.join(' ');
      if (message.includes('Permissions policy violation') && message.includes('serial')) {
        permissionsPolicyViolation = true;
        console.warn('âš ï¸ æ£€æµ‹åˆ°ä¸²å£æƒé™ç­–ç•¥è¿è§„ï¼Œåº”ç”¨å°†åœ¨å—é™æ¨¡å¼ä¸‹è¿è¡Œ');

        setTimeout(() => {
          const statusBox = document.getElementById('serial-status');
          if (statusBox) {
            statusBox.textContent = 'Limitacao de permissao detectada. Recomenda-se abrir o app em uma nova janela.';
            statusBox.style.color = '#ff6b6b';
          }
        }, 1000);
      }
      originalConsoleError.apply(console, args);
    };


    window._pageTasks = {
      timers: [],
      intervals: [],
      listeners: [],
      custom: [],
    };
    function stopAllTasks() {
      window._pageTasks.timers.forEach(id => clearTimeout(id));
      window._pageTasks.timers = [];
      window._pageTasks.intervals.forEach(id => clearInterval(id));
      window._pageTasks.intervals = [];
      window._pageTasks.listeners.forEach(({target, type, fn}) => {
        target.removeEventListener(type, fn);
      });
      window._pageTasks.listeners = [];
      window._pageTasks.custom.forEach(fn => { try { fn(); } catch(e) {} });
      window._pageTasks.custom = [];
    }

    document.getElementById('recv-hex').checked = true;
    const connectPage = document.getElementById('connect-page');
    const mainApp = document.getElementById('main-app');
    const connectBtn = document.getElementById('connect');
    const disconnectBtn = document.getElementById('disconnect');
    const sendBtn = document.getElementById('send');
    const inputBox = document.getElementById('input');
    const outputBox = document.getElementById('output');
    const statusBox = document.getElementById('serial-status');
    const sendMode = document.getElementById('send-mode');
    const recvHex = document.getElementById('recv-hex');
    //const baudrateInput = document.getElementById('baudrate');

    //baudrateInput.style.display = 'none';
    const clearOutputBtn = document.getElementById('clear-output');
    
    let port = null;
    let writer = null;
    let reader = null;
    let isSerialConnected = false;
    let netConfBuffer = [];
    let isReading = false;
    let ymodem =[];
    let recvMidAdc = [];
    let upDataFlag = 0;
    let upDataDev = "remote";
    let channelMap = {};

    let currentBaudRate = (currentOS === 'Windows') ? 420000 : 460800;
    let baudRateDetectionActive = false;
    let rxLuaStats = 0;
    let txLuaStats = 0;
    let progressTimer = null;
    let progressInterval = null;
    let isProcessing = false;

    //let currentLang = localStorage.getItem('lang') || 'zh';//|| 'auto';
    let currentLang = 'zh';
    
    let g_linkState = {
      upLinkRssiAnt1: 0,
      upLinkRssiAnt2: 0,           // uint8_t
      upLinkPackageSuccessRate: 0, // uint8_t
      upLinkSNR: 0,
      diversityActiveAntenna: 0,   // uint8_t
      rfMode: 0,
      upLinkTxPower: 0,
      downLinkRssi: 0,             // uint8_t
      downLinkPackSuccessRate: 0,  // uint8_t
      downLinkSNR: 0,              // int8_t
      connectFlag: ''
  };


    const menuBtns = document.querySelectorAll('.menu-btn');
    const mainPages = document.querySelectorAll('.main-page');

    const pageInits = {
      comm: initCommPage,
      attr: initAttrPage,
      config: initConfigPage,
      net: initNetPage,
      calib: initCalibPage,
      fw: initFwPage,
    };


    window._currentPage = null;


    function showMainPage(page) {
      if (window._currentPage === page) return;
      window._currentPage = page;
      stopAllTasks();
      mainPages.forEach(p => p.style.display = 'none');
      document.getElementById('page-' + page).style.display = '';
      menuBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.page === page));

      if (pageInits[page]) pageInits[page]();
      //updateAllLangText();
    }
    menuBtns.forEach(btn => {
      btn.onclick = () => showMainPage(btn.dataset.page);
      //updateAllLangText();
    });

    function showCommPage() {
      connectPage.style.display = 'none';
      mainApp.style.display = '';
      showMainPage('comm');
      inputBox.focus();
      //updateAllLangText();  
    }

    function showConnectPage() {
      connectPage.style.display = '';
      mainApp.style.display = 'none';
      statusBox.textContent = 'Desconectado';
      connectBtn.textContent = 'Conectar';
      connectBtn.disabled = false;
      //baudrateInput.disabled = false;
      inputBox.value = '';
      outputBox.textContent = '';
      //updateAllLangText();
    }


    const deviceInfoBar = document.getElementById('device-info-bar');
    const batteryBarFill = document.getElementById('battery-bar-fill');
    const batteryBarNum = document.getElementById('battery-bar-num');
    function updateDeviceInfoBar() {

      let percent = 0;

      if (window.deviceStats && typeof window.deviceStats.txBattery === 'number' && !isNaN(window.deviceStats.txBattery)) {
        percent = window.deviceStats.txBattery;
      } else if (window._batteryPercent !== undefined) {
        percent = window._batteryPercent;
      }
      if(percent>100) percent=100;
      else if(percent<0) percent=0;
      
      const batteryFill = document.getElementById('battery-bar-fill');
      const batteryHeadFill = document.querySelector('.battery-head-fill');

      batteryFill.style.width = `${(percent / 100) * 27}px`;
      batteryBarNum.textContent = percent + '%';

      const batteryState = percent > 60 ? 'high' : percent > 40 ? 'medium' : percent > 20 ? 'medium' : 'low';
      batteryFill.className = 'battery-inner ' + batteryState;

      if (batteryHeadFill) {
        batteryHeadFill.style.background = 
          batteryState === 'high' ? '#2ecc71' : 
          batteryState === 'medium' ? '#f1c40f' : '#e74c3c';
        batteryHeadFill.classList.toggle('show', percent >= 95);
      }
      deviceInfoBar.style.display = 'flex';
    }
    function hideDeviceInfoBar() {
      deviceInfoBar.style.display = 'none';
    }




    connectBtn.onclick = async () => {
      if (isSerialConnected) return;
      connectBtn.disabled = true;
      statusBox.textContent =LANGS[currentLang]['connecting'];
      try {

        
        statusBox.textContent = '[1/4] Carregando API serial...';
        const serialApi = await getSerialApi();
        if (!serialApi) {
          throw new Error('Serial API nao disponivel. Use Chrome/Edge desktop ou Chrome Android com USB OTG.');
        }
        console.log('æ­£åœ¨è¯·æ±‚ä¸²å£æƒé™...');

        statusBox.textContent = '[2/4] Aguardando selecao da porta USB...';
        await new Promise(resolve => setTimeout(resolve, 100));
        const selectedPort = await serialApi.requestPort().catch(err => {
          console.error('ä¸²å£æƒé™è¯·æ±‚å¤±è´¥:', err);
          if (err.name === 'NotAllowedError') {
            throw new Error(LANGS[currentLang]['serial-permission-denied']);
          } else if (err.name === 'NotFoundError') {
            throw new Error(LANGS[currentLang]['serial-not-found']);
          } else {
            throw new Error(LANGS[currentLang]['serial-access-failed'] + err.message);
          }
        });

        let baudRate = 460800;
        if (currentOS === 'Windows') {

          baudRate = 420000;
          try {
            console.log('[BaudRate] Windowsç³»ç»Ÿï¼šå°è¯•ä½¿ç”¨420000æ³¢ç‰¹çŽ‡è¿žæŽ¥...');
            await selectedPort.open({ baudRate: 420000 });
            currentBaudRate = 420000;
            console.log('[BaudRate] æˆåŠŸä½¿ç”¨420000æ³¢ç‰¹çŽ‡è¿žæŽ¥');
          } catch (error) {
            console.warn('[BaudRate] 420000æ³¢ç‰¹çŽ‡è¿žæŽ¥å¤±è´¥:', error.message);
            console.log('[BaudRate] åˆ‡æ¢åˆ°460800æ³¢ç‰¹çŽ‡å°è¯•è¿žæŽ¥...');
            try {

              if (selectedPort.readable) {
                await selectedPort.close();
              }
              await selectedPort.open({ baudRate: 460800 });
              baudRate = 460800;
              currentBaudRate = 460800;
              console.log('[BaudRate] æˆåŠŸä½¿ç”¨460800æ³¢ç‰¹çŽ‡è¿žæŽ¥');
            } catch (error2) {
              console.error('[BaudRate] 460800æ³¢ç‰¹çŽ‡è¿žæŽ¥ä¹Ÿå¤±è´¥:', error2.message);
              throw new Error('æ— æ³•ä½¿ç”¨420000æˆ–460800æ³¢ç‰¹çŽ‡è¿žæŽ¥: ' + error2.message);
            }
          }
        } else {

          console.log(`[BaudRate] ${currentOS}ç³»ç»Ÿï¼šç›´æŽ¥ä½¿ç”¨460800æ³¢ç‰¹çŽ‡è¿žæŽ¥ï¼ˆä¸æ”¯æŒ420000ï¼‰`);
          try {
            await selectedPort.open({ baudRate: 460800 });
            baudRate = 460800;
            currentBaudRate = 460800;
            console.log('[BaudRate] æˆåŠŸä½¿ç”¨460800æ³¢ç‰¹çŽ‡è¿žæŽ¥');
          } catch (error) {
            console.error('[BaudRate] 460800æ³¢ç‰¹çŽ‡è¿žæŽ¥å¤±è´¥:', error.message);
            throw new Error('æ— æ³•ä½¿ç”¨460800æ³¢ç‰¹çŽ‡è¿žæŽ¥: ' + error.message);
          }
        }
        statusBox.textContent = '[4/4] Abrindo conexao...';
        port = selectedPort;
        writer = port.writable.getWriter();
        reader = port.readable.getReader();
        isSerialConnected = true;

        let portInfo = 'Conectado';
        const info = port.getInfo();
        if (port.getInfo && (info.usbVendorId || info.usbProductId)) {
          portInfo += ` (VID:${info.usbVendorId ? info.usbVendorId.toString(16).toUpperCase() : ''}`;
          portInfo += info.usbProductId ? ` PID:${info.usbProductId.toString(16).toUpperCase()}` : '';
          portInfo += ')';
        }
        if (port.friendlyName) {
          portInfo = 'Conectado: ' + port.friendlyName;
        }
        statusBox.textContent = portInfo;
        //baudrateInput.disabled = true;
        updateDeviceInfoBar();

        if(upDataFlag==1)
        {
          if(window.confirm(LANGS[currentLang]['confirm-update'])) {
            window._deviceInfo = undefined;
            showMainPage('fw');
            initFwPage();
          }
          else
          {
            window._deviceInfo = undefined;
            showMainPage('attr');
            upDataFlag = 0;
          }
        }
        else 
        {
          showMainPage('attr');
        }

        mainApp.style.display = '';
        connectPage.style.display = 'none';

        onSerialConnected();
        readLoop();}
      } catch (err) {
        statusBox.textContent =LANGS[currentLang]['connect-failed'] + err;
        connectBtn.disabled = false;
      }
    };


    document.getElementById('fw-device-type').onchange =  async() => {
      upDataDev = document.getElementById('fw-device-type').value;
      console.log("upDataDev:",upDataDev);
    }



    async function switchBaudRate(newBaudRate) {
      if (!port || !isSerialConnected) {
        console.error('[BaudRate] æ— æ³•åˆ‡æ¢æ³¢ç‰¹çŽ‡ï¼šä¸²å£æœªè¿žæŽ¥');
        return false;
      }
      
      try {
        console.log(`[BaudRate] æ­£åœ¨åˆ‡æ¢æ³¢ç‰¹çŽ‡: ${currentBaudRate} -> ${newBaudRate}`);
        

        isSerialConnected = false;
        

        if (reader) {
          try {
            await reader.cancel();
            reader.releaseLock();
          } catch (e) {
            console.warn('[BaudRate] é‡Šæ”¾readeræ—¶å‡ºé”™:', e);
          }
          reader = null;
        }
        

        if (writer) {
          try {
            writer.releaseLock();
          } catch (e) {
            console.warn('[BaudRate] é‡Šæ”¾writeræ—¶å‡ºé”™:', e);
          }
          writer = null;
        }
        

        try {
          await port.close();
        } catch (e) {
          console.warn('[BaudRate] å…³é—­ä¸²å£æ—¶å‡ºé”™:', e);
        }
        

        await port.open({ baudRate: newBaudRate });
        

        writer = port.writable.getWriter();
        reader = port.readable.getReader();
        

        currentBaudRate = newBaudRate;
        isSerialConnected = true;
        

        readLoop();
        
        console.log(`[BaudRate] æ³¢ç‰¹çŽ‡åˆ‡æ¢æˆåŠŸ: ${newBaudRate}`);
        return true;
      } catch (error) {
        console.error(`[BaudRate] åˆ‡æ¢æ³¢ç‰¹çŽ‡å¤±è´¥ (${newBaudRate}):`, error);
        isSerialConnected = false;
        return false;
      }
    }


    disconnectBtn.onclick = async () => {
      if (!isSerialConnected) return;
      try {
        isSerialConnected = false;
        if (reader) { await reader.cancel(); reader.releaseLock(); }
        if (writer) writer.releaseLock();
        if (port) await port.close();
      } catch (e) {}
      port = null; writer = null; reader = null;
      showConnectPage();
      hideDeviceInfoBar();
    };


    const manualBaudrateInput = document.getElementById('manual-baudrate');
    const applyBaudrateBtn = document.getElementById('apply-baudrate');
    

    if (manualBaudrateInput) {
      manualBaudrateInput.value = currentBaudRate;
    }
    

    applyBaudrateBtn.onclick = async () => {
      if (!isSerialConnected) {
        alert('Conecte a porta serial primeiro');
        return;
      }
      
      const newBaudRate = parseInt(manualBaudrateInput.value);
      

      if (isNaN(newBaudRate) || newBaudRate < 1200 || newBaudRate > 921600) {
        alert('Please enter a valid baud rate.ï¼ˆ1200-921600ï¼‰');
        return;
      }
      

      if (newBaudRate === currentBaudRate) {
        alert(`The current baud rate is already ${newBaudRate} `);
        return;
      }
      

      applyBaudrateBtn.disabled = true;
      applyBaudrateBtn.textContent = LANGS[currentLang]['bauding'];
      applyBaudrateBtn.style.opacity = '0.6';
      
      try {
        const success = await switchBaudRate(newBaudRate);
        if (success) {
          alert(`Taxa de baud alterada com sucesso para ${newBaudRate}`);

          manualBaudrateInput.value = currentBaudRate;
        } else {
          alert(`Falha ao alterar a taxa de baud. Verifique se é suportada`);
        }
      } catch (error) {
        console.error('Erro ao alterar a taxa de baud:', error);
        alert(`Erro ao alterar a taxa de baud: ${error.message}`);
      } finally {

        applyBaudrateBtn.disabled = false;
        applyBaudrateBtn.textContent = LANGS[currentLang]['baud-enter-btn'];
        applyBaudrateBtn.style.opacity = '1';
      }
    };
    

    if (manualBaudrateInput) {
      manualBaudrateInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          applyBaudrateBtn.click();
        }
      });
    }


    sendBtn.onclick = async () => {
      const data = inputBox.value.trim(); 
      if (!writer || !data) return;
      if (sendMode.value === 'hex') {

        try {
          let bytes = [];

          const hasSpace = /\s/.test(data);
          const noSpace = !hasSpace;

          if (hasSpace && /[^0-9a-fA-F\/s]/.test(data)) throw new Error('Apenas caracteres 0-9 A-F e espaços são permitidos');
          if (hasSpace && /[0-9a-fA-F]{3,}/.test(data.replace(/\s+/g, ' '))) throw new Error('Com separação por espaço, cada grupo pode ter no máximo 2 dígitos');
          if (hasSpace && /[0-9a-fA-F]{1,2}(\s+[0-9a-fA-F]{1,2})*/.test(data.replace(/ +/g, ' ')) && /[0-9a-fA-F]{3,}/.test(data.replace(/\s+/g, ' '))) throw new Error('Com separação por espaço, cada grupo pode ter no máximo 2 dígitos');
          if (hasSpace) {

            const parts = data.split(/\s+/).filter(Boolean);
            for (let part of parts) {
              if (!/^[0-9a-fA-F]{1,2}$/.test(part)) throw new Error('Com separação por espaço, cada grupo deve ter 1 a 2 dígitos hexadecimais');
              if (part.length === 1) part = '0' + part;
              bytes.push(parseInt(part, 16));
            }
          } else {

            if (!/^[0-9a-fA-F]+$/.test(data)) throw new Error('Apenas caracteres 0-9 A-F são permitidos');
            if (data.length % 2 !== 0) throw new Error('Na entrada contínua, o número de dígitos deve ser par');
            for (let i = 0; i < data.length; i += 2) {
              bytes.push(parseInt(data.substr(i, 2), 16));
            }
          }
          await writer.write(new Uint8Array(bytes));
        } catch (e) {
          alert('Entrada hexadecimal invalida: ' + e.message);
        }
      } else {

        const encoder = new TextEncoder();
        await writer.write(encoder.encode(data + '\n'));
      }

    };


    clearOutputBtn.onclick = () => {
      outputBox.textContent = '';
    };


    let serialBuffer = [];
    let globalBuffer = new Uint8Array(4096);
    let globalBufferLen = 0;
    let globalBufferTimeout = null;
    //let devAttrBufferTimeout = null;
    const DEV_ATTR_BUFFER_MAX = 4000;

    function tryParseDevAttrBuffer() {

      while (serialBuffer.length >= 3) {
        const cmd = serialBuffer[0];
        const len = serialBuffer[1];
        const totalLen = 2 + len; // [cmd][len][data+crc]
        if (len < 1 || totalLen > DEV_ATTR_BUFFER_MAX) {

          console.warn('[serialBuffer] é•¿åº¦å¼‚å¸¸ï¼Œæ¸…ç©ºç¼“å†²åŒº', len, totalLen);
          serialBuffer = [];
          return;
        }
        if (serialBuffer.length < totalLen) {

          break;
        }

        const packet = serialBuffer.slice(0, totalLen);
        const data = packet.slice(2, totalLen - 1);
        const crc = packet[totalLen - 1];
        const calcCrc = crc8tab_js(data, data.length);
        if (crc !== calcCrc) {

          console.warn('[serialBuffer] CRCæ ¡éªŒå¤±è´¥ï¼Œæ¸…ç©ºç¼“å†²åŒº', crc, calcCrc);
          serialBuffer = [];
          return;
        }


        if (typeof parseYourData === 'function') {
          try { parseYourData(cmd, data); } catch(e) { console.error(e); }
        } else {
          console.log('[serialBuffer] è§£æžå‡ºåŒ…', cmd, data);
        }

        serialBuffer = serialBuffer.slice(totalLen);

      }

      if (serialBuffer.length > DEV_ATTR_BUFFER_MAX) {
        serialBuffer = serialBuffer.slice(serialBuffer.length - DEV_ATTR_BUFFER_MAX);
      }
    }

    async function readLoop() {
      if (isReading) return;
      isReading = true;
      const decoder = new TextDecoder();
      const commOutputBox = document.getElementById('output');
      let abnormalCount = 0;
      let devAttrTimeout = null;
      let loopTimeout = null;


      if (window._waitingDevAttr) clearTimeout(window._waitingDevAttr);
      window._waitingDevAttr = setTimeout(() => {

      }, 2000);
      

      loopTimeout = setTimeout(() => {

        isReading = false;
      }, 30000);
      
      while (isSerialConnected) {
        try {
          const { value, done } = await reader.read();
          if (done) break;
          if (value) 
          {

            if(window._currentPage === 'net')
            {
            netConfBuffer.push(...value);
            while (netConfBuffer.length >= 5) {
              if(netConfBuffer[0]==0x23 && netConfBuffer[1]==0x03 )

              {
                let tmpChar1 =  netConfBuffer[netConfBuffer[1]+1] ;
                let tmpChar  = crc8tab_js(netConfBuffer+2,netConfBuffer[1]-1)
                netConfBuffer.splice(0,5);
                continue;
              }
              else if(netConfBuffer[0]==0x67 && netConfBuffer[1]==12 &&netConfBuffer.length>=14) 
              {
              // else if(netConfBuffer[0]==0x67 && netConfBuffer[1]==12 &&netConfBuffer.length>=14) 
              // {&& 
              // 
              // netConfBuffer[netConfBuffer[1]+1] == crc8tab_js(netConfBuffer+2, netConfBuffer[1]-1)
                let tmpChar1 = netConfBuffer[netConfBuffer[1]+1] ;
                let tmpChar  = crc8tab_js(netConfBuffer+2,netConfBuffer[1]-1)
                netConfBuffer.splice(0,14);
                continue;
              }

              let bigLen = 0;
              if(netConfBuffer[0]==0x56)
              {
                bigLen = (netConfBuffer[1] << 8) | netConfBuffer[2] ;
              }
              else
              {
                bigLen = (netConfBuffer[0] << 8) | netConfBuffer[1];
              }
              //console.log('bigLen:', bigLen);
              //console.log('bignetConfBufferLen:', netConfBuffer);


              if (bigLen < 2 || bigLen > 8192) {
                abnormalCount++;

                const before = netConfBuffer.length;
                netConfBuffer.shift();
                if (netConfBuffer.length === before) {


                  break;
                }
                if (abnormalCount > 10) {

                  netConfBuffer = [];
                  abnormalCount = 0;

                  break;
                }
                continue;
              } else {
                abnormalCount = 0;
              }
              
              //console.log('netConfBuffer:', netConfBuffer);
              if (netConfBuffer.length >= bigLen) {
                console.log('netConfBuffer:', netConfBuffer);
                // let PackSize = bigPacket[1]*256+bigPacket[2];
                // if(PackSize>bigLen)
                // {
                //   break;
                // }
                if(netConfBuffer[netConfBuffer.length-3]  !=crc8tab_js(netConfBuffer,netConfBuffer.length-3))
                {
                  let tmpdata = crc8tab_js(netConfBuffer,netConfBuffer.length-3);
                  netConfBuffer = [];
                  console.log("lua crcé”™è¯¯");
                  break;
                }

                const bigPacket = new Uint8Array(netConfBuffer.slice(0, bigLen));
                const container = document.getElementById('wireless-settings');
                if (container) container.innerHTML = '';
                parseCRSFPacket(bigPacket);
                netConfBuffer = netConfBuffer.slice(bigLen);
                setTimeout(() => {
                  //document.getElementById('refresh-settings').disabled = false;
                  document.getElementById('settings-status').textContent =LANGS[currentLang]['refresh-done'];
                  //document.getElementById('refresh-settings-rx').disabled = false;
                  document.getElementById('settings-status-rx').textContent =LANGS[currentLang]['refresh-done']; 
                }, 400);
                // document.getElementById('refresh-settings').disabled = false;
                // document.getElementById('settings-status').textContent =LANGS[currentLang]['refresh-done'];
                // document.getElementById('refresh-settings-rx').disabled = false;
                // document.getElementById('settings-status-rx').textContent =LANGS[currentLang]['refresh-done']; 
                  netConfBuffer = [];               
                } else {
                  break;
                }

              // if (netConfBuffer.length >= 3) {




              //   const bigLen = 1 + 2 + lenField + 2; // == lenField + 5

              //   if (netConfBuffer.length >= bigLen) {

              //     const bigPacket = new Uint8Array(netConfBuffer.slice(0, bigLen));



              //     const crcIndex = bigPacket.length - 3;

              //     if (bigPacket[crcIndex] !== computedCrc) {


              //       netConfBuffer = netConfBuffer.slice(bigLen);
              //       break;
              //     }




              //     const crsfStart = 3;

              //     const crsfPacket = bigPacket.slice(crsfStart, crsfStart + crsfLen);


              //     const container = document.getElementById('wireless-settings');
              //     if (container) container.innerHTML = '';


              //     parseCRSFPacket(crsfPacket);


              //     netConfBuffer = netConfBuffer.slice(bigLen);


              //     setTimeout(() => {
              //       const refreshBtn = document.getElementById('refresh-settings');
              //       if (refreshBtn) refreshBtn.disabled = false;
              //       const status = document.getElementById('settings-status');
              //       if (status) status.textContent = LANGS[currentLang]['refresh-done'];
              //       const statusRx = document.getElementById('settings-status-rx');
              //       if (statusRx) statusRx.textContent = LANGS[currentLang]['refresh-done'];
              //     }, 400);
              //   } // end if netConfBuffer.length >= bigLen
              // } // end if netConfBuffer.length >= 3

              }
            }
            else
            {
              serialBuffer.push(...value);

            // if (devAttrBufferTimeout) clearTimeout(devAttrBufferTimeout);
            // devAttrBufferTimeout = setTimeout(() => {
            //   if (serialBuffer.length > 0) {

            //     serialBuffer = [];
            //   }
            // }, 500);
            //tryParseDevAttrBuffer();



            // else if(value[0] === 0xFF && value.length > 60)
            // {


            //   const devInfo = parseDeviceInfoPacket(value);
            //   if (devInfo) {
            //     window._deviceInfo = devInfo;
            //     renderDeviceInfoPage();
            //     if (window._waitingDevAttr) clearTimeout(window._waitingDevAttr);
            //   }
            // }
            // else if(value[0] === 0xFF && value.length > 60)
            // {


            // }
          }


          if (commOutputBox) {
            const now = new Date().toLocaleTimeString();
            if (recvHex && recvHex.checked) {
              const hexStr = Array.from(value).map(b => b.toString(16).padStart(2, '0')).join(' ');
              commOutputBox.textContent += `\n[${now}] [RECV] ${hexStr}`;
            } else {
              const textStr = decoder.decode(new Uint8Array(value));
              commOutputBox.textContent += `\n[${now}] [RECV] ${textStr}`;
            }
            commOutputBox.scrollTop = commOutputBox.scrollHeight;
          }
      
          }
        } catch (error) {
           console.error('è¯»å–æ•°æ®é”™è¯¯'+error);
          break;
        }
      }

      if (loopTimeout) clearTimeout(loopTimeout);
      isReading = false;
    }


    getSerialApi().then(api => {
      if (!api) return;
      api.addEventListener('disconnect', (event) => {
        if (isSerialConnected && port === event.target) {
          updateSignalStrength(0);
          if(upDataFlag==2)
          {
            location.reload(true); 

          }
          else
          {
            isSerialConnected = false;
            port = null; writer = null; reader = null;
            showConnectPage();
            //hideDeviceInfoBar();
            updateDeviceInfoBar();
            updateAllLangText();
          }
        }
      });


      api.addEventListener('connect', (event) => {
        console.log('æ£€æµ‹åˆ°æ–°çš„ä¸²å£è®¾å¤‡å·²è¿žæŽ¥:', event);

        if (!isSerialConnected) {
          const currentStatus = statusBox.textContent;
          const disconnectedText = LANGS[currentLang]['connect-status'] || 'Desconectado';

          if (currentStatus === disconnectedText || currentStatus === 'Desconectado' || currentStatus === 'Disconnected') {
            const newDeviceText = LANGS[currentLang]['new-device-detected'] || 'Novo dispositivo detectado, clique em Conectar';
            statusBox.textContent = newDeviceText;
            statusBox.style.color = '#3358e0';

            setTimeout(() => {
              if (!isSerialConnected && statusBox.textContent === newDeviceText) {
                statusBox.textContent = disconnectedText;
                statusBox.style.color = '';
              }
            }, 3000);
          }
        }
      });
    });


    showConnectPage();
    hideDeviceInfoBar();


    document.getElementById('logo-img').onclick = () => {
      showMainPage('attr');
    };


    batteryBarFill.style.width = '100';
    batteryBarNum.textContent = '100%';

    updateDeviceInfoBar();



    if (!window._crsfParamChunkCache) window._crsfParamChunkCache = new Map();
    if (!window._crsfLastParamNum) window._crsfLastParamNum = null;
    if (!window._crsfLastChunkNum) window._crsfLastChunkNum = null;

    if (!window._crsfParamDataMap) window._crsfParamDataMap = new Map();


    function parseParamData(paramData) {
      let p = 0;
      const parentFolder = paramData[p++];
      const dataType = paramData[p++];
      const baseType = dataType & 0x7F;
      const hidden = (dataType & 0x80) !== 0;

      let nameEnd = p;
      while (paramData[nameEnd] !== 0) 
      {
        nameEnd++;
        if(nameEnd>400)
        {
          console.error('unité•¿åº¦å¼‚å¸¸');
          break;
        }
      }
      let name = new TextDecoder().decode(paramData.slice(p, nameEnd));
      //name = name.replace(/[^0-9a-zA-Z$$\-:;.\/ ]/g, '');
      p = nameEnd + 1;
      let value = null, min = null, max = null, def = null, unit = '', decimal = null, step = null, strMaxLen = null, options = null, status = null, timeout = null, info = null;
      if ([0,1].includes(baseType)) { // UINT8/INT8
        value = paramData[p++]; min = paramData[p++]; max = paramData[p++]; def = paramData[p++];
        let unitEnd = p; 
        while (paramData[unitEnd] !== 0) 
        {
          unitEnd++;
          if(unitEnd>400)
          {
            console.error('unité•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        unit = new TextDecoder().decode(paramData.slice(p, unitEnd));
        //unit = unit.replace(/[^0-9a-zA-Z$$\-:;.\/ ]/g, '');
        p = unitEnd + 1;
      } else if ([2,3].includes(baseType)) { // UINT16/INT16
        value = paramData[p] | (paramData[p+1] << 8); p += 2;
        min = paramData[p] | (paramData[p+1] << 8); p += 2;
        max = paramData[p] | (paramData[p+1] << 8); p += 2;
        def = paramData[p] | (paramData[p+1] << 8); p += 2;
        let unitEnd = p; 
        while (paramData[unitEnd] !== 0) 
        {
          unitEnd++;
          if(unitEnd>400)
          {
            console.error('unité•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        unit = new TextDecoder().decode(paramData.slice(p, unitEnd));
        //unit = unit.replace(/[^0-9a-zA-Z$$\-:;.\/ ]/g, '');
        p = unitEnd + 1;
      } else if (baseType === 8) { // FLOAT
        value = (paramData[p] | (paramData[p+1]<<8) | (paramData[p+2]<<16) | (paramData[p+3]<<24)); p += 4;
        min = (paramData[p] | (paramData[p+1]<<8) | (paramData[p+2]<<16) | (paramData[p+3]<<24)); p += 4;
        max = (paramData[p] | (paramData[p+1]<<8) | (paramData[p+2]<<16) | (paramData[p+3]<<24)); p += 4;
        def = (paramData[p] | (paramData[p+1]<<8) | (paramData[p+2]<<16) | (paramData[p+3]<<24)); p += 4;
        decimal = paramData[p++];
        step = (paramData[p] | (paramData[p+1]<<8) | (paramData[p+2]<<16) | (paramData[p+3]<<24)); p += 4;
        let unitEnd = p; 
        while (paramData[unitEnd] !== 0) 
        {
          unitEnd++;
          if(unitEnd>400)
          {
            console.error('unité•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        unit = new TextDecoder().decode(paramData.slice(p, unitEnd));
        //unit = unit.replace(/[^0-9a-zA-Z$$\-;:.\/ ]/g, '');
        p = unitEnd + 1;
      } else if (baseType === 9) { // TEXT_SELECTION
        let optsEnd = p; 
        while (paramData[optsEnd] !== 0) 
        {
          optsEnd++;
          if(optsEnd>400)
          {
            console.error('optsEndé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        let optionsStr = new TextDecoder().decode(paramData.slice(p, optsEnd));
        //optionsStr = optionsStr.replace(/[^0-9a-zA-Z$$\-;:.\/ ]/g, '');
        options = optionsStr.split(';');
        p = optsEnd + 1;
        value = paramData[p++];
        min = paramData[p++];
        max = paramData[p++];
        def = paramData[p++];
        let unitEnd = p; 
        while (paramData[unitEnd] !== 0) 
        {
          unitEnd++;
          if(unitEnd>400)
          {
            console.error('unitEndé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        unit = new TextDecoder().decode(paramData.slice(p, unitEnd));
        //unit = unit.replace(/[^0-9a-zA-Z$$\-;:.\/ ]/g, '');
        p = unitEnd + 1;
      } else if (baseType === 10) { // STRING
        strMaxLen = paramData[p++];
        let strEnd = p; 
        while (paramData[strEnd] !== 0) 
        {
          strEnd++;
          if(strEnd>400)
          {
            console.error('strEndé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        value = new TextDecoder().decode(paramData.slice(p, strEnd));
        //value = value.replace(/[^0-9a-zA-Z$$\-;:.\/ ]/g, '');
        p = strEnd + 1;
        let defEnd = p; 
        while (paramData[defEnd] !== 0) 
        {
          defEnd++;
          if(defEnd>400)
          {
            console.error('defé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        def = new TextDecoder().decode(paramData.slice(p, defEnd));
        //def = def.replace(/[^0-9a-zA-Z$$\-;:.\/ ]/g, '');
        p = defEnd + 1;
      } else if (baseType === 11) { // FOLDER
        // nothing more
      } else if (baseType === 12) { // INFO
        let infoEnd = p; 
        while (paramData[infoEnd] !== 0) 
        {
          infoEnd++;
          if(infoEnd>400)
          {
            console.error('infoEndé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        value = new TextDecoder().decode(paramData.slice(p, infoEnd));
        //value = value.replace(/[^0-9a-zA-Z$$\-:;\/ ]/g, ''); 
        p = infoEnd + 1;
      } else if (baseType === 13) { // COMMAND
        status = paramData[p++];
        timeout = paramData[p++];
        let infoEnd = p; 
        
        while (paramData[infoEnd] !== 0)
        {
          infoEnd++;
          if(infoEnd>400)
          {
            console.error('infoEndé•¿åº¦å¼‚å¸¸');
            break;
          }
        }
        info = new TextDecoder().decode(paramData.slice(p, infoEnd));
        //info = info.replace(/[^0-9a-zA-Z$$\-:;\/ ]/g, '');
        p = infoEnd + 1;
      }
      return { parentFolder, dataType, baseType, hidden, name, value, min, max, def, unit, decimal, step, strMaxLen, options, status, timeout, info };
    }


    function parseCRSFPacket(bigPacket) {
      // let i = 0;



      //   if (bigPacket[i] === 0x23 && bigPacket[i + 1] === 0x03) {

      //   } else {

      //   }
      // }

      if(bigPacket[0]==0x56)
      {
        bigPacket = bigPacket.slice(1);
      }


      if (!bigPacket || bigPacket.length < 4) return 'Dados muito curtos';
      let rxOrTx = '';

      if (bigPacket.length > 8) {

        const  b1 = bigPacket[5], b2 = bigPacket[6];


        if (b1 === 0xEE && b2 === 0xEC) {
          rxOrTx = 'RX';
          console.log('è¯†åˆ«åˆ°ç±»åž‹: RX');
        } else if (b1 === 0xEA && b2 === 0xEE) {
          rxOrTx = 'TX';
          console.log('è¯†åˆ«åˆ°ç±»åž‹: TX');
        } else {
          console.log('æœªè¯†åˆ«åˆ°RX/TXç±»åž‹');
        }
      }

      const pageNet = document.getElementById('page-net');
      if (pageNet) {
        const titles = pageNet.getElementsByClassName('comm-title');
        for (let i = 0; i < titles.length; i++) {
          if (titles[i].textContent.startsWith(LANGS['lua-config'])) {
            titles[i].textContent =LANGS[currentLang]['lua-config'] + (rxOrTx ? ` (${rxOrTx})` : '');
          }
        }
      }

      let offset = 2;
      const paramChunkCache = new Map(); // paramNum -> {chunks:[], chunkNums:Set}
      let index = 0;
      while (offset + 2 < bigPacket.length) {
        const head = bigPacket[offset];
        const len = bigPacket[offset+1];
        const type = bigPacket[offset+2];
        if (len === 0) {
          offset++;
          continue;
        }
        const packetTotalLen = 2 + len;
        if (offset + packetTotalLen > bigPacket.length) break;
        const pkt = bigPacket.slice(offset + 2, offset + 2 + len - 1 ); // pkt[0]=type
        if (type === 0x2B) {
          let po = 0;
          po++;
          const srcNode = pkt[po++];
          const dstNode = pkt[po++];
          const paramNum = pkt[po++];
          const chunkNum = pkt[po++];
          if (!paramChunkCache.has(paramNum)) paramChunkCache.set(paramNum, { chunks: [], chunkNums: new Set() });
          const entry = paramChunkCache.get(paramNum);
          if (entry.chunkNums.has(chunkNum)) {
            offset += packetTotalLen;
            continue;
          }
          entry.chunkNums.add(chunkNum);
          entry.chunks.push(pkt.slice(po));
        } else if (type === 0x29) {

          let po = 0;
          po++;


          if (pkt.length > 2) {


            let nameStart = po;
            if (pkt.length > 3) {

              nameStart = po + 2;
            }

            const nameBytes = [];
            for (let i = nameStart; i < pkt.length; i++) {
              if (pkt[i] === 0) break;
              if (pkt[i] < 32 || pkt[i] > 126) break;
              nameBytes.push(pkt[i]);
            }

            if (nameBytes.length > 0) {
              const name = String.fromCharCode(...nameBytes).trim();
              if (name) {

                window._crsfPingName = name;

                updatePingNameDisplay(name);

              }
            }
          }
        }
        offset += packetTotalLen;
      }

      const paramDataMap = new Map();
      for (const [paramNum, entry] of paramChunkCache.entries()) {
        const fullData = new Uint8Array([].concat(...entry.chunks.map(a => Array.from(a))));
        paramDataMap.set(paramNum, fullData);
      }

      const paramList = [];
      for (const [paramNum, paramData] of paramDataMap.entries()) {
        const paramObj = parseParamData(paramData);
        paramObj.paramNum = paramNum;
        paramList.push(paramObj);
      }

      paramList.sort((a, b) => a.paramNum - b.paramNum);

      const container = document.getElementById('wireless-settings');
      container.innerHTML = '';
      renderParameterControls(paramList, container);
      return paramList;
    }


    function updatePingNameDisplay(name) {

      const pageNet = document.getElementById('page-net');
      if (!pageNet) {
        console.warn('[CRSF] page-net æœªæ‰¾åˆ°ï¼Œæ— æ³•æ˜¾ç¤ºpingåå­—');
        return;
      }
      

      const commContainer = pageNet.querySelector('.comm-container');
      if (!commContainer) {
        console.warn('[CRSF] comm-container æœªæ‰¾åˆ°');
        return;
      }
      
      const titleRow = commContainer.children[0];
      if (!titleRow) {
        console.warn('[CRSF] æ ‡é¢˜è¡Œæœªæ‰¾åˆ°ï¼Œæ— æ³•æ˜¾ç¤ºpingåå­—');
        return;
      }
      

      if (titleRow.style.display !== 'flex') {
        titleRow.style.display = 'flex';
      }
      if (!titleRow.style.justifyContent) {
        titleRow.style.justifyContent = 'space-between';
      }
      if (!titleRow.style.alignItems) {
        titleRow.style.alignItems = 'center';
      }
      

      let pingNameDisplay = document.getElementById('crsf-ping-name');
      if (!pingNameDisplay) {
        pingNameDisplay = document.createElement('div');
        pingNameDisplay.id = 'crsf-ping-name';
        pingNameDisplay.style.cssText = 'color:#3358e0;font-weight:bold;font-size:1.1em;margin-left:auto;padding:6px 12px;background:#f4f8ff;border-radius:6px;box-shadow:0 1px 4px rgba(79,140,255,0.15);white-space:nowrap;';

        titleRow.appendChild(pingNameDisplay);
      }
      

      pingNameDisplay.textContent = name;
      pingNameDisplay.style.display = 'block';

    }


    async function sendParameterSet(param, value) {
      if (!writer) return;


      let val = Number(value);
      const arr = [0xA5, 0x12, param.id, val, 0x0D, 0x0A];
      await writer.write(new Uint8Array(arr));
    }


    async function refreshSettings() {
      console.log('freshSettingsTx: running');
      if (!writer) return;
      const refreshCmd = new Uint8Array([0xA5, 0x11, 0x00, 0x0D, 0x0A]);
      try {
        const statusElem = document.getElementById('settings-status');
        statusElem.textContent = LANGS[currentLang]['refresh-getting'];
        await writer.write(refreshCmd);
        window._lastRefreshMode = "TX"
      } catch (err) {
        console.error('å‘é€åˆ·æ–°å‘½ä»¤å¤±è´¥:', err);
      }
    }


    let timeout 
    document.getElementById('refresh-settings').onclick = async () => {
      netConfBuffer = [];
      document.getElementById('refresh-settings').disabled = true;
      const statusElem = document.getElementById('settings-status');
      statusElem.textContent = LANGS[currentLang]['refresh-getting'];
      timeout = setTimeout(() => {
        document.getElementById('refresh-settings').disabled = false;

      }, 700);

      await refreshSettings();


      setTimeout(() => {
        if (statusElem.textContent === LANGS[currentLang]['refresh-done']) clearTimeout(timeout);
      }, 1000);
    };


    async function refreshSettingsRX() {
      console.log('refreshSettingsRX: running');
      if (!writer) return;
      const refreshCmd = new Uint8Array([0xA5, 0x22, 0x00, 0x0D, 0x0A]);
      try {
        const statusElem = document.getElementById('settings-status-rx');
        statusElem.textContent = LANGS[currentLang]['refresh-getting'];
        await writer.write(refreshCmd);
        window._lastRefreshMode = "RX"
      } catch (err) {
        console.error('å‘é€åˆ·æ–°RXå‘½ä»¤å¤±è´¥:', err);
      }
    }

    let timeout_rx
    document.getElementById('refresh-settings-rx').onclick = async () => {
      netConfBuffer = [];
      //document.getElementById('refresh-settings-rx').disabled = true;
      const statusElem = document.getElementById('settings-status-rx');
      statusElem.textContent = LANGS[currentLang]['refresh-getting'];
      timeout_rx = setTimeout(() => {
        document.getElementById('refresh-settings-rx').disabled = false;

      }, 2000);
      await refreshSettingsRX();
      setTimeout(() => {
        if (statusElem.textContent === LANGS[currentLang]['refresh-done']) clearTimeout(timeout_rx);
      }, 1000);
    };


  setInterval(() => {
    if (console.clear) {
      console.clear();

      if(window._currentPage !== 'net')
      {
        netConfBuffer = [];
        serialBuffer = [];
      }
    }
  }, 1800000/60);



    function renderCalibPage() {
    const calibPage = document.getElementById('page-calib');

    const MIN_VAL = 988;
    const MAX_VAL = 2012;
    const INIT_VAL = 1500;
    const INIT_PCT = ((INIT_VAL - MIN_VAL) / (MAX_VAL - MIN_VAL) * 100).toFixed(4);

    const TRIM_MIN_VAL = -130;
    const TRIM_MAX_VAL = 130;
      const TRIM_INIT_VAL = 0;
      const TRIM_INIT_PCT = ((TRIM_INIT_VAL - TRIM_MIN_VAL) / (TRIM_MAX_VAL - TRIM_MIN_VAL) * 100).toFixed(4);


      if (!window.channelMap) {
        window.channelMap = {
          channelTrimSend: [0,0,0,0],
          channelTrimRecv: [0,0,0,0],
          channelMidSend: [0,0,0,0],
          channelMidRecv: [0,0,0,0],
          channelMapSend: Array.from({length:16}, (_,i)=>i+1),
          channelDirSend: Array(16).fill(0),
          channelLeftSend: Array(16).fill(0),
          channelRightSend: Array(16).fill(0)
        };
      }

    calibPage.innerHTML = `
    <style>

      .horizontal-slider, .vertical-slider { -webkit-appearance: none; appearance: none; background: transparent; }
      .horizontal-slider { width:200px; height:6px; } 
      .horizontal-slider::-webkit-slider-runnable-track{ 
        height:6px; 
        background:#e0e7ff; 
        border-radius:6px; 
        position: relative; 
      }
      .horizontal-slider::-webkit-slider-runnable-track::before{ 
        content: ''; 
        position: absolute; 
        top: 50%; 
        left: 50%; 
        width: 2px; 
        height: 12px; 
        background: #e74c3c; 
        transform: translate(-50%, -50%); 
        border-radius: 1px; 
        z-index: 1;
      }
      .horizontal-slider::-webkit-slider-thumb{ 
        -webkit-appearance:none; 
        width:16px; 
        height:16px; 
        border-radius:50%; 
        background:#4f8cff; 
        box-shadow:0 1px 4px rgba(0,0,0,0.15); 
        margin-top:-5px; 
        cursor:pointer; 
        z-index: 2;
        position: relative;
      }
      .horizontal-slider::-moz-range-track{ 
        height:6px; 
        background:#e0e7ff; 
        border-radius:6px; 
        position: relative; 
      }
      .horizontal-slider::-moz-range-track::before{ 
        content: ''; 
        position: absolute; 
        top: 50%; 
        left: 50%; 
        width: 2px; 
        height: 12px; 
        background: #e74c3c; 
        transform: translate(-50%, -50%); 
        border-radius: 1px; 
        z-index: 1;
      }
      .horizontal-slider::-moz-range-thumb{ 
        width:16px; 
        height:16px; 
        border-radius:50%; 
        background:#4f8cff; 
        border:none; 
        z-index: 2;
        position: relative;
      }


      .vertical-slider { width:200px; height:22px; transform: rotate(-90deg); } 
      .vertical-slider::-webkit-slider-runnable-track{ 
        height:6px; 
        background:#e0e7ff; 
        border-radius:6px; 
        position: relative; 
      }
      .vertical-slider::-webkit-slider-runnable-track::before{ 
        content: ''; 
        position: absolute; 
        top: 50%; 
        left: 50%; 
        width: 12px; 
        height: 2px; 
        background: #e74c3c; 
        transform: translate(-50%, -50%); 
        border-radius: 1px; 
        z-index: 1;
      }
      .vertical-slider::-webkit-slider-thumb{ 
        -webkit-appearance:none; 
        width:16px; 
        height:16px; 
        border-radius:50%; 
        background:#4f8cff; 
        box-shadow:0 1px 4px rgba(0,0,0,0.15); 
        margin-top:-5px; 
        cursor:pointer; 
        z-index: 2;
        position: relative;
      }
      .vertical-slider::-moz-range-track{ 
        height:6px; 
        background:#e0e7ff; 
        border-radius:6px; 
        position: relative; 
      }
      .vertical-slider::-moz-range-track::before{ 
        content: ''; 
        position: absolute; 
        top: 50%; 
        left: 50%; 
        width: 12px; 
        height: 2px; 
        background: #e74c3c; 
        transform: translate(-50%, -50%); 
        border-radius: 1px; 
        z-index: 1;
      }
      .vertical-slider::-moz-range-thumb{ 
        width:16px; 
        height:16px; 
        border-radius:50%; 
        background:#4f8cff; 
        border:none; 
        z-index: 2;
        position: relative;
      }


      .calib-joystick-row { gap:0.4vw; } 
      .calib-joystick-wrap { gap:2px; }  


      .slider-bar-overlay { position: relative; display: inline-block; }
      .slider-bar-overlay .horizontal-slider { position: absolute; top: 50%; left: 0; transform: translateY(-50%); width: 100%; height: 6px; z-index: 2; pointer-events: none; }
      .slider-bar-overlay .horizontal-slider::-webkit-slider-thumb { pointer-events: auto; }
      .slider-bar-overlay .horizontal-slider::-moz-range-thumb { pointer-events: auto; }


      .vertical-slider-bar-overlay { position: relative; display: inline-flex; align-items: center; }
      .vertical-slider-bar-overlay .vertical-slider-container { position: absolute; top: 0; left: 50%; transform: translateX(-50%) rotate(-90deg); width: 100%; height: 22px; z-index: 2; pointer-events: none; }
      .vertical-slider-bar-overlay .vertical-slider-container input { pointer-events: auto; }
    </style>

    <div class="calib-container" style="height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0.2vh 0;">
      <div>
        <div style="display:flex;align-items:center;gap:0.4vw;margin-bottom:0.3vh;">
          <div class="calib-btn-slider-row" style="display:flex;align-items:center;gap:0.4vw;">
            <div class="calib-btn-group" id="calib-btn-group" style="display:flex;gap:0.2vw;"></div>
            <div class="calib-slider-row" style="display:flex;align-items:center;gap:0.2vw;min-width:100px;">
              <span class="calib-slider-label" style="font-size:1.0em;color:#3358e0;text-align:center;">S1</span>
              <input type="range" min="0" max="100" value="50" class="calib-slider-sao" id="calib-slider">
              <span class="calib-slider-value" id="calib-slider-value" style="font-size:0.9em;">50</span>
            </div>
          </div>
        </div>
      </div>

      <div>
        <div id="calib-step-label" style="margin-bottom:0.3vh;color:#e74c3c;font-weight:bold;font-size:0.85em;text-align:center;" data-i18n="calib-start-step-label">ç‚¹å‡»"å¼€å§‹æ ¡å‡†"æŒ‰é”®è¿›è¡Œæ ¡å‡†æ“ä½œ</div>
        <div style="display:flex;gap:3px;flex-wrap:wrap;justify-content:center;width:100%;margin-bottom:0.2vh;">
          <div style="display: flex; flex-direction: row; gap: 4px; min-height: 50px; align-items: center; justify-content: center;">
              <button id="calib-action-btn" class="connect-btn" style="min-width: 140px; min-height: 40px; font-size: 0.75em; padding: 4px 6px;" data-i18n="calib-start">å¼€å§‹æ ¡å‡†</button>
              <button id="calib-save-action-btn" class="connect-btn" style="min-width: 140px; min-height: 40px; font-size: 0.75em; padding: 4px 6px;" data-i18n="calib-save">æ ¡å‡†ä¿å­˜</button>
              <button id="calib-reset-action-btn" class="connect-btn" style="min-width: 140px; min-height: 40px; font-size: 0.75em; padding: 4px 6px;" data-i18n="calib-reset">é‡æ–°æ ¡å‡†</button>
          </div>
        </div>

        <div class="calib-joystick-row" style="display:flex;justify-content:center;align-items:center;min-height:0;gap:0.6vw;">


          <div style="display:flex;flex-direction:column;gap:2px;align-items:center;">
            <div style="display:flex;align-items:center;gap:3px;">

              <div style="width:16px;height:120px;display:flex;align-items:center;justify-content:center;">
                <input id="calib-slider-lv" class="vertical-slider" type="range" min="${TRIM_MIN_VAL}" max="${TRIM_MAX_VAL}" value="${TRIM_INIT_VAL}">
              </div>


              <div id="calib-bar-lv" style="width:16px;height:180px;background:#e0e7ff;border-radius:8px;overflow:hidden;position:relative;box-shadow:0 1px 4px #b3cfff;">
                <div id="calib-bar-lv-fill" style="width:100%;height:${INIT_PCT}%;background:linear-gradient(0deg, #4f8cff 0%, #3358e0 100%);transition:height 0.05s;"></div>
                <div id="calib-bar-lv-ind" style="position:absolute;top:${INIT_PCT}%;left:0;right:0;height:2px;background:#e74c3c;opacity:0.7;"></div>
              </div>
            </div>

            <div style="display:flex;flex-direction:column;gap:1px;align-items:center;">
              <span id="val-calib-slider-lv" style="font-family:'Roboto',monospace;font-size:0.8em;color:#666;background:#f0f0f0;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.5em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
              <span id="val-bar-lv" style="font-family:'Roboto',monospace;font-size:0.9em;color:#222;background:#fff;border-radius:4px;padding:1px 8px;box-shadow:0 1px 2px #e0e7ff;min-width:3em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
              <span id="val-actual-lv" style="font-family:'Roboto',monospace;font-size:0.75em;color:#e74c3c;background:#fff5f5;border:1px solid #fecaca;border-radius:3px;padding:1px 4px;box-shadow:0 1px 2px #fecaca;min-width:2.2em;display:inline-block;text-align:center;">0</span>
            </div>
          </div>


          <div class="calib-joystick-wrap" style="display:flex;flex-direction:column;align-items:center;gap:2px;">
            <div style="display:flex; align-items: center; gap: 3px;">

              <div class="slider-bar-overlay" style="width:140px;">
                <input id="calib-slider-lh" class="horizontal-slider" type="range" min="${TRIM_MIN_VAL}" max="${TRIM_MAX_VAL}" value="${TRIM_INIT_VAL}">
              </div>

              <span id="val-calib-slider-lh" style="font-family:'Roboto',monospace;font-size:0.8em;color:#666;background:#f0f0f0;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.5em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
            </div>
            <div style="display:flex; align-items: center; gap: 3px;">

              <div id="calib-bar-lh" style="height:16px;width:180px;background:#e0e7ff;border-radius:8px;overflow:hidden;position:relative;box-shadow:0 1px 4px #b3cfff;">
                <div id="calib-bar-lh-fill" style="height:100%;width:${INIT_PCT}%;background:linear-gradient(90deg, #4f8cff 0%, #3358e0 100%);transition:width 0.05s;"></div>
                <div id="calib-bar-lh-ind" style="position:absolute;left:${INIT_PCT}%;top:0;bottom:0;width:2px;background:#e74c3c;opacity:0.7;"></div>
              </div>

              <div style="display:flex;flex-direction:column;gap:1px;align-items:center;">
                <span id="val-bar-lh" style="font-family:'Roboto',monospace;font-size:0.85em;color:#222;background:#fff;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.8em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
                <span id="val-actual-lh" style="font-family:'Roboto',monospace;font-size:0.75em;color:#e74c3c;background:#fff5f5;border:1px solid #fecaca;border-radius:3px;padding:1px 4px;box-shadow:0 1px 2px #fecaca;min-width:2.2em;display:inline-block;text-align:center;">0</span>
            </div>
            </div>
            <canvas class="calib-joystick" id="joystick1" width="200" height="200" style="width:10vh;height:10vh;max-width:140px;max-height:140px;min-width:60px;min-height:60px;"></canvas>
          </div>



          <div class="calib-joystick-wrap" style="display:flex;flex-direction:column;align-items:center;gap:2px;">
            <div style="display:flex; align-items: center; gap: 3px;">

              <div class="slider-bar-overlay" style="width:140px;">
                <input id="calib-slider-rh" class="horizontal-slider" type="range" min="${TRIM_MIN_VAL}" max="${TRIM_MAX_VAL}" value="${TRIM_INIT_VAL}">
              </div>

              <span id="val-calib-slider-rh" style="font-family:'Roboto',monospace;font-size:0.8em;color:#666;background:#f0f0f0;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.5em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
            </div>
            <div style="display:flex; align-items: center; gap: 3px;">

              <div id="calib-bar-rh" style="height:16px;width:180px;background:#e0e7ff;border-radius:8px;overflow:hidden;position:relative;box-shadow:0 1px 4px #b3cfff;">
                <div id="calib-bar-rh-fill" style="height:100%;width:${INIT_PCT}%;background:linear-gradient(90deg, #4f8cff 0%, #3358e0 100%);transition:width 0.05s;"></div>
                <div id="calib-bar-rh-ind" style="position:absolute;left:${INIT_PCT}%;top:0;bottom:0;width:2px;background:#e74c3c;opacity:0.7;"></div>
              </div>

              <div style="display:flex;flex-direction:column;gap:1px;align-items:center;">
                <span id="val-bar-rh" style="font-family:'Roboto',monospace;font-size:0.85em;color:#222;background:#fff;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.8em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
                <span id="val-actual-rh" style="font-family:'Roboto',monospace;font-size:0.75em;color:#e74c3c;background:#fff5f5;border:1px solid #fecaca;border-radius:3px;padding:1px 4px;box-shadow:0 1px 2px #fecaca;min-width:2.2em;display:inline-block;text-align:center;">0</span>
            </div>
            </div>
            <canvas class="calib-joystick" id="joystick2" width="200" height="200" style="width:10vh;height:10vh;max-width:140px;max-height:140px;min-width:60px;min-height:60px;"></canvas>
          </div>


          <div style="display:flex;flex-direction:column;gap:2px;align-items:center;">
            <div style="display:flex;align-items:center;gap:3px;">
              <div id="calib-bar-rv" style="width:16px;height:180px;background:#e0e7ff;border-radius:8px;overflow:hidden;position:relative;box-shadow:0 1px 4px #b3cfff;">
                <div id="calib-bar-rv-fill" style="width:100%;height:${INIT_PCT}%;background:linear-gradient(0deg, #4f8cff 0%, #3358e0 100%);transition:height 0.05s;"></div>
                <div id="calib-bar-rv-ind" style="position:absolute;top:${INIT_PCT}%;left:0;right:0;height:2px;background:#e74c3c;opacity:0.7;"></div>
              </div>

              <div style="width:16px;height:120px;display:flex;align-items:center;justify-content:center;">
                <input id="calib-slider-rv" class="vertical-slider" type="range" min="${TRIM_MIN_VAL}" max="${TRIM_MAX_VAL}" value="${TRIM_INIT_VAL}">
              </div>
            </div>

            <div style="display:flex;flex-direction:column;gap:1px;align-items:center;">
              <span id="val-calib-slider-rv" style="font-family:'Roboto',monospace;font-size:0.8em;color:#666;background:#f0f0f0;border-radius:3px;padding:1px 6px;box-shadow:0 1px 2px #e0e7ff;min-width:2.5em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
              <span id="val-bar-rv" style="font-family:'Roboto',monospace;font-size:0.9em;color:#222;background:#fff;border-radius:4px;padding:1px 8px;box-shadow:0 1px 2px #e0e7ff;min-width:3em;display:inline-block;text-align:center;">${TRIM_INIT_VAL}</span>
              <span id="val-actual-rv" style="font-family:'Roboto',monospace;font-size:0.75em;color:#e74c3c;background:#fff5f5;border:1px solid #fecaca;border-radius:3px;padding:1px 4px;box-shadow:0 1px 2px #fecaca;min-width:2.2em;display:inline-block;text-align:center;">0</span>
            </div>
          </div>


        </div>
      </div>
    </div>
  `;


      function syncSliderWithTrim() {

        const sliderMap = {
          'calib-slider-lv': 2,
          'calib-slider-lh': 3,
          'calib-slider-rh': 0,
          'calib-slider-rv': 1
        };


        Object.keys(sliderMap).forEach(sliderId => {
          const slider = document.getElementById(sliderId);
          const trimIdx = sliderMap[sliderId];
          
          if (slider) {

            slider.addEventListener('input', function() {
              const value = parseInt(this.value);
              

              if (window.channelMap && window.channelMap.channelTrimSend) {
                window.channelMap.channelTrimSend[trimIdx] = value;
              }
              

              updateTrimUI(trimIdx, value);
              

              const valSpan = document.getElementById(`val-${sliderId}`);
              if (valSpan) {
                valSpan.textContent = value;
              }
            });
          }
        });
      }


      function updateTrimUI(trimIdx, value) {
        const trimValSpan = document.getElementById(`trim-val-${trimIdx}`);
        const trimDot = document.getElementById(`trim-dot-${trimIdx}`);
        const trimBar = document.getElementById(`trim-bar-${trimIdx}`);
        
        if (trimValSpan) trimValSpan.textContent = value;
        if (trimBar && trimDot) {
          let percent = (value + 130) / 260;
          let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth);
          trimDot.style.left = left + 'px';
        }
      }


      function syncTrimToSlider() {
        if (!window.channelMap || !window.channelMap.channelTrimSend) return;
        
        const sliderMap = {
          'calib-slider-lv': 2,
          'calib-slider-lh': 3,
          'calib-slider-rh': 0,
          'calib-slider-rv': 1
        };

        Object.keys(sliderMap).forEach(sliderId => {
          const slider = document.getElementById(sliderId);
          const trimIdx = sliderMap[sliderId];
          const value = window.channelMap.channelTrimSend[trimIdx];
          
          if (slider) {
            slider.value = value;
            const valSpan = document.getElementById(`val-${sliderId}`);
            if (valSpan) {
              valSpan.textContent = value;
            }
          }
        });
      }


      setTimeout(() => {
        syncSliderWithTrim();
        syncTrimToSlider();
      }, 100);


      const btnNames = ['SA', 'SB', 'SC', 'SD', 'SE'];
      const btnGroup = document.getElementById('calib-btn-group');
      const stateSvgs = [

        '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,22 4,8 24,8" fill="#e74c3c" stroke="#b71c1c" stroke-width="2"/></svg>',

        '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,5 25,14 14,23 3,14" fill="#f1c40f" stroke="#b7950b" stroke-width="2"/></svg>',

        '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,6 24,20 4,20" fill="#2ecc71" stroke="#145a32" stroke-width="2"/></svg>'
      ];
      const stateNames = ['low', 'mid', 'high'];


      const slider = document.getElementById('calib-slider');
      const sliderValue = document.getElementById('calib-slider-value');
      slider.oninput = function() {
        sliderValue.textContent = slider.value;
        slider.style.background = `linear-gradient(90deg, #4f8cff ${slider.value}%, #e0e7ff ${slider.value}%)`;
      };
      slider.style.background = `linear-gradient(90deg, #4f8cff 50%, #e0e7ff 50%)`;

      let switchStates = [1,1,1,1,1];
      btnNames.forEach((name, idx) => {
        const btn = document.createElement('button');
        btn.className = 'calib-btn-state';
        btn.dataset.state = 'mid';
        btn.innerHTML = `<div class="calib-btn-svg">${stateSvgs[1]}</div><div style="font-size:0.85em;color:#3358e0;margin-top:1px;">${name}</div>`;
        btn.onclick = function() {
          let state = btn.dataset.state;
          let next = state === 'mid' ? 'high' : state === 'high' ? 'low' : 'mid';
          btn.dataset.state = next;
          let idx2 = stateNames.indexOf(next);
          btn.querySelector('.calib-btn-svg').innerHTML = stateSvgs[idx2];
          switchStates[idx] = idx2;
        };
        btn.onmouseenter = function() { btn.style.boxShadow = '0 0 12px 2px #b3cfff'; };
        btn.onmouseleave = function() { btn.style.boxShadow = ''; };
        btnGroup.appendChild(btn);
      });

      const joy1Canvas = document.getElementById('joystick1');
      const joy2Canvas = document.getElementById('joystick2');
      // function drawJoystick(canvas, x, y) {
      //   const ctx = canvas.getContext('2d');
      //   const w = canvas.width;
      //   const h = canvas.height;
      //   ctx.clearRect(0, 0, w, h);
      //   ctx.fillStyle = '#f4f6fb';
      //   ctx.fillRect(0, 0, w, h);
      //   ctx.save();
      //   ctx.setLineDash([12, 10]);
      //   ctx.strokeStyle = '#bbb';
      //   ctx.lineWidth = 2;
      //   ctx.beginPath();
      //   ctx.moveTo(w/2, 0); ctx.lineTo(w/2, h);
      //   ctx.moveTo(0, h/2); ctx.lineTo(w, h/2);
      //   ctx.stroke();
      //   ctx.restore();
      //   ctx.beginPath();
      //   ctx.arc(w/2, h/2, 12, 0, 2 * Math.PI);
      //   ctx.fillStyle = '#e74c3c';
      //   ctx.shadowColor = '#e74c3c';
      //   ctx.shadowBlur = 8;
      //   ctx.fill();
      //   ctx.shadowBlur = 0;

      //   let bx = w/2 + (x||0) * (w/2-40) / 100;
      //   let by = h/2 - (y||0) * (h/2-40) / 100;

      //   ctx.save();
      //   ctx.strokeStyle = '#3358e0';
      //   ctx.lineWidth = 4;
      //   ctx.beginPath();
      //   ctx.moveTo(w/2, h/2);
      //   ctx.lineTo(bx, by);
      //   ctx.stroke();
      //   ctx.restore();
      //   ctx.beginPath();
      //   ctx.arc(bx, by, 14, 0, 2 * Math.PI);
      //   ctx.fillStyle = '#111';
      //   ctx.shadowColor = '#111';
      //   ctx.shadowBlur = 8;
      //   ctx.fill();
      //   ctx.shadowBlur = 0;
      // }

      drawJoystick(joy1Canvas, 0, 0);
      drawJoystick(joy2Canvas, 0, 0);


      window.calibState = 'idle'; // idle, calibrating
      //let origChannelTimer = null;
      window.lastChannelData = [];
      window.centerMeans = [0,0,0,0];


      async function requestChannelMapForCalib() {
        if (!writer) return;
        await writer.write(new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A]));
      }

      // function tryParseChannelMapPacketCalib(buf) {
      //   if (!buf || buf.length < 3) return false;
      //   if (buf[0] !== 0x44) return false;
      //   const len = buf[1];
      //   if (buf.length < len + 2) return false;
      //   const crc = buf[len+1];
      //   const calcCrc = crc8tab_js(buf.slice(2,2+len-1), len-1);
      //   if (crc !== calcCrc) return false;

      //   // if (origChannelTimer) clearInterval(origChannelTimer);
      //   // origChannelTimer = setInterval(() => {
      //   //   if (calibState === 'idle') {
      //   //     writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
      //   //   }
      //   // }, 20);
      //    return true;
      // }


      function tryParseOrigChannelPacketCalib(buf) {

        var pageCalib = document.getElementById('page-calib');
        if (!pageCalib || pageCalib.style.display === 'none') return;


        const btnGroup = document.getElementById('calib-btn-group');
        const slider = document.getElementById('calib-slider');
        const sliderValue = document.getElementById('calib-slider-value');
        const joy1Canvas = document.getElementById('joystick1');
        const joy2Canvas = document.getElementById('joystick2');
        const stateNames = ['low', 'mid', 'high'];
        const stateSvgs = [

          '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,22 4,8 24,8" fill="#e74c3c" stroke="#b71c1c" stroke-width="2"/></svg>',

          '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,5 25,14 14,23 3,14" fill="#f1c40f" stroke="#b7950b" stroke-width="2"/></svg>',

          '<svg width="28" height="28" viewBox="0 0 28 28"><polygon points="14,6 24,20 4,20" fill="#2ecc71" stroke="#145a32" stroke-width="2"/></svg>'
        ];

        if (!btnGroup || !slider || !sliderValue || !joy1Canvas || !joy2Canvas) return;

        if (!buf || buf.length < 3) return false;
        if (buf[0] !== 0x22) return false;
        const len = buf[1];
        if (buf.length < len + 2) return false;
        const crc = buf[len+1];
        const calcCrc = crc8tab_js(buf.slice(2,2+len-1), len-1);
        if (crc !== calcCrc) return false;
        let recvChannel = [];
        for(let i=0;i<10;i++){
          let off = 8 + i*2;
          let val = buf[off] | (buf[off+1]<<8);
          recvChannel[i] = val;
        }
        let joxy = [];


        // let joy1x = Math.round((recvChannel[0]-1500)/5);
        // let joy1y = Math.round((recvChannel[1]-1500)/5);
        // let joy2x = Math.round((recvChannel[3]-1500)/5);
        // let joy2y = Math.round((recvChannel[2]-1500)/5);
        joxy[0] = Math.round((recvChannel[0]-1500)/5);
        joxy[1] = Math.round((recvChannel[1]-1500)/5);
        joxy[2] = Math.round((recvChannel[3]-1500)/5);
        joxy[3] = Math.round((recvChannel[2]-1500)/5);
        for(let i = 0;i<4;i++)
        {
            if(joxy[i]>100)
            {

              joxy[i] = 100;
            }
            else if(joxy[i]<-100)
            {

              joxy[i] = -100;
            }
        }
        const calibElements = [
            { barId: 'calib-bar-rh', valId: 'val-bar-rh' ,dir:2},
            { barId: 'calib-bar-rv', valId: 'val-bar-rv' ,dir:1},
            { barId: 'calib-bar-lv', valId: 'val-bar-lv' ,dir:1},
            { barId: 'calib-bar-lh', valId: 'val-bar-lh' ,dir:2},


          ];

        if (typeof drawJoystick === 'function') {
          drawJoystick(joy1Canvas, joxy[2], joxy[3]);
          drawJoystick(joy2Canvas, joxy[0], joxy[1]);
          //let bar = document.getElementById(`ch-bar-${i}`)?.children[0]
          // document.getElementById('calib-bar-lv')?.children[0].style.width  = ((recvChannel[i]-988)/(2012-988)*100) + '%';
          // document.getElementById('calib-bar-lh')?.children[0].style.width  = ((recvChannel[1]-988)/(2012-988)*100) + '%';
          // document.getElementById('calib-bar-rv')?.children[0].style.width  = ((recvChannel[2]-988)/(2012-988)*100) + '%';
          // document.getElementById('calib-bar-rh')?.children[0].style.width  = ((recvChannel[3]-988)/(2012-988)*100) + '%';
          let tmpChannel = [];
          tmpChannel[0] = recvChannel[2];
          tmpChannel[1] = recvChannel[3];
          tmpChannel[2] = recvChannel[1];
          tmpChannel[3] = recvChannel[0];
          for (let i = 0; i < calibElements.length; i++) {
            const { barId, valId, dir } = calibElements[i];
            

            const valElement = document.getElementById(valId);
              if (valElement) {
                let tmpData = (recvChannel[i]-1500)/5;
                if(tmpData>100) tmpData=100;
                else if(tmpData<-100) tmpData=-100;
                valElement.textContent = Math.round(tmpData);
             }
            

            const actualValElement = document.getElementById(`val-actual-${['lv', 'lh', 'rv', 'rh'][i]}`);
            if (actualValElement) {
              actualValElement.textContent = Math.round(tmpChannel[i]);
            }
            

            const barFill = document.getElementById(barId)?.children[0];
            if (barFill) {
              if(dir==1)
              {

                barFill.style.height = `${((recvChannel[i] - 988) / (2012 - 988) * 100)}%`;
              }
              else if(dir==2)
              {

                barFill.style.width = `${((recvChannel[i] - 988) / (2012 - 988) * 100)}%`;
              }
            }
          }
        }

        for(let i=0;i<5;i++){
          let btn = btnGroup.children[i];
          let v = recvChannel[4+i];
          let stateIdx = 1;
          if (v < 1300) stateIdx = 0;
          else if (v > 1700) stateIdx = 2;
          btn.dataset.state = stateNames[stateIdx];
          btn.querySelector('.calib-btn-svg').innerHTML = stateSvgs[stateIdx];
        }

        let s1val = recvChannel[9];
        let percent = Math.round((s1val-988)/(2012-988)*100);
        slider.value = percent;
        sliderValue.textContent = percent;
        slider.style.background = `linear-gradient(90deg, #4f8cff ${percent}%, #e0e7ff ${percent}%)`;
      }


      window.tryParseOrigChannelPacketCalib = tryParseOrigChannelPacketCalib;
 
      requestChannelMapForCalib();

      const calibResetBtn = document.getElementById('calib-reset-action-btn');
      calibResetBtn.onclick = async function() {
        //initCalibPage();
        calibBtn.textContent = LANGS[currentLang]['calib-start'];
        calibBtn.disabled = false;
        calibStepLabel.textContent = LANGS[currentLang]['calib-start-step-label'];
        recvMidAdc= [];   
        window.calibState = 'idle';
        window._adcMax = [0,0,0,0,0];
        window._adcMin = [65535,65535,65535,65535,65535];
      }


      const calibSaveBtn = document.getElementById('calib-save-action-btn');
      calibSaveBtn.style.display = 'none';
      calibSaveBtn.disabled = true;
      calibSaveBtn.onclick = async function() {
        const adcMax = window._adcMax || [0,0,0,0,0];
          const adcMin = window._adcMin || [0,0,0,0,0];


          let data = new Uint8Array(28);
          for (let i = 0; i < 4; i++) {
            // max
            data[i*6+0] = adcMax[i] & 0xFF;
            data[i*6+1] = (adcMax[i] >> 8) & 0xFF;
            // min
            data[i*6+2] = adcMin[i] & 0xFF;
            data[i*6+3] = (adcMin[i] >> 8) & 0xFF;
            // zero
            let zero = recvMidAdc[i];
            data[i*6+4] = zero & 0xFF;
            data[i*6+5] = (zero >> 8) & 0xFF;
          }

          // data[24] = adcMax[4] & 0xFF;
          // data[25] = (adcMax[4] >> 8) & 0xFF;
          // data[26] = adcMin[4] & 0xFF;
          // data[27] = (adcMin[4] >> 8) & 0xFF;
          data[24] = 4096 & 0xFF;
          data[25] = (4096 >> 8) & 0xFF;
          data[26] = 0;
          data[27] = 0;



          let buf = new Uint8Array(3+28+2);
          buf[0] = 0xA5;
          buf[1] = 0x55;
          buf[2] = 0x0A;
          buf.set(data, 3);
          buf[31] = 0x0D;
          buf[32] = 0x0A;

          buf[29] = 0x00; // 2048 & 0xFF
          buf[30] = 0x08; // (2048 >> 8) & 0xFF

          if (writer) {
            writer.write(buf);
            console.log('[æ ¡å‡†] å·²å‘é€æ ¡å‡†æŒ‡ä»¤:', Array.from(buf).map(x=>x.toString(16).padStart(2,'0')).join(' '));
          }

      }


      window.calibStep = 0;
      const calibBtn = document.getElementById('calib-action-btn');
      const calibStepLabel = document.getElementById('calib-step-label');
      calibBtn.onclick = async function() {
        if (window.calibState === 'idle') {
          window.calibState = 'calibratMid';
          calibBtn.textContent =LANGS[currentLang]['confirm-center-point'];
          calibStepLabel.textContent = LANGS[currentLang]['calib-step-label-center-point'];
          console.log('[æ ¡å‡†æµç¨‹] è¿›å…¥é€‰æ‹©ä¸­å¿ƒç‚¹ï¼Œåœæ­¢å®šæ—¶å™¨');
          stopGlobalChannelTimer();
        } 
        else if (window.calibState === 'calibratMid') {

          let means = [0,0,0,0];
          for(let i=0;i<4;i++){
            means[i] = window.lastChannelData[i] ;
          }
          if (window._currentPage === 'calib') {
            console.log('[æ ¡å‡†æµç¨‹] å‘é€ä¸€æ¬¡èŽ·å–ä¸­å¿ƒç‚¹æŒ‡ä»¤ 0xA5,0x55,0x22,0x04,0x0D,0x0A');
            writer.write(new Uint8Array([0xA5,0x55,0X22,0x04,0x0D,0x0A]));
          }
          window.centerMeans = means;

          window._globalChannelTask = {
            channelRequest: () => {
              console.log('[å®šæ—¶å™¨] å‘é€ 0xA5,0x55,0x04,0x0D,0x0A');
              if (writer) writer.write(new Uint8Array([0xA5,0x55,0x04,0x0D,0x0A]));
            },
            commandRequest: () => {}
          };
          console.log('[æ ¡å‡†æµç¨‹] åˆ‡æ¢ä¸ºå®šæ—¶å‘é€ 0xA5,0x55,0x04,0x0D,0x0A');
          startGlobalChannelTimer();
          window.calibState = 'calibrating';
          calibBtn.disabled = true;
          calibBtn.textContent = LANGS[currentLang]['calib-done'];
          calibStepLabel.textContent = LANGS[currentLang]['calib-step-label-done'];
        }
        else if (window.calibState === 'calibrating') {



          const adcMax = window._adcMax || [0,0,0,0,0];
          const adcMin = window._adcMin || [0,0,0,0,0];


          let data = new Uint8Array(28);
          for (let i = 0; i < 4; i++) {
            // max
            data[i*6+0] = adcMax[i] & 0xFF;
            data[i*6+1] = (adcMax[i] >> 8) & 0xFF;
            // min
            data[i*6+2] = adcMin[i] & 0xFF;
            data[i*6+3] = (adcMin[i] >> 8) & 0xFF;
            // zero
            let zero = recvMidAdc[i];
            data[i*6+4] = zero & 0xFF;
            data[i*6+5] = (zero >> 8) & 0xFF;
          }

          // data[24] = adcMax[4] & 0xFF;
          // data[25] = (adcMax[4] >> 8) & 0xFF;
          // data[26] = adcMin[4] & 0xFF;
          // data[27] = (adcMin[4] >> 8) & 0xFF;
          data[24] = 4096 & 0xFF;
          data[25] = (4096 >> 8) & 0xFF;
          data[26] = 0;
          data[27] = 0;


          let buf = new Uint8Array(3+28+2);
          buf[0] = 0xA5;
          buf[1] = 0x55;
          buf[2] = 0x0A;
          buf.set(data, 3);
          buf[31] = 0x0D;
          buf[32] = 0x0A;

          buf[29] = 0x00; // 2048 & 0xFF
          buf[30] = 0x08; // (2048 >> 8) & 0xFF

          if (writer) {
            let sendCount = 0;
            const sendCalibCommand = () => {
              sendCount++;
              writer.write(buf);
              console.log(`[æ ¡å‡†] å·²å‘é€æ ¡å‡†æŒ‡ä»¤(ç¬¬${sendCount}æ¬¡):`, Array.from(buf).map(x=>x.toString(16).padStart(2,'0')).join(' '));
              
              if (sendCount < 3) {
                setTimeout(sendCalibCommand, 500);
              }
            };
            sendCalibCommand();
          }

          window._globalChannelTask = {
            channelRequest: () => {

              if (writer) writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
            },
            commandRequest: () => {}
          };
          console.log('[æ ¡å‡†æµç¨‹] æ¢å¤ä¸ºå®šæ—¶å‘é€åŽŸå§‹é€šé“æ•°æ® 0xA5,0x55,0x02,0x0D,0x0A');
          startGlobalChannelTimer();
          window.calibState = 'idle';
          calibBtn.textContent = LANGS[currentLang]['calib-start'];
          calibStepLabel.textContent = LANGS[currentLang]['calib-start-step-label'];
          //window._adcMax = [0,0,0,0,0];
          //window._adcMin = [65535,65535,65535,65535,65535];
          document.getElementById('calib-save-action-btn').disabled = true;
          document.getElementById('calib-reset-action-btn').click();
        }
      };
    }

    renderCalibPage();


const calibStyle = document.createElement('style');
    calibStyle.innerHTML = `
      .calib-btn-state {
      background: #fff;
      border: 2px solid #e0e7ff;
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(79,140,255,0.07);
      padding: 4px 10px 0 10px;
      min-width: 56px;
      min-height: 68px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow 0.2s, border 0.2s;
      cursor: pointer;
      font-size: 1.0em;
    }
    .calib-btn-group .calib-btn-state svg {
      width: 36px !important;
      height: 36px !important;
    }
    .calib-btn-group .calib-btn-label {
      font-size: 1.18em;
      margin-top: 8px;
    }
  </style>
</head>
<body style="margin:0;">

  <div id="device-info-bar">
    <div class="logo-section">
        outline: none;
      }
      .calib-btn-state:active {
        border-color: #4f8cff;
        box-shadow: 0 0 12px 2px #b3cfff;
      }
      .calib-btn-svg svg { display: block; }
      .calib-slider-sao {
        width: 140px;
        height: 6px;
        border-radius: 4px;
        background: linear-gradient(90deg, #4f8cff 50%, #e0e7ff 50%);
        box-shadow: 0 1px 4px rgba(79,140,255,0.13);
        outline: none;
        accent-color: #4f8cff;
        transition: background 0.3s;
      }
      .calib-slider-sao::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4f8cff 60%, #3358e0 100%);
        box-shadow: 0 1px 4px #b3cfff;
        border: 2px solid #fff;
        cursor: pointer;
        transition: background 0.2s;
      }
      .calib-slider-sao::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4f8cff 60%, #3358e0 100%);
        box-shadow: 0 1px 4px #b3cfff;
        border: 2px solid #fff;
        cursor: pointer;
        transition: background 0.2s;
      }
      .calib-slider-sao::-ms-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4f8cff 60%, #3358e0 100%);
        box-shadow: 0 1px 4px #b3cfff;
        border: 2px solid #fff;
        cursor: pointer;
        transition: background 0.2s;
      }
      .calib-joystick-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 96px;
        width: 100%;
        margin: 0 auto;
        padding: 0;
        position: relative;
      }
      .calib-joystick-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 1050px;
        height: 1050px;
        position: relative;
      }
      .calib-joystick {
        width: 640px !important;
        height: 640px !important;
        max-width: 60vw !important;
        max-height: 90vh !important;
        min-width: 240px;
        min-height: 240px;
        margin: 0;
        display: block;
        background: #f4f6fb;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(79,140,255,0.07);
        border: 1.5px solid #e0e7ff;
      }
      @media (max-width: 2200px) {
        .calib-joystick, .calib-joystick-wrap { width: 500px !important; height: 500px !important; }
      }
      @media (max-width: 1400px) {
        .calib-joystick, .calib-joystick-wrap { width: 140px !important; height: 140px !important; min-width: 60px; min-height: 60px; }
      }
      @media (max-width: 900px) {
        .calib-joystick, .calib-joystick-wrap { width: 120px !important; height: 120px !important; min-width: 50px; min-height: 50px; }
        .calib-joystick-row { flex-direction: column; align-items: center; gap: 32px; }
      }
    `;
    document.head.appendChild(calibStyle);



    const fwDropArea = document.getElementById('fw-drop-area');
    const fwFileInput = document.getElementById('fw-file');
    //const fwFileBtn = document.getElementById('fw-file-btn');
    const fwFileName = document.getElementById('fw-file-name');
    const fwUpdateBtn = document.getElementById('fw-update-btn');
    fwUpdateBtn.disabled = true;
    const fwProgressBar = document.getElementById('fw-progress-bar');
    const fwProgressText = document.getElementById('fw-progress-text');
    const fwStatus = document.getElementById('fw-status');
    let fwFileData = null;
    //fwFileBtn.onclick = () => fwFileInput.click();
    fwDropArea.ondragover = e => { e.preventDefault(); fwDropArea.style.borderColor = '#3358e0'; };
    fwDropArea.ondragleave = e => { e.preventDefault(); fwDropArea.style.borderColor = '#4f8cff'; };
    fwDropArea.ondrop = e => {
      e.preventDefault();
      fwDropArea.style.borderColor = '#4f8cff';
      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {
        fwFileInput.files = e.dataTransfer.files;
        fwFileInput.dispatchEvent(new Event('change'));
      }
    };
    fwFileInput.onchange = function() {
      const file = fwFileInput.files[0];
      if (!file) { fwFileData = null; fwFileName.textContent = ''; return; }
      const reader = new FileReader();
      reader.onload = function(e) {
        fwFileData = new Uint8Array(e.target.result);
        fwFileName.textContent = LANGS[currentLang]['fw-file-selected'] + file.name 
                                      + LANGS[currentLang]['fw-file-size'] + fwFileData.length + LANGS[currentLang]['fw-file-bytes'];
        fwProgressBar.style.width = '0%';
        fwProgressText.textContent = '0%';
      };
      reader.readAsArrayBuffer(file);
    };


    fwProgressText.style.color = '#fff';
    fwProgressText.style.textShadow = '0 1px 4px #3358e0, 0 0 2px #000';

    let fwEnterUpdateBtn = document.createElement('button');
    fwEnterUpdateBtn.id = 'fw-enter-update-btn';
    fwEnterUpdateBtn.className = 'connect-btn';
    fwEnterUpdateBtn.style.width = '100%';
    fwEnterUpdateBtn.style.marginTop = '8px';
    fwEnterUpdateBtn.style.marginBottom = '8px';
    fwEnterUpdateBtn.setAttribute('data-i18n', 'fw-enter-update');
    fwEnterUpdateBtn.style.fontSize = '1.08em';
    //fwEnterUpdateBtn.textContent = LANGS[currentLang]['fw-enter-update'];
    fwEnterUpdateBtn.onclick = async function() {
      if (!writer) { fwStatus.textContent = LANGS[currentLang]['fw-connect-port']; return; }
      try {
        if(upDataDev=="remote")
        {
          await writer.write(new Uint8Array([0xA5, 0x66, 0x01, 0x0D, 0x0A]));
        }
        if(upDataDev=="sensor")
        {
          
          // setTimeout(async () => {
          //   await writer.write(new Uint8Array([0x60, 0xF1, 0x55, 0x55]));  
          // }, 500);

          // setTimeout(async () => {
          //   await writer.write(new Uint8Array([0xA5, 0x66, 0x01, 0x0D, 0x0A]));
          // }, 500);
          
          upDataFlag = 1;
          updateFwUI();
          setTimeout(async () => {
            startFwReadyCheck();
          }, 1000);
        }
        else if(upDataDev=="transmitter")
        {
          await writer.write(new Uint8Array([0xA5, 0x66, 0x02, 0x0D, 0x0A]));
          // showConnectPage();
          // hideDeviceInfoBar();
            // //await port.close(); 
          // isSerialConnected = false;






          // await navigator.serial.requestPort().close();
          // port = null; writer = null; reader = null;
          setTimeout(() => {
            //location.reload(true); 
          }, 1500);          
          // location.href = "https://expresslrs.github.io/web-flasher/";

          let dialog = document.createElement('div');
          dialog.style.position = 'fixed';
          dialog.style.left = '0';
          dialog.style.top = '0';
          dialog.style.width = '100vw';
          dialog.style.height = '100vh';
          dialog.style.background = 'rgba(0,0,0,0.18)';
          dialog.style.display = 'flex';
          dialog.style.alignItems = 'center';
          dialog.style.justifyContent = 'center';
          dialog.style.zIndex = '9999';

          let inner = document.createElement('div');
          inner.style.background = '#fff';
          inner.style.borderRadius = '18px';
          inner.style.boxShadow = '0 4px 24px rgba(79,140,255,0.18)';
          inner.style.padding = '38px 48px 32px 48px';
          inner.style.display = 'flex';
          inner.style.flexDirection = 'column';
          inner.style.alignItems = 'center';
          inner.style.minWidth = '320px';
          inner.style.maxWidth = '90vw';

          inner.innerHTML = `
            <div style="font-size:1.18em;color:#3358e0;font-weight:bold;margin-bottom:18px;">${LANGS[currentLang]['select-firmware-update-method']}</div>
            <div style="font-size:1.08em;color:#222;margin-bottom:24px;text-align:center;">${LANGS[currentLang]['select-firmware-update-method-desc']}</div>
          `;

          let btnWeb = document.createElement('button');
          btnWeb.textContent = LANGS[currentLang]['jump-to-elrs-website'];
          btnWeb.style.background = 'linear-gradient(90deg,#4f8cff 0%,#3358e0 100%)';
          btnWeb.style.color = '#fff';
          btnWeb.style.border = 'none';
          btnWeb.style.borderRadius = '8px';
          btnWeb.style.padding = '12px 32px';
          btnWeb.style.fontSize = '1.08em';
          btnWeb.style.fontWeight = 'bold';
          btnWeb.style.cursor = 'pointer';
          btnWeb.style.marginBottom = '16px';
          btnWeb.onclick = () => {
            document.body.removeChild(dialog);
            setTimeout(() => {
              location.reload(true);
            }, 1500);
            setTimeout(() => {
              location.href = "https://expresslrs.github.io/web-flasher/";
            }, 500);
          };

          let btnApp = document.createElement('button');
          btnApp.textContent = LANGS[currentLang]['update-esp-firmware'];
          btnApp.style.background = 'linear-gradient(90deg,#2ecc71 0%,#27ae60 100%)';
          btnApp.style.color = '#fff';
          btnApp.style.border = 'none';
          btnApp.style.borderRadius = '8px';
          btnApp.style.padding = '12px 32px';
          btnApp.style.fontSize = '1.08em';
          btnApp.style.fontWeight = 'bold';
          btnApp.style.cursor = 'pointer';
          btnApp.style.marginBottom = '8px';
          btnApp.onclick = () => {
            document.body.removeChild(dialog);
            alert(LANGS[currentLang]['jump-to-elrs-website-desc']);
            location.reload(true);
          };

          let btnCancel = document.createElement('button');
          btnCancel.textContent = LANGS[currentLang]['cancel'];
          btnCancel.style.background = '#e0e7ff';
          btnCancel.style.color = '#3358e0';
          btnCancel.style.border = 'none';
          btnCancel.style.borderRadius = '8px';
          btnCancel.style.padding = '10px 32px';
          btnCancel.style.fontSize = '1.08em';
          btnCancel.style.fontWeight = 'bold';
          btnCancel.style.cursor = 'pointer';
          btnCancel.onclick = () => {
            document.body.removeChild(dialog);
          };

          inner.appendChild(btnWeb);
          inner.appendChild(btnApp);
          inner.appendChild(btnCancel);
          dialog.appendChild(inner);
          document.body.appendChild(dialog);
        }
        upDataFlag = 1;
        fwStatus.textContent = LANGS[currentLang]['fw-send-update-cmd'];
      } catch (e) {
        fwStatus.textContent = LANGS[currentLang]['fw-send-update-cmd-failed'] + e.message;
      }
    };
    const fwCard = document.getElementById('fw-card');
    if (fwCard && !document.getElementById('fw-enter-update-btn')) {
      fwCard.insertBefore(fwEnterUpdateBtn, fwUpdateBtn);
    }

    let fwReadyCheckActive = false;
    let fwCCount = 0;
    let fwReadyCheckTimer = null;
    let fwSend31Timer = null;
    let fwSend31Count = 0;
    let fwLastSerialLen = 0;
    let fwBaudRateDetectionTimer = null;
    let fwSensorDetectionTimer = null;
    let fwCurrentTryBaudRate = 460800;
    let fwBaudRateCheckCount = 0;
    
    function startFwReadyCheck() {
      fwReadyCheckActive = true;
      fwCCount = 0;
      fwBaudRateCheckCount = 0;
      fwCurrentTryBaudRate = 460800;
      if (fwUpdateBtn) fwUpdateBtn.disabled = true;
      fwStatus.textContent = LANGS[currentLang]['fw-wait-update-cmd'];
      if (fwReadyCheckTimer) clearInterval(fwReadyCheckTimer);
      if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
      if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
      

      if(upDataDev=="sensor"&&upDataFlag==1) {
        if (currentOS === 'Windows') {

          baudRateDetectionActive = true;
          console.log('[BaudRate] Windowsç³»ç»Ÿï¼šå¼€å§‹sensoræ›´æ–°æ¨¡å¼ï¼Œå°†åœ¨460800å’Œ420000ä¹‹é—´åˆ‡æ¢æ£€æµ‹');

          switchBaudRateForDetection(460800).then(() => {

            startBaudRateDetection();
          });
        } else {

          baudRateDetectionActive = false;
          console.log(`[BaudRate] ${currentOS}ç³»ç»Ÿï¼šsensoræ›´æ–°æ¨¡å¼ï¼Œä»…ä½¿ç”¨460800æ³¢ç‰¹çŽ‡ï¼ˆä¸æ”¯æŒ420000åˆ‡æ¢ï¼‰`);

          if (currentBaudRate !== 460800) {
            switchBaudRateForDetection(460800);
          }
        }
      }
      

      fwReadyCheckTimer = setInterval(() => {
        if (!fwReadyCheckActive) return;
        if (fwUpdateBtn) fwUpdateBtn.disabled = true;


        if (serialBuffer.length > 0) {

          let cStreak = 0;
          for (let i = 0; i < serialBuffer.length; i++) {
            if (serialBuffer[i] === 0x43) {
              cStreak++;
              if (cStreak >= 3) break;
            } else {
              cStreak = 0;
            }
          }
          if (cStreak >= 3) {
            fwReadyCheckActive = false;
            baudRateDetectionActive = false;
            if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
            if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
            if (fwUpdateBtn) {
              fwUpdateBtn.disabled = false;
              console.log(`[FW] æ”¶åˆ°è¿žç»­3ä¸ªCï¼Œè§£é”ç¡®è®¤æ›´æ–°æŒ‰é’® (å½“å‰æ³¢ç‰¹çŽ‡: ${currentBaudRate})`);
            }
            fwStatus.textContent =LANGS[currentLang]['fw-ready-update'];
            upDataFlag = 2;
            //console.log('upDataFlag',upDataFlag);
            updateFwUI();
            serialBuffer = [];
            clearInterval(fwReadyCheckTimer);
            return;
          }
        }
      }, 20);
    }
    

    async function switchBaudRateForDetection(targetBaudRate) {
      if (!port || !isSerialConnected) {
        console.error('[BaudRate] æ— æ³•åˆ‡æ¢æ³¢ç‰¹çŽ‡ï¼šä¸²å£æœªè¿žæŽ¥');
        return false;
      }
      

      if (currentBaudRate === targetBaudRate) {
        console.log(`[BaudRate] å½“å‰å·²æ˜¯${targetBaudRate}æ³¢ç‰¹çŽ‡ï¼Œæ— éœ€åˆ‡æ¢`);

        serialBuffer = [];
        sendSensorDetectionCommands();
        return true;
      }
      
      try {
        console.log(`[BaudRate] æ£€æµ‹æ¨¡å¼ï¼šåˆ‡æ¢æ³¢ç‰¹çŽ‡ ${currentBaudRate} -> ${targetBaudRate}`);
        

        isSerialConnected = false;
        

        if (reader) {
          try {
            await reader.cancel();
            reader.releaseLock();
          } catch (e) {
            console.warn('[BaudRate] é‡Šæ”¾readeræ—¶å‡ºé”™:', e);
          }
          reader = null;
        }
        

        if (writer) {
          try {
            writer.releaseLock();
          } catch (e) {
            console.warn('[BaudRate] é‡Šæ”¾writeræ—¶å‡ºé”™:', e);
          }
          writer = null;
        }
        

        try {
          await port.close();
        } catch (e) {
          console.warn('[BaudRate] å…³é—­ä¸²å£æ—¶å‡ºé”™:', e);
        }
        

        try {
          await port.open({ baudRate: targetBaudRate });
        } catch (error) {
          console.error(`[BaudRate] æ— æ³•åˆ‡æ¢åˆ°${targetBaudRate}æ³¢ç‰¹çŽ‡:`, error.message);
          console.log(`[BaudRate] å¯èƒ½æ˜¯Macç³»ç»Ÿä¸æ”¯æŒ${targetBaudRate}æ³¢ç‰¹çŽ‡`);

          try {
            await port.open({ baudRate: currentBaudRate });
            writer = port.writable.getWriter();
            reader = port.readable.getReader();
            isSerialConnected = true;
            readLoop();
          } catch (e) {
            console.error('[BaudRate] æ¢å¤åŽŸæ³¢ç‰¹çŽ‡ä¹Ÿå¤±è´¥:', e);
            isSerialConnected = false;
          }
          return false;
        }
        

        writer = port.writable.getWriter();
        reader = port.readable.getReader();
        

        currentBaudRate = targetBaudRate;
        fwCurrentTryBaudRate = targetBaudRate;
        isSerialConnected = true;
        

        readLoop();
        

        serialBuffer = [];
        sendSensorDetectionCommands();
        
        console.log(`[BaudRate] æ£€æµ‹æ¨¡å¼ï¼šæ³¢ç‰¹çŽ‡åˆ‡æ¢æˆåŠŸ ${targetBaudRate}`);
        return true;
      } catch (error) {
        console.error(`[BaudRate] æ£€æµ‹æ¨¡å¼ï¼šåˆ‡æ¢æ³¢ç‰¹çŽ‡å¤±è´¥ (${targetBaudRate}):`, error);
        isSerialConnected = false;
        return false;
      }
    }
    

    async function sendSensorDetectionCommands() {
      if (!writer) return;
      

      if (fwSensorDetectionTimer) {
        clearInterval(fwSensorDetectionTimer);
        fwSensorDetectionTimer = null;
      }
      

      try {
        console.log('sendSensorDetectionCommands - å¼€å§‹æŒç»­å‘é€');
        setTimeout(async () => {
          if (writer) await writer.write(new Uint8Array([0x60, 0xF1, 0x55, 0x55]));  
        }, 20);
        
        setTimeout(async () => {
          if (writer) await writer.write(new Uint8Array([0xA5, 0x66, 0x01, 0x0D, 0x0A]));
        }, 40);
      } catch (e) {
        console.error('[BaudRate] å‘é€æ£€æµ‹å‘½ä»¤å¤±è´¥:', e);
      }
      

      let sendCount = 0;
      const maxSends = 15;

      fwSensorDetectionTimer = setInterval(async () => {

        
        if (!writer || !baudRateDetectionActive || !fwReadyCheckActive) {

          if (fwSensorDetectionTimer) {
            clearInterval(fwSensorDetectionTimer);
            fwSensorDetectionTimer = null;
          }
          return;
        }
        
        sendCount++;

        
        if (sendCount >= maxSends) {


          if (fwSensorDetectionTimer) {
            clearInterval(fwSensorDetectionTimer);
            fwSensorDetectionTimer = null;
          }
          return;
        }
        
        try {

          if (writer) await writer.write(new Uint8Array([0x60, 0xF1, 0x55, 0x55]));  
          await new Promise(resolve => setTimeout(resolve, 20));
          if (writer) await writer.write(new Uint8Array([0xA5, 0x66, 0x01, 0x0D, 0x0A]));
        } catch (e) {
          console.error('[BaudRate] æŒç»­å‘é€æ£€æµ‹å‘½ä»¤å¤±è´¥:', e);
        }
      }, 100);
    }
    

    function startBaudRateDetection() {
      if (!baudRateDetectionActive) return;
      

      if (currentOS !== 'Windows') {
        console.log(`[BaudRate] ${currentOS}ç³»ç»Ÿä¸æ”¯æŒ420000æ³¢ç‰¹çŽ‡åˆ‡æ¢ï¼Œåœæ­¢æ£€æµ‹`);
        baudRateDetectionActive = false;
        return;
      }
      
      if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
      if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
      
      fwBaudRateDetectionTimer = setInterval(async () => {
        if (!baudRateDetectionActive || !fwReadyCheckActive) {
          if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
          if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
          return;
        }
        

        if (currentOS !== 'Windows') {
          console.log(`[BaudRate] ${currentOS}ç³»ç»Ÿä¸æ”¯æŒ420000æ³¢ç‰¹çŽ‡åˆ‡æ¢ï¼Œåœæ­¢æ£€æµ‹`);
          baudRateDetectionActive = false;
          if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
          if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
          return;
        }
        
        fwBaudRateCheckCount++;
        console.log(`[BaudRate] æ£€æµ‹å‘¨æœŸ ${fwBaudRateCheckCount}ï¼šå½“å‰å°è¯• ${fwCurrentTryBaudRate} æ³¢ç‰¹çŽ‡`);
        

        let hasThreeC = false;
        if (serialBuffer.length > 0) {
          let cStreak = 0;
          for (let i = 0; i < serialBuffer.length; i++) {
            if (serialBuffer[i] === 0x43) {
              cStreak++;
              if (cStreak >= 3) {
                hasThreeC = true;
                break;
              }
            } else {
              cStreak = 0;
            }
          }
        }
        
        if (hasThreeC) {

          console.log(`[BaudRate] æ£€æµ‹åˆ°3ä¸ªCï¼Œç¡®è®¤æ³¢ç‰¹çŽ‡ä¸º ${fwCurrentTryBaudRate}`);
          baudRateDetectionActive = false;
          if (fwBaudRateDetectionTimer) clearInterval(fwBaudRateDetectionTimer);
          if (fwSensorDetectionTimer) clearInterval(fwSensorDetectionTimer);
          return;
        }
        

        if (fwCurrentTryBaudRate === 460800) {

          console.log('[BaudRate] 460800æœªæ£€æµ‹åˆ°3ä¸ªCï¼Œåˆ‡æ¢åˆ°420000å°è¯•');
          const success = await switchBaudRateForDetection(420000);
          if (!success) {

            console.log('[BaudRate] æ— æ³•åˆ‡æ¢åˆ°420000ï¼Œç»§ç»­ä½¿ç”¨460800');
            fwCurrentTryBaudRate = 460800;
            serialBuffer = [];
            sendSensorDetectionCommands();
          }
        } else {

          console.log('[BaudRate] 420000æœªæ£€æµ‹åˆ°3ä¸ªCï¼Œåˆ‡æ¢å›ž460800å°è¯•');
          await switchBaudRateForDetection(460800);
        }
      }, 3000);
    }

    //const _orig_initFwPage = typeof initFwPage === 'function' ? initFwPage : null;






    async function ymodemSend(fileData, fileName, onProgress) {
      window._isYmodemBusy = true;
      try {

        const SOH = 0x01, STX = 0x02, EOT = 0x04, ACK = 0x06, NAK = 0x15, CAN = 0x18, CRC = 0x43;
        const PACKET_SIZE = 1024;
        const PACKET_SIZE_128 = 128;
        const MAX_RETRY = 15;
        const TIMEOUT = 5000; // ms

        function crc16(buf) {
          let crc = 0;
          for (let i = 0; i < buf.length; i++) {
            crc ^= (buf[i] << 8);
            for (let j = 0; j < 8; j++) {
              if (crc & 0x8000) crc = (crc << 1) ^ 0x1021;
              else crc <<= 1;
            }
          }
          return crc & 0xFFFF;
        }
        function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }


        async function ymodemWaitAckFromSerialBuffer(expect, timeout = TIMEOUT) {
          const start = Date.now();
          while (Date.now() - start < timeout) {
            if (serialBuffer.length > 0) {

              for (let i = 0; i < serialBuffer.length; i++) {
                const b = serialBuffer[i];
                if ([ACK, NAK, CAN, CRC, EOT].includes(b)) {
                  serialBuffer.splice(i, 1);
                  console.log(`[YMODEM][RECV] æŽ§åˆ¶å­—èŠ‚: 0x${b.toString(16).padStart(2,'0')} (${b === ACK ? 'ACK' : b === NAK ? 'NAK' : b === CAN ? 'CAN' : b === CRC ? 'CRC' : b === EOT ? 'EOT' : ''})`);
                  if (expect.includes(b)) return b;
                  if (b === CAN) throw new Error('å¯¹æ–¹ä¸­æ­¢ä¼ è¾“');

                }
              }
            }
            await sleep(10);
          }
          throw new Error('è¶…æ—¶æœªæ”¶åˆ°ACK/NAK');
        }


        let retry = 0;
        while (retry++ < MAX_RETRY) {
          try {
            console.log('[YMODEM] ç­‰å¾…C (0x43) æ¡æ‰‹...');
            await ymodemWaitAckFromSerialBuffer([CRC], 3000);
            console.log('[YMODEM] æ”¶åˆ°C (0x43)ï¼Œæ¡æ‰‹æˆåŠŸ');
            break;
          } catch (e) {
            console.warn(`[YMODEM] æ¡æ‰‹æœªæ”¶åˆ°Cï¼Œé‡è¯•${retry}/${MAX_RETRY}`);
            if (retry >= MAX_RETRY) throw new Error('æœªæ”¶åˆ°Cï¼Œè®¾å¤‡æœªå“åº”');
          }
        }

        let header = new Uint8Array(PACKET_SIZE_128 + 5);
        header[0] = SOH;
        header[1] = 0x00;
        header[2] = 0xFF;

        let nameBytes = new TextEncoder().encode(fileName);
        let sizeBytes = new TextEncoder().encode(fileData.length.toString());
        header.set(nameBytes, 3);
        header[3 + nameBytes.length] = 0x00;
        header.set(sizeBytes, 4 + nameBytes.length);
        header[4 + nameBytes.length + sizeBytes.length] = 0x00;

        for (let i = 3 + nameBytes.length + 1 + sizeBytes.length + 1; i < 3 + PACKET_SIZE_128; i++) header[i] = 0;
        // CRC
        let crc = crc16(header.slice(3, 3 + PACKET_SIZE_128));
        header[PACKET_SIZE_128 + 3] = (crc >> 8) & 0xFF;
        header[PACKET_SIZE_128 + 4] = crc & 0xFF;

        retry = 0;
        while (retry++ < MAX_RETRY) {
          console.log('[YMODEM][SEND] å¤´åŒ…:', Array.from(header).map(b=>b.toString(16).padStart(2,'0')).join(' '));
          await writer.write(header);
          let gotAck = false;
          const start = Date.now();
          while (Date.now() - start < TIMEOUT) {
            if (serialBuffer.length > 0) {
              for (let i = 0; i < serialBuffer.length; i++) {
                const b = serialBuffer[i];
                if (b === ACK) {
                  serialBuffer.splice(i, 1);
                  gotAck = true;
                  console.log('[YMODEM][RECV] å¤´åŒ…æ”¶åˆ°ACK (0x06)');
                  break;
                }
                if ([CRC, NAK, CAN].includes(b)) {
                  serialBuffer.splice(i, 1);
                  if (b === NAK) {
                    console.warn('[YMODEM][RECV] æ”¶åˆ°NAKï¼Œé‡å‘å¤´åŒ…');
                    break;
                  }
                  if (b === CAN) throw new Error('å¯¹æ–¹ä¸­æ­¢ä¼ è¾“');

                }
              }
            }
            if (gotAck) break;
            await sleep(10);
          }
          if (gotAck) {

            let removed = 0;
            for (let i = serialBuffer.length - 1; i >= 0; i--) {
              if (serialBuffer[i] === CRC) {
                serialBuffer.splice(i, 1);
                removed++;
              }
            }
            if (removed > 0) console.log(`[YMODEM] æ¡æ‰‹åŽæ¸…ç†äº†${removed}ä¸ªC(0x43)`);
            break;
          }
          if (retry >= MAX_RETRY) throw new Error('å¤´åŒ…æœªè¢«ACK');
        }

        let total = fileData.length;
        let sent = 0;
        let pktNum = 1;
        while (sent < total) {
          let chunk = fileData.slice(sent, sent + PACKET_SIZE);
          let pkt = new Uint8Array(PACKET_SIZE + 5);
          pkt[0] = STX;
          pkt[1] = pktNum & 0xFF;
          pkt[2] = 0xFF - pkt[1];
          pkt.set(chunk, 3);
          for (let i = 3 + chunk.length; i < 3 + PACKET_SIZE; i++) pkt[i] = 0x1A;
          let crc = crc16(pkt.slice(3, 3 + PACKET_SIZE));
          pkt[PACKET_SIZE + 3] = (crc >> 8) & 0xFF;
          pkt[PACKET_SIZE + 4] = crc & 0xFF;
          retry = 0;
          while (retry++ < MAX_RETRY) {
            console.log(`[YMODEM][SEND] æ•°æ®åŒ…#${pktNum}:`, Array.from(pkt).map(b=>b.toString(16).padStart(2,'0')).join(' '));
            await writer.write(pkt);
            try {
              let ack = await ymodemWaitAckFromSerialBuffer([ACK, NAK], TIMEOUT);
              if (ack === ACK) { console.log(`[YMODEM][RECV] æ•°æ®åŒ…#${pktNum} æ”¶åˆ°ACK`); break; }
              if (ack === NAK) { console.warn(`[YMODEM][RECV] æ•°æ®åŒ…#${pktNum} æ”¶åˆ°NAKï¼Œé‡å‘`); }
            } catch (e) {
              if (retry >= MAX_RETRY) throw new Error('æ•°æ®åŒ…æœªè¢«ACK');
            }
          }
          sent += chunk.length;
          pktNum = (pktNum + 1) & 0xFF;
          if (onProgress) onProgress(sent, total);
        }

        retry = 0;
        while (retry++ < MAX_RETRY) {
          console.log('[YMODEM][SEND] EOT (0x04)');
          await writer.write(new Uint8Array([EOT]));
          try {
            let ack = await ymodemWaitAckFromSerialBuffer([ACK], TIMEOUT);
            if (ack === ACK) { console.log('[YMODEM][RECV] EOTæ”¶åˆ°ACK'); break; }
          } catch (e) {
            if (retry >= MAX_RETRY) throw new Error('EOTæœªè¢«ACK');
          }
        }

        let endPkt = new Uint8Array(PACKET_SIZE_128 + 5);
        endPkt[0] = SOH;
        endPkt[1] = 0x00;
        endPkt[2] = 0xFF;
        for (let i = 3; i < 3 + PACKET_SIZE_128; i++) endPkt[i] = 0;
        let endCrc = crc16(endPkt.slice(3, 3 + PACKET_SIZE_128));
        endPkt[PACKET_SIZE_128 + 3] = (endCrc >> 8) & 0xFF;
        endPkt[PACKET_SIZE_128 + 4] = endCrc & 0xFF;
        retry = 0;
        while (retry++ < MAX_RETRY) {
          console.log('[YMODEM][SEND] ç»“æŸåŒ…:', Array.from(endPkt).map(b=>b.toString(16).padStart(2,'0')).join(' '));
          await writer.write(endPkt);
          try {
            let ack = await ymodemWaitAckFromSerialBuffer([ACK], TIMEOUT);
            if (ack === ACK) { console.log('[YMODEM][RECV] ç»“æŸåŒ…æ”¶åˆ°ACK'); break; }
          } catch (e) {
            if (retry >= MAX_RETRY) throw new Error('ç»“æŸåŒ…æœªè¢«ACK');
          }
        }
        await sleep(100);
        console.log('[YMODEM] ä¼ è¾“å®Œæˆ');
      } finally {
        window._isYmodemBusy = false;
      }
    }


    function renderParameterControls(params, container, parent = 0,mode = null) {
      if (!mode) {
        const commTitle = document.querySelector('#page-net .comm-title');
        if (commTitle && commTitle.textContent.includes('RX')) mode = 'RX';
        else mode = 'TX';
      }

      const vtxFolder = params.find(p => p.baseType === 11 && p.name && p.name.includes('VTX Administrator'));
      let vtxFolderNum = vtxFolder ? vtxFolder.paramNum : null;
      let filtered = params.filter(p => {
        if (vtxFolderNum !== null) {
          if (p.baseType === 11 && p.paramNum === vtxFolderNum) return false;
          if (p.parentFolder === vtxFolderNum) return false;
        }
        return true;
      });



      filtered.filter(p => p.baseType === 11 && p.parentFolder === parent && !p.hidden).forEach(folder => {
        const folderDiv = document.createElement('div');
        folderDiv.className = 'setting-item';
        folderDiv.style.background = '#eaf1ff';
        folderDiv.style.cursor = 'pointer';
        folderDiv.style.fontWeight = 'bold';
        folderDiv.style.textAlign = 'left';
        folderDiv.textContent = folder.name;
        folderDiv.onclick = function() {
          const sub = folderDiv.nextSibling;
          if (sub && sub.className === 'param-container') {
            sub.style.display = (sub.style.display === 'none' ? '' : 'none');
          }
        };
        container.appendChild(folderDiv);
        const subContainer = document.createElement('div');
        subContainer.className = 'param-container';
        subContainer.style.marginLeft = '24px';
        container.appendChild(subContainer);
        renderParameterControls(filtered, subContainer, folder.paramNum, mode);
      });

      filtered.filter(p => p.parentFolder === parent && p.baseType !== 11 && !p.hidden).forEach(param => {
        const item = document.createElement('div');
        item.className = 'setting-item';
        item.style.display = 'flex';
        item.style.alignItems = 'center';
        item.style.justifyContent = 'space-between';
        item.style.gap = '18px';
        const label = document.createElement('span');
        label.className = 'setting-label';
        label.textContent = param.name + (param.unit ? ' (' + param.unit + ')' : '');
        label.style.textAlign = 'left';
        label.style.flex = '1 1 0';
        label.style.minWidth = '120px';
        label.style.maxWidth = '320px';
        item.appendChild(label);
        const control = document.createElement('div');
        control.className = 'setting-control';
        control.style.flex = '0 0 auto';
        control.style.display = 'flex';
        control.style.alignItems = 'center';
        control.style.gap = '10px';

        if ([0,1,2,3,8].includes(param.baseType)) {
          const input = document.createElement('input');
          input.type = 'number';
          input.value = param.value;
          if (param.min !== null) input.min = param.min;
          if (param.max !== null) input.max = param.max;
          if (param.step !== null) input.step = param.step;
          input.style.width = '120px';
          input.style.minWidth = '120px';
          input.style.maxWidth = '120px';
          input.style.textAlign = 'right';
          input.onchange = () => {
            const modeByte = window._lastRefreshMode === 'TX' ? 0x11 : 0x22;
            const arr = [0xA5, 0x33, modeByte, param.paramNum, input.value, 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arr));
            console.log('æ•°å€¼åž‹æŽ§ä»¶å˜æ›´:', param.paramNum, 'æ–°å€¼:', input.value);
          };
          control.appendChild(input);
        } else if (param.baseType === 9 && param.options) {
          // TEXT_SELECTION
          const select = document.createElement('select');
          select.style.width = '180px';
          select.style.minWidth = '180px';
          select.style.maxWidth = '180px';
          select.style.textAlign = 'center';
          param.options.forEach((opt, idx) => {

            //let cleanOpt = opt.replace(/[^0-9a-zA-Z\(\)\-: ]/g, '');
            //let cleanOpt = opt.replace(/[^0-9a-zA-Z$$\-:\/ ]/g, '');
            let cleanOpt = opt;

            const option = document.createElement('option');
            option.value = idx;

            if (cleanOpt.length === 0) 
            {
              cleanOpt = '(ç©º)';
              option.hidden = true;
              option.disabled = true;
            }
            option.textContent = cleanOpt;
            if (idx === param.value) option.selected = true;
            select.appendChild(option);
          });
          select.onchange = () => {
            const modeByte = window._lastRefreshMode === 'TX' ? 0x11 : 0x22;
            const arr = [0xA5, 0x33, modeByte, param.paramNum, Number(select.value), 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arr));
            console.log('å·²å‘é€:', arr.map(x=>x.toString(16).padStart(2,'0')).join(' '));
          };
          control.appendChild(select);
        } else if (param.baseType === 10) {
          // STRING
          const input = document.createElement('input');
          input.type = 'text';
          input.value = param.value;
          input.maxLength = param.strMaxLen || 32;
          input.onchange = () => {
            console.log('å­—ç¬¦ä¸²æŽ§ä»¶å˜æ›´:', param.paramNum, 'æ–°å€¼:', input.value);
            // sendParameterSet(param, input.value);
          };
          control.appendChild(input);
        } else if (param.baseType === 13) {
          // COMMAND
          const btn = document.createElement('button');

          if(currentLang === 'zh') {
            btn.textContent = 'Iniciar';
          } else {
            btn.textContent = 'Start';
          }
          btn.setAttribute('data-i18n', 'execute');
          btn.style.minWidth = '130px';
          btn.style.maxWidth = '130px';
          btn.onclick = () => {
            console.log('å‘½ä»¤æŒ‰é’®ç‚¹å‡»:', param.paramNum, 'çŠ¶æ€:', param.status);
            const modeByte = window._lastRefreshMode === 'TX' ? 0x11 : 0x22;
            const arrStart = [0xA5, 0x33, modeByte, param.paramNum, 1, 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arrStart));
            console.log('å·²å‘é€START:', arrStart.map(x=>x.toString(16).padStart(2,'0')).join(' '));

            let dialog = document.createElement('div');
            dialog.style.position = 'fixed';
            dialog.style.left = '0';
            dialog.style.top = '0';
            dialog.style.width = '100vw';
            dialog.style.height = '100vh';
            dialog.style.background = 'rgba(0,0,0,0.18)';
            dialog.style.display = 'flex';
            dialog.style.alignItems = 'center';
            dialog.style.justifyContent = 'center';
            dialog.style.zIndex = '9999';
            let inner = document.createElement('div');
            inner.style.background = '#fff';
            inner.style.borderRadius = '16px';
            inner.style.boxShadow = '0 4px 24px rgba(79,140,255,0.18)';
            inner.style.padding = '38px 48px 32px 48px';
            inner.style.display = 'flex';
            inner.style.flexDirection = 'column';
            inner.style.alignItems = 'center';
            inner.style.minWidth = '260px';
            inner.style.maxWidth = '90vw';
            inner.innerHTML = `<div style="font-size:1.18em;color:#3358e0;font-weight:bold;margin-bottom:18px;">${param.name||'Operacao de comando'}</div>`;
            let msg = document.createElement('div');
            msg.style.fontSize = '1.08em';
            msg.style.color = '#222';
            msg.style.marginBottom = '18px';
            inner.appendChild(msg);
            let closeBtn = null;
            let timer = null;
            let poller = null;

            const isBind = (param.name && /bind|å¯¹é¢‘|é…å¯¹/i.test(param.name)) || (param.info && /bind|å¯¹é¢‘|é…å¯¹/i.test(param.info));
            if (isBind) {
              msg.textContent = currentLang === 'zh' ? 'Vinculando...' : 'Binding...';
              document.body.appendChild(dialog);
              dialog.appendChild(inner);

              timer = setTimeout(() => {
                const arrEnd = [0xA5, 0x33, modeByte, param.paramNum, 6, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrEnd));
                document.body.removeChild(dialog);
              }, 2000);
            } else {
              msg.textContent = currentLang === 'zh' ? 'Executando...' : 'Operating...';
              closeBtn = document.createElement('button');
              closeBtn.textContent = currentLang === 'zh' ? 'Encerrar' : 'End';
              closeBtn.style.marginTop = '12px';
              closeBtn.style.background = 'linear-gradient(90deg,#e74c3c 0%,#c0392b 100%)';
              closeBtn.style.color = '#fff';
              closeBtn.style.border = 'none';
              closeBtn.style.borderRadius = '8px';
              closeBtn.style.padding = '10px 32px';
              closeBtn.style.fontSize = '1.08em';
              closeBtn.style.fontWeight = 'bold';
              closeBtn.style.cursor = 'pointer';
              closeBtn.onclick = () => {
                if (poller) clearInterval(poller);
                const arrStop = [0xA5, 0x33, modeByte, param.paramNum, 5, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrStop));
                console.log('æŒç»­ç±»ç‚¹å‡»ç»“æŸå‘é€STOP:', arrStop.map(x=>x.toString(16).padStart(2,'0')).join(' '));
                document.body.removeChild(dialog);
              };
              inner.appendChild(closeBtn);
              document.body.appendChild(dialog);
              dialog.appendChild(inner);

              poller = setInterval(() => {
                const arrPoll = [0xA5, 0x33, modeByte, param.paramNum, 6, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrPoll));
                console.log('æŒç»­ç±»è½®è¯¢å‘é€POLL:', arrPoll.map(x=>x.toString(16).padStart(2,'0')).join(' '));
              }, 1500);
            }
          };
          control.appendChild(btn);
          if (param.info) {
            const infoSpan = document.createElement('span');
            infoSpan.textContent = param.info;
            infoSpan.style.marginLeft = '8px';
            control.appendChild(infoSpan);
          }
        } else if (param.baseType === 12) {
          // INFO
          const span = document.createElement('span');
          span.textContent = param.value;
          control.appendChild(span);
        } else {

          const span = document.createElement('span');
          span.textContent = param.value;
          control.appendChild(span);
        }
        item.appendChild(control);
        container.appendChild(item);
      });
    }


    const wirelessControls = document.querySelector('.wireless-controls');
    if (wirelessControls) {
      wirelessControls.style.display = 'flex';
      wirelessControls.style.flexDirection = 'row';
      wirelessControls.style.justifyContent = 'center';
      wirelessControls.style.alignItems = 'center';
      wirelessControls.style.gap = '22px';
      wirelessControls.style.margin = '18px 0 0 0';
      const btns = wirelessControls.querySelectorAll('button');
      btns.forEach(btn => {
        btn.style.minWidth = '130px';
        btn.style.maxWidth = '130px';
        btn.style.fontSize = '1.08em';
        btn.style.margin = '0';
      });
      const spans = wirelessControls.querySelectorAll('span');
      spans.forEach(span => {
        span.style.minWidth = '80px';
        span.style.textAlign = 'left';
        span.style.display = 'inline-block';
      });
    }


    function crc8tab_js(ptr, len) {
      const crc8tab = [
        0x00, 0xD5, 0x7F, 0xAA, 0xFE, 0x2B, 0x81, 0x54, 0x29, 0xFC, 0x56, 0x83, 0xD7, 0x02, 0xA8, 0x7D,
        0x52, 0x87, 0x2D, 0xF8, 0xAC, 0x79, 0xD3, 0x06, 0x7B, 0xAE, 0x04, 0xD1, 0x85, 0x50, 0xFA, 0x2F,
        0xA4, 0x71, 0xDB, 0x0E, 0x5A, 0x8F, 0x25, 0xF0, 0x8D, 0x58, 0xF2, 0x27, 0x73, 0xA6, 0x0C, 0xD9,
        0xF6, 0x23, 0x89, 0x5C, 0x08, 0xDD, 0x77, 0xA2, 0xDF, 0x0A, 0xA0, 0x75, 0x21, 0xF4, 0x5E, 0x8B,
        0x9D, 0x48, 0xE2, 0x37, 0x63, 0xB6, 0x1C, 0xC9, 0xB4, 0x61, 0xCB, 0x1E, 0x4A, 0x9F, 0x35, 0xE0,
        0xCF, 0x1A, 0xB0, 0x65, 0x31, 0xE4, 0x4E, 0x9B, 0xE6, 0x33, 0x99, 0x4C, 0x18, 0xCD, 0x67, 0xB2,
        0x39, 0xEC, 0x46, 0x93, 0xC7, 0x12, 0xB8, 0x6D, 0x10, 0xC5, 0x6F, 0xBA, 0xEE, 0x3B, 0x91, 0x44,
        0x6B, 0xBE, 0x14, 0xC1, 0x95, 0x40, 0xEA, 0x3F, 0x42, 0x97, 0x3D, 0xE8, 0xBC, 0x69, 0xC3, 0x16,
        0xEF, 0x3A, 0x90, 0x45, 0x11, 0xC4, 0x6E, 0xBB, 0xC6, 0x13, 0xB9, 0x6C, 0x38, 0xED, 0x47, 0x92,
        0xBD, 0x68, 0xC2, 0x17, 0x43, 0x96, 0x3C, 0xE9, 0x94, 0x41, 0xEB, 0x3E, 0x6A, 0xBF, 0x15, 0xC0,
        0x4B, 0x9E, 0x34, 0xE1, 0xB5, 0x60, 0xCA, 0x1F, 0x62, 0xB7, 0x1D, 0xC8, 0x9C, 0x49, 0xE3, 0x36,
        0x19, 0xCC, 0x66, 0xB3, 0xE7, 0x32, 0x98, 0x4D, 0x30, 0xE5, 0x4F, 0x9A, 0xCE, 0x1B, 0xB1, 0x64,
        0x72, 0xA7, 0x0D, 0xD8, 0x8C, 0x59, 0xF3, 0x26, 0x5B, 0x8E, 0x24, 0xF1, 0xA5, 0x70, 0xDA, 0x0F,
        0x20, 0xF5, 0x5F, 0x8A, 0xDE, 0x0B, 0xA1, 0x74, 0x09, 0xDC, 0x76, 0xA3, 0xF7, 0x22, 0x88, 0x5D,
        0xD6, 0x03, 0xA9, 0x7C, 0x28, 0xFD, 0x57, 0x82, 0xFF, 0x2A, 0x80, 0x55, 0x01, 0xD4, 0x7E, 0xAB,
        0x84, 0x51, 0xFB, 0x2E, 0x7A, 0xAF, 0x05, 0xD0, 0xAD, 0x78, 0xD2, 0x07, 0x53, 0x86, 0x2C, 0xF9
      ];
      let crc = 0;
      for (let i = 0; i < len; i++) {
        crc = crc8tab[crc ^ ptr[i]];
      }
      return crc;
    }


    function parseDeviceInfoPacket(buf) {

      const len = buf[1];
      const crc = buf[len+1];
      // console.log("crc:",crc);
      // console.log("len:",len);
      const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);

      if (crc !== calcCrc) {

        //return null;
      }
      else
      {
        let offset = 2;
        const devVolume = buf[offset];
        offset++;
        const serialNumber = new TextDecoder().decode(buf.slice(offset, offset+20)).replace(/\0.*$/, '');
        offset += 20;
        const elrsFirmWare = new TextDecoder().decode(buf.slice(offset, offset+20)).replace(/\0.*$/, '');
        offset += 20;
        const deviceFirmWare = new TextDecoder().decode(buf.slice(offset, offset+10)).replace(/\0.*$/, '');
        offset += 10;
        const elrsName = new TextDecoder().decode(buf.slice(offset, offset+50)).replace(/\0.*$/, '');
        offset += 50;
        const companyName = new TextDecoder().decode(buf.slice(offset, offset+20)).replace(/\0.*$/, '');
        offset += 20;
        const devName = new TextDecoder().decode(buf.slice(offset, offset+20)).replace(/\0.*$/, '');
        offset += 20;
        const sendPackSpeed = buf[offset];
        const returnSpeed = buf[offset+1];
        const calibrationFlag = buf[offset+2];
        const connectProtocol = buf[offset+3];
        const channelNum = buf[offset+4];
        const secretKey = buf[offset+5];
        const powerVal = buf[offset+6];
        const remoteCtlClass = buf[offset+7];
        const mixedCtl = buf[offset+8];
        const keyModel = buf.slice(offset + 9, offset + 9 + 6);;
        const slideMid = buf[offset+9+6];
        const slideMidData = buf[offset+9+8]*256 + buf[offset+9+7];
        const RxWarning = buf[offset+9+9];
        const LowPowerWarning = buf[offset+9+10];
        const LeftTrimReset = buf[offset+9+11];
        const RightTrimReset = buf[offset+9+12];


        console.log('[è®¾å¤‡å±žæ€§] å­—æ®µæ˜Žç»†:', {
          devVolume, serialNumber, elrsFirmWare, deviceFirmWare, elrsName, companyName, devName,
          sendPackSpeed, returnSpeed, calibrationFlag, connectProtocol, channelNum, secretKey, powerVal, remoteCtlClass, mixedCtl,
          keyModel,slideMid,slideMidData,RxWarning,LowPowerWarning,LeftTrimReset,RightTrimReset

        });
        return {
          devVolume, serialNumber, elrsFirmWare, deviceFirmWare, elrsName, companyName, devName,
          sendPackSpeed, returnSpeed, calibrationFlag, connectProtocol, channelNum, secretKey, powerVal, remoteCtlClass, mixedCtl,
          keyModel,slideMid,slideMidData,RxWarning,LowPowerWarning,LeftTrimReset,RightTrimReset
        };
      }
    }


    menuBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      serialBuffer = [];
      console.log("serialBuffer:", serialBuffer);

      // if (btn.dataset.page === 'attr') {
      //   renderDeviceInfoPage();
      // }

      showMainPage(btn.dataset.page);
    });
  });


    window._autoRefreshTask = null;
    window._lastRefreshMode = null; // 'TX' or 'RX'
    window._lastRefreshSuccess = false;
    window._refreshTryCount = 0;
    window._refreshMaxTry = 3;
    window._refreshTimeout = 2000;
    window._refreshSuccessCallback = null;
    window._netPageAutoRefreshed = false;

    function stopAutoRefresh() {
      if (window._autoRefreshTask) {
        clearTimeout(window._autoRefreshTask);
        window._autoRefreshTask = null;
      }
      //document.getElementById('refresh-settings').disabled = true;
      document.getElementById('refresh-settings-rx').disabled = true;
      window._refreshTryCount = 0;
      window._lastRefreshSuccess = false;
      window._refreshSuccessCallback = null;
    }

    function autoRefresh(mode, callback) {
      //document.getElementById('refresh-settings').disabled = false;
      document.getElementById('refresh-settings-rx').disabled = false;
      stopAutoRefresh();
      window._lastRefreshMode = mode;
      window._refreshTryCount = 0;
      window._lastRefreshSuccess = false;
      window._refreshSuccessCallback = callback;
      console.log('autoRefresh: running', mode);
      function tryRefresh() {
        if (window._lastRefreshSuccess) return;
        if (window._refreshTryCount >= window._refreshMaxTry) return;
        window._refreshTryCount++;
        if (window._lastRefreshMode === 'TX') {
          if (typeof refreshSettings === 'function') refreshSettings();
        } 
        else {

          if (typeof refreshSettingsRX === 'function') refreshSettingsRX();
        }
      }
      tryRefresh();
    }


    const _orig_parseCRSFPacket = parseCRSFPacket;
    parseCRSFPacket = function(bigPacket) {

      if (window._autoRefreshTask && window._lastRefreshMode) {
        window._lastRefreshSuccess = true;
        stopAutoRefresh();
        if (typeof window._refreshSuccessCallback === 'function') window._refreshSuccessCallback();
      }
      return _orig_parseCRSFPacket.apply(this, arguments);
    };


    function renderParameterControls(params, container, parent = 0, mode = null, isInitialRender = false) {
      if (!mode) {
        const commTitle = document.querySelector('#page-net .comm-title');
        if (commTitle && commTitle.textContent.includes('RX')) mode = 'RX';
        else mode = 'TX';
      }

      const vtxFolder = params.find(p => p.baseType === 11 && p.name && p.name.includes('VTX Administrator'));
      let vtxFolderNum = vtxFolder ? vtxFolder.paramNum : null;
      let filtered = params.filter(p => {
        if (vtxFolderNum !== null) {
          if (p.baseType === 11 && p.paramNum === vtxFolderNum) return false;
          if (p.parentFolder === vtxFolderNum) return false;
        }
        return true;
      });

      filtered.filter(p => p.baseType === 11 && p.parentFolder === parent && !p.hidden).forEach(folder => {
        const folderDiv = document.createElement('div');
        folderDiv.className = 'setting-item';
        folderDiv.style.background = '#eaf1ff';
        folderDiv.style.cursor = 'pointer';
        folderDiv.style.fontWeight = 'bold';
        folderDiv.style.textAlign = 'left';
        folderDiv.textContent = folder.name;
        folderDiv.onclick = function() {
          const sub = folderDiv.nextSibling;
          if (sub && sub.className === 'param-container') {
            sub.style.display = (sub.style.display === 'none' ? '' : 'none');
          }
        };
        container.appendChild(folderDiv);
        const subContainer = document.createElement('div');
        subContainer.className = 'param-container';
        subContainer.style.marginLeft = '24px';
        container.appendChild(subContainer);
        renderParameterControls(filtered, subContainer, folder.paramNum, mode, isInitialRender);
      });

      filtered.filter(p => p.parentFolder === parent && p.baseType !== 11 && !p.hidden).forEach(param => {
        const item = document.createElement('div');
        item.className = 'setting-item';
        item.style.display = 'flex';
        item.style.alignItems = 'center';
        item.style.justifyContent = 'space-between';
        item.style.gap = '18px';
        const label = document.createElement('span');
        label.className = 'setting-label';
        label.textContent = param.name + (param.unit ? ' (' + param.unit + ')' : '');
        label.style.textAlign = 'left';
        label.style.flex = '1 1 0';
        label.style.minWidth = '120px';
        label.style.maxWidth = '320px';
        item.appendChild(label);
        const control = document.createElement('div');
        control.className = 'setting-control';
        control.style.flex = '0 0 auto';
        control.style.display = 'flex';
        control.style.alignItems = 'center';
        control.style.gap = '10px';

        if ([0,1,2,3,8].includes(param.baseType)) {
          const input = document.createElement('input');
          input.type = 'number';
          input.value = param.value;
          if (param.min !== null) input.min = param.min;
          if (param.max !== null) input.max = param.max;
          if (param.step !== null) input.step = param.step;
          input.style.width = '120px';
          input.style.minWidth = '120px';
          input.style.maxWidth = '120px';
          input.style.textAlign = 'right';
          let userChanged = false;
          input.addEventListener('input', () => { userChanged = true; });
          input.onchange = () => {
            if (!userChanged) return; userChanged = false;
            const modeByte = 'TX' === window._lastRefreshMode? 0x11 : 0x22;
            const arr = [0xA5, 0x33, modeByte, param.paramNum, input.value, 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arr));

            if (!isInitialRender) {
              setTimeout(() => autoRefresh(window._lastRefreshMode), 500);
            }
          };
          control.appendChild(input);
        } else if (param.baseType === 9 && param.options) {
          // TEXT_SELECTION
          const select = document.createElement('select');
          select.style.width = '180px';
          select.style.minWidth = '180px';
          select.style.maxWidth = '180px';
          select.style.textAlign = 'right';
          param.options.forEach((opt, idx) => {
            //let cleanOpt = opt.replace(/[^0-9a-zA-Z\(\)\-: ]/g, '');
            // let cleanOpt = opt.replace(/[^0-9a-zA-Z$$\-:\/ ]/g, '');
            //let cleanOpt = opt.replace(/[^0-9a-zA-Z$$\-:\/ ]/g, '');
            let cleanOpt = opt;
            const option = document.createElement('option');    
            if (cleanOpt.length === 0) 
            {
              option.hidden = true;
              option.disabled = true;
              cleanOpt = '(ç©º)';
            }
            option.value = idx;
            option.textContent = cleanOpt;
            if (idx === param.value) option.selected = true;
            select.appendChild(option);
          });
          let userChanged = false;
          select.addEventListener('input', () => { userChanged = true; });
          select.onchange = () => {
            if (!userChanged) return; userChanged = false;
            const modeByte = 'TX' === window._lastRefreshMode ? 0x11 : 0x22;
            const arr = [0xA5, 0x33, modeByte, param.paramNum, Number(select.value), 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arr));
            if (!isInitialRender) {
              setTimeout(() => autoRefresh(window._lastRefreshMode), 500);
            }
          };
          control.appendChild(select);
        } else if (param.baseType === 10) {
          // STRING
          const input = document.createElement('input');
          input.type = 'text';
          input.value = param.value;
          input.maxLength = param.strMaxLen || 32;
          input.style.width = '180px';
          input.style.minWidth = '180px';
          input.style.maxWidth = '180px';
          input.style.textAlign = 'right';
          let userChanged = false;
          input.addEventListener('input', () => { userChanged = true; });
          input.onchange = () => {
            if (!userChanged) return; userChanged = false;

          };
          control.appendChild(input);
        } else if (param.baseType === 13) {
          // COMMAND
          const btn = document.createElement('button');
          if(currentLang === 'zh') {
            btn.textContent = 'Iniciar';
          } else {
            btn.textContent = 'Start';
          }
          btn.setAttribute('data-i18n', 'Start');
          btn.style.minWidth = '130px';
          btn.style.maxWidth = '130px';
          btn.onclick = () => {
            const modeByte = 'TX' === window._lastRefreshMode ? 0x11 : 0x22;
            const arrStart = [0xA5, 0x33, modeByte, param.paramNum, 1, 0x0D, 0x0A];
            if (writer) writer.write(new Uint8Array(arrStart));

            let dialog = document.createElement('div');
            dialog.style.position = 'fixed';
            dialog.style.left = '0';
            dialog.style.top = '0';
            dialog.style.width = '100vw';
            dialog.style.height = '100vh';
            dialog.style.background = 'rgba(0,0,0,0.18)';
            dialog.style.display = 'flex';
            dialog.style.alignItems = 'center';
            dialog.style.justifyContent = 'center';
            dialog.style.zIndex = '9999';
            let inner = document.createElement('div');
            inner.style.background = '#fff';
            inner.style.borderRadius = '16px';
            inner.style.boxShadow = '0 4px 24px rgba(79,140,255,0.18)';
            inner.style.padding = '38px 48px 32px 48px';
            inner.style.display = 'flex';
            inner.style.flexDirection = 'column';
            inner.style.alignItems = 'center';
            inner.style.minWidth = '260px';
            inner.style.maxWidth = '90vw';
            inner.innerHTML = `<div style="font-size:1.18em;color:#3358e0;font-weight:bold;margin-bottom:18px;">${param.name||'Operacao de comando'}</div>`;
            let msg = document.createElement('div');
            msg.style.fontSize = '1.08em';
            msg.style.color = '#222';
            msg.style.marginBottom = '18px';
            inner.appendChild(msg);
            let closeBtn = null;
            let timer = null;
            let poller = null;

            const isBind = (param.name && /bind|å¯¹é¢‘|é…å¯¹/i.test(param.name)) || (param.info && /bind|å¯¹é¢‘|é…å¯¹/i.test(param.info));
            if (isBind) {
              msg.textContent = currentLang === 'zh' ? 'Vinculando...' : 'Binding...';
              document.body.appendChild(dialog);
              dialog.appendChild(inner);

              timer = setTimeout(() => {
                const arrEnd = [0xA5, 0x33, modeByte, param.paramNum, 6, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrEnd));
                document.body.removeChild(dialog);
              }, 2000);
            } else {
              msg.textContent = currentLang === 'zh' ? 'Executando...' : 'Operating...';
              closeBtn = document.createElement('button');
              closeBtn.textContent = currentLang === 'zh' ? 'Encerrar' : 'End';
              closeBtn.style.marginTop = '12px';
              closeBtn.style.background = 'linear-gradient(90deg,#e74c3c 0%,#c0392b 100%)';
              closeBtn.style.color = '#fff';
              closeBtn.style.border = 'none';
              closeBtn.style.borderRadius = '8px';
              closeBtn.style.padding = '10px 32px';
              closeBtn.style.fontSize = '1.08em';
              closeBtn.style.fontWeight = 'bold';
              closeBtn.style.cursor = 'pointer';
              closeBtn.onclick = () => {
                if (poller) clearInterval(poller);
                const arrStop = [0xA5, 0x33, modeByte, param.paramNum, 5, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrStop));
                document.body.removeChild(dialog);
              };
              inner.appendChild(closeBtn);
              document.body.appendChild(dialog);
              dialog.appendChild(inner);

              poller = setInterval(() => {
                const arrPoll = [0xA5, 0x33, modeByte, param.paramNum, 6, 0x0D, 0x0A];
                if (writer) writer.write(new Uint8Array(arrPoll));
                console.log('æŒç»­ç±»è½®è¯¢å‘é€POLL:', arrPoll.map(x=>x.toString(16).padStart(2,'0')).join(' '));
              }, 1500);
            }
          };
          control.appendChild(btn);
          if (param.info) {
            const infoSpan = document.createElement('span');
            infoSpan.textContent = param.info;
            infoSpan.style.marginLeft = '8px';
            control.appendChild(infoSpan);
          }
        } else if (param.baseType === 12) {
          const span = document.createElement('span');
          span.textContent = param.value;
          control.appendChild(span);
        } else {
          const span = document.createElement('span');
          span.textContent = param.value;
          control.appendChild(span);
        }
        item.appendChild(control);
        container.appendChild(item);
      });
    }


    const _orig_showMainPage = showMainPage;
    showMainPage = function(page) {
      _orig_showMainPage.apply(this, arguments);
      if (page === 'net') {
        if (!window._netPageAutoRefreshed) {
          window._netPageAutoRefreshed = true;
          netConfBuffer = [];
          autoRefresh('TX');
        }
      }

      if (page === 'config') {
        renderConfigPage();
      }
    };


    function renderConfigPage() {
      const configPage = document.getElementById('page-config');
      if (!configPage) return;

      const modeList = [
        { name: 'M1', map: ['ELE', 'RUD', 'THR', 'AIL'] },
        { name: 'M2', map: ['THR', 'RUD', 'ELE', 'AIL'] },
        { name: 'M3', map: ['ELE', 'AIL', 'THR', 'RUD'] },
        { name: 'M4', map: ['THR', 'AIL', 'ELE', 'RUD'] },
      ];
      let currentModeIdx = window._currentModeIdx || 0;
      
      function getModeMap(idx) { 

        if (typeof idx !== 'number' || idx < 0 || idx >= modeList.length) {
          idx = 0;
        }
        return modeList[idx].map; 
      }

      let html = `<div class="comm-container"><div class="comm-title" data-i18n="config-channel">é€šé“é…ç½®</div>
        <div style="display:flex;gap:0;align-items:flex-start;">
          <div id="config-menu" style="display:flex;flex-direction:column;gap:0;width:180px;min-width:120px;background:#f4f8ff;border-radius:12px 0 0 12px;box-shadow:0 2px 8px #e0e7ff;overflow:hidden;">
            <button class="config-menu-btn active" data-page="channel" style="padding:18px 0;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="channel-monitor">é€šé“ç›‘è§†å™¨</button>
            <button class="config-menu-btn" data-page="channel-attr" style="padding:18px 0;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="channel-attr">é€šé“å±žæ€§</button>
            <button class="config-menu-btn" data-page="channel-map" style="padding:18px 0;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="channel-map">é€šé“æ˜ å°„</button>
            <button class="config-menu-btn" data-page="trim-center" style="padding:18px 0;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="trim-center">Trimå’ŒCenter</button>
            <button class="config-menu-btn" data-page="mode" style="padding:18px 0;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="mode">æ‘‡æ†æ¨¡å¼</button>
            <button class="config-menu-btn" data-page="expo" style="padding:18px 0;display:none;border:none;background:none;font-size:1.13em;color:#3358e0;font-weight:bold;cursor:pointer;transition:background 0.2s;" data-i18n="dual-rate-title">å¤§å°èˆµ</button>
          </div>
          <div id="config-stack" style="flex:1 1 0;background:#fff;border-radius:0 12px 12px 0;box-shadow:0 2px 8px #e0e7ff;padding:32px 36px;min-height:900px;position:relative;">
            <div class="config-stack-page" data-page="channel-map" style="display:none;">
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <div style="font-weight:bold;color:#3358e0;margin-bottom:8px;" data-i18n="channel-map-relation">é€šé“æ˜ å°„å…³ç³»</div>
                <div style="display:flex;justify-content:flex-end;align-items:center;gap:12px;margin-bottom:8px;">
                    <label id="channel-confirm-label" style="color:#3358e0;font-weight:bold;font-size:1.13em;" data-i18n="channel-map-confirm-label">é¥æŽ§å™¨æ²¡æœ‰ååº”ç‚¹å‡»"æ˜ å°„ä¿å­˜"å†æ¬¡å†™å…¥</label>
                    <button id="channel-map-confirm-btn" style="background:linear-gradient(90deg,#3358e0 0%,#4f8cff 100%);color:#fff;border:none;border-radius:8px;padding:8px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="channel-map-confirm-btn">æ˜ å°„ä¿å­˜</button>
                    <button id="channel-map-restore-btn" style="background:linear-gradient(90deg,#aaa 0%,#e0e7ff 100%);color:#3358e0;border:none;border-radius:8px;padding:8px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="channel-map-restore-btn">æ˜ å°„è¿˜åŽŸ</button>
                </div>
              </div>
              <div style="overflow-x:auto;">
                <table style="border-collapse:separate;border-spacing:0 10px;width:100%;background:none;">
                  <thead>
                    <tr style="background:#f4f8ff;">
                      <th style="padding:10px 18px;color:#3358e0;font-weight:bold;font-size:1.08em;border-radius:10px 0 0 10px;">Channels</th>
                      <th style="padding:10px 18px;color:#3358e0;font-weight:bold;font-size:1.08em;" data-i18n="channel-map-default-output">é»˜è®¤è¾“å‡º</th>
                      <th style="padding:10px 18px;color:#3358e0;font-weight:bold;font-size:1.08em;border-radius:0 10px 10px 0;" data-i18n="channel-map-channel-input">é€šé“è¾“å…¥</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${(() => {
                      let html = '';
                      //let mapData = channelMap.channelMapSend;
                      const inputOptions = ['AIL','ELE','THR','RUD','SA','SB','SC','SD','SE','S1'];
                      const nowInputOptions = ['AIL','ELE','THR','RUD','SE','SA','SB','SC','SD','S1'];
                      for (let i = 0; i < 10; i++) {
                        let chName = `Channel_${i+1}`;
                        let outName = '';
                        let inSelect = '';

                        if (i < 4) {
                          outName = nowInputOptions[i];
                          inSelect = '';
                        } else {
                          outName = nowInputOptions[i];
                          inSelect = `<select id="ch-map-in2-${i}" style="font-size:1em;padding:4px 12px;border-radius:6px;border:1.5px solid #d0d7e6;">
                            ${inputOptions.map((opt, idx) => `<option value='${idx+1}'${opt===inputOptions[i]?' selected':''}>${opt}</option>`).join('')}
                          </select>`;
                          
                        }
                        html += `<tr style="background:#fff;box-shadow:0 1px 8px #e0e7ff;border-radius:10px;">
                          <td style="padding:10px 18px;text-align:center;font-weight:bold;color:#3358e0;font-size:1.08em;">${chName}</td>
                          <td style="padding:10px 18px;text-align:center;font-family:'Roboto',monospace;font-size:1.08em;">${outName}</td>
                          <td style="padding:10px 18px;text-align:center;">${inSelect}</td>
                        </tr>`;
                      }
                      return html;
                    })()}
                  </tbody>
                </table>
              </div>
            </div>
            <div class="config-stack-page" data-page="channel" style="display:block;">
              <div style="font-weight:bold;color:#3358e0;margin-bottom:8px;" data-i18n="channel-monitor">é€šé“ç›‘è§†å™¨</div>
              <div style="display:flex;flex-direction:column;gap:18px;">
                ${(() => {
                  let html = '';
                  for (let i = 0; i < 10; i++) {
        html += `<div style="display:flex;align-items:center;gap:32px;background:linear-gradient(90deg,#f4f8ff 60%,#eaf1ff 100%);border-radius:16px;padding:8px 18px;box-shadow:0 2px 16px #e0e7ff;min-height:32px;">
          <span style="color:#3358e0;font-weight:bold;font-size:1.25em;min-width:70px;letter-spacing:2px;">CH${i+1}</span>
          <div style="flex:1;display:flex;align-items:center;gap:18px;">
            <div id="ch-bar-${i}" style="flex:1;height:22px;background:#e0e7ff;border-radius:12px;overflow:hidden;position:relative;box-shadow:0 1px 8px #b3cfff;">
              <div style="height:100%;background:linear-gradient(90deg,#4f8cff 0%,#3358e0 100%);width:${((1500-988)/(2012-988)*100)}%;transition:width 0.05s;"></div>
              <div style="position:absolute;left:${((1500-988)/(2012-988)*100)}%;top:0;bottom:0;width:3px;background:#e74c3c;opacity:0.7;"></div>
            </div>
            <span id="ch-val-${i}" style="font-family:'Roboto',monospace;font-size:1.35em;color:#222;background:#fff;border-radius:8px;padding:4px 18px;margin-left:8px;box-shadow:0 1px 4px #e0e7ff;min-width:4.5em;display:inline-block;text-align:center;">1500</span>
          </div>
        </div>`;
      }
                  return html;
                })()}
              </div>
            </div>
            <div class="config-stack-page" data-page="channel-attr" style="display:none;">
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <div style="font-weight:bold;color:#3358e0;margin-bottom:8px;" data-i18n="channel-attr">é€šé“å±žæ€§</div>
                <div style="display:flex;justify-content:flex-end;align-items:center;gap:12px;margin-bottom:8px;">
                  <label id="channel-confirm-label" style="color:#3358e0;font-weight:bold;font-size:1.13em;" data-i18n="channel-attr-confirm-label">ä¿®æ”¹åŽç‚¹å‡»"é€šé“ä¿å­˜"å³å¯å†™å…¥</label>
                  <button id="channel-confirm-btn" style="background:linear-gradient(90deg,#3358e0 0%,#4f8cff 100%);color:#fff;border:none;border-radius:8px;padding:8px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="channel-attr-confirm-btn">é€šé“ä¿å­˜</button>
                  <button id="channel-restore-btn" style="background:linear-gradient(90deg,#aaa 0%,#e0e7ff 100%);color:#3358e0;border:none;border-radius:8px;padding:8px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="channel-attr-restore-btn">é€šé“è¿˜åŽŸ</button>
                </div>
              </div>
              <div style="display:flex;flex-direction:column;gap:18px;">
                ${(() => {
                  let html = '';
                  for (let i = 0; i < 10; i++) {
        html += `<div style="display:flex;align-items:center;gap:32px;background:linear-gradient(90deg,#f4f8ff 60%,#eaf1ff 100%);border-radius:16px;padding:8px 18px;box-shadow:0 2px 16px #e0e7ff;min-height:32px;">
          <span style="color:#3358e0;font-weight:bold;font-size:1.25em;min-width:70px;letter-spacing:2px;">CH${i+1}</span>
          <div style='display:flex;align-items:center;gap:24px;flex:1;'>
            <button id="ch-dir-btn-${i}" style="min-width:54px;padding:8px 18px;border-radius:10px;border:2px solid #b3cfff;background:#fff;color:#3358e0;font-weight:bold;cursor:pointer;font-size:1.08em;box-shadow:0 1px 6px #e0e7ff;transition:all 0.2s;">NOR</button>
            <span style='font-size:1.08em;color:#888;' data-i18n="channel-attr-negative-travel">è´Ÿè¡Œç¨‹</span><input type="number" id="ch-left-input-${i}" value="0" min="0" max="100" style="width:90px;text-align:center;border:2px solid #b3cfff;border-radius:8px;font-size:1.08em;padding:6px 0;box-shadow:0 1px 6px #e0e7ff;" />
            <span style='font-size:1.08em;color:#888;' data-i18n="channel-attr-positive-travel">æ­£è¡Œç¨‹</span><input type="number" id="ch-right-input-${i}" value="0" min="0" max="100" style="width:90px;text-align:center;border:2px solid #b3cfff;border-radius:8px;font-size:1.08em;padding:6px 0;box-shadow:0 1px 6px #e0e7ff;" />
            <div id="ch-bar-attr-${i}" style="flex:1;height:22px;background:#e0e7ff;border-radius:12px;overflow:hidden;position:relative;box-shadow:0 1px 8px #b3cfff;">
              <div style="height:100%;background:linear-gradient(90deg,#4f8cff 0%,#3358e0 100%);width:${((1500-988)/(2012-988)*100)}%;transition:width 0.05s;"></div>
              <div style="position:absolute;left:${((1500-988)/(2012-988)*100)}%;top:0;bottom:0;width:3px;background:#e74c3c;opacity:0.7;"></div>
            </div>  
          </div>
        </div>`;
      }
                  return html;
                })()}
              </div>
            </div>
            <div class="config-stack-page" data-page="trim-center" style="display:none;">
              <div style="font-weight:bold;color:#3358e0;margin-bottom:8px;" data-i18n="trim-center-title">å¾®è°ƒ</div>
              <div style="display:flex;flex-direction:column;gap:18px;">
                ${(() => {
                  let html = '';
                  for (let i = 0; i < 4; i++) {
                    const min = -130, max = 130, val = 0, percent = ((val - min) / (max - min)) * 100;
        html += `<div style="display:flex;align-items:center;gap:32px;background:linear-gradient(90deg,#eaf1ff 60%,#f4f8ff 100%);border-radius:16px;padding:8px 18px;box-shadow:0 2px 16px #e0e7ff;min-height:32px;flex-wrap:wrap;">
          <span style="color:#3358e0;font-weight:bold;font-size:1.18em;min-width:90px;">Trim${i+1}</span>
          <div style="flex:1;display:flex;align-items:center;gap:24px;min-width:320px;position:relative;">
            <div id="trim-bar-${i}" class="progress-bar" style="width:260px;">
              <div class="bar-line"></div>
              <div id="trim-dot-${i}" class="progress-dot" style="background:#4f8cff;"></div>
              <div style="position:absolute;top:50%;left:50%;width:3px;height:26px;background:#e74c3c;border-radius:2px;z-index:3;transform:translate(-50%,-50%);"></div>
            </div>
            <span id="trim-val-${i}" style="font-family:'Roboto',monospace;font-size:1.18em;background:#fff;border-radius:8px;padding:4px 18px;box-shadow:0 1px 4px #e0e7ff;">0</span>

          </div>
          <button class="trim-clear-btn" data-type="trim" data-idx="${i}" style="margin-top:12px;background:linear-gradient(90deg,#e0e7ff 0%,#b3cfff 100%);color:#3358e0;border:none;border-radius:8px;padding:6px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="trim-center-clear">æ¸…ç©º</button>
        </div>`;
      }
                  return html;
                })()}
              </div>
              <div style="font-weight:bold;color:#3358e0;margin:24px 0 8px 0;" data-i18n="Sub-trim-title">èˆµæœºä¸­ç«‹ç‚¹</div>
              <div style="display:flex;flex-direction:column;gap:18px;">
                ${(() => {
                  let html = '';
                  for (let i = 0; i < 4; i++) {
                    const min = -100, max = 100, val = 0, percent = ((val - min) / (max - min)) * 100;
        html += `<div style="display:flex;align-items:center;gap:32px;background:linear-gradient(90deg,#f4f8ff 60%,#eaf1ff 100%);border-radius:16px;padding:8px 18px;box-shadow:0 2px 16px #e0e7ff;min-height:32px;flex-wrap:wrap;">
          <span style="color:#3358e0;font-weight:bold;font-size:1.18em;min-width:90px;">Sub Trim${i+1}</span>
          <div style="flex:1;display:flex;align-items:center;gap:24px;min-width:320px;position:relative;">
            <div id="center-bar-${i}" class="progress-bar" style="width:260px;">
              <div class="bar-line"></div>
              <div id="center-dot-${i}" class="progress-dot" style="background:#2ecc71;"></div>
              <div style="position:absolute;top:50%;left:50%;width:3px;height:26px;background:#e74c3c;border-radius:2px;z-index:3;transform:translate(-50%,-50%);"></div>
            </div>
            <span id="center-val-${i}" style="font-family:'Roboto',monospace;font-size:1.18em;background:#fff;border-radius:8px;padding:4px 18px;box-shadow:0 1px 4px #e0e7ff;">0</span>
            <input type="number" id="center-input-${i}" value="0" min="-100" max="100" style="width:90px;text-align:center;border:2px solid #b3cfff;border-radius:8px;font-size:1.08em;padding:6px 0;box-shadow:0 1px 6px #e0e7ff;" />
          </div>
          <button class="trim-clear-btn" data-type="center" data-idx="${i}" style="margin-top:12px;background:linear-gradient(90deg,#e0e7ff 0%,#b3cfff 100%);color:#3358e0;border:none;border-radius:8px;padding:6px 24px;font-size:1em;font-weight:bold;box-shadow:0 1px 4px #e0e7ff;cursor:pointer;" data-i18n="trim-center-clear">æ¸…ç©º</button>
        </div>`;
      }
                  return html;
                })()}
              </div>
            </div>
            <div class="config-stack-page" data-page="mode" style="display:none;">
              <div style="margin:18px 0 24px 0;display:flex;align-items:center;gap:24px;">
                <label style="font-weight:bold;color:#3358e0;font-size:1.13em;" data-i18n="mode-title">æ‘‡æ†æ¨¡å¼ï¼š</label>
                <select id="mode-select" style="font-size:1.13em;padding:8px 18px;border-radius:8px;border:1.5px solid #d0d7e6;">
                  ${modeList.map((m, i) => `<option value="${i}"${i===currentModeIdx?' selected':''}>${m.name}</option>`).join('')}
                </select>

                <button id="mode-save-btn" style="width:150px;padding:10px 20px;background:linear-gradient(135deg, #4f8cff 0%, #3358e0 100%);color:#fff;border:none;border-radius:8px;font-size:1.1em;font-weight:500;cursor:pointer;box-shadow:0 2px 8px rgba(51,88,224,0.3);transition:all 0.3s;" data-i18n="save-mode">æ¨¡å¼ä¿å­˜</button>
              </div>
              <div style="margin-top:48px;display:flex;gap:80px;justify-content:center;">
                <div style="display:flex;flex-direction:column;align-items:center;">
                  <div style="font-weight:bold;color:#3358e0;margin-bottom:16px;font-size:1.22em;" data-i18n="mode-left-stick">å·¦æ‰‹æ‘‡æ†</div>
                  <canvas id="cross-left" width="426" height="426" style="background:#f4f8ff;border-radius:22px;box-shadow:0 2px 16px #e0e7ff;"></canvas>
                </div>
                <div style="display:flex;flex-direction:column;align-items:center;">
                  <div style="font-weight:bold;color:#3358e0;margin-bottom:16px;font-size:1.22em;" data-i18n="mode-right-stick">å³æ‰‹æ‘‡æ†</div>
                  <canvas id="cross-right" width="426" height="426" style="background:#f4f8ff;border-radius:22px;box-shadow:0 2px 16px #e0e7ff;"></canvas>
                </div>
              </div>
            </div>
            <div class="config-stack-page" data-page="expo" style="display:none;">
              <div style="font-weight:bold;color:#3358e0;margin-bottom:24px;font-size:1.22em;" data-i18n="dual-rate-title">Dual Rate</div>
              <div style="display:flex;flex-direction:column;gap:24px;">

                <div style="display:flex;align-items:center;gap:16px;padding:16px;background:#f4f8ff;border-radius:12px;box-shadow:0 2px 8px #e0e7ff;">
                  <label style="color:#3358e0;font-weight:500;min-width:100px;" data-i18n="channel-select">é€šé“é€‰æ‹©:</label>
                  <select id="expo-channel-select" style="flex:1;max-width:200px;padding:8px 12px;border:2px solid #e0e7ff;border-radius:8px;background:#fff;color:#3358e0;font-size:1em;outline:none;cursor:pointer;">
                    <option value="0">AIL</option>
                    <option value="1">ELE</option>
                    <option value="2">THR</option>
                    <option value="3">RUD</option>
                  </select>

                  <div style="display:flex;justify-content:center;padding:16px;">
                    <button id="expo-query-btn" style="width:150px;padding:10px 20px;background:linear-gradient(135deg, #4f8cff 0%, #3358e0 100%);color:#fff;border:none;border-radius:8px;font-size:1.1em;font-weight:500;cursor:pointer;box-shadow:0 2px 8px rgba(51,88,224,0.3);transition:all 0.3s;" data-i18n="confirm">é€šé“æŸ¥è¯¢</button>
                  </div>                  
                  <label style="color:#3358e0;font-weight:500;min-width:100px;" data-i18n="switch-channel-select">å¼€å…³é€‰æ‹©:</label>
                  <select id="expo-switch-channel-select" style="flex:1;max-width:200px;padding:8px 12px;border:2px solid #e0e7ff;border-radius:8px;background:#fff;color:#3358e0;font-size:1em;outline:none;cursor:pointer;">
                    <option value="0">SA</option>
                    <option value="1">SB</option>
                    <option value="2">SC</option>
                    <option value="3">SD</option>
                    <option value="4">SE</option>
                    <option value="5">S1</option>
                  </select>

                  <div style="display:flex;justify-content:center;padding:16px;">
                    <button id="expo-reverse-btn" style="width:150px;padding:10px 20px;background:linear-gradient(135deg, #4f8cff 0%, #3358e0 100%);color:#fff;border:none;border-radius:8px;font-size:1.1em;font-weight:500;cursor:pointer;box-shadow:0 2px 8px rgba(51,88,224,0.3);transition:all 0.3s;" data-i18n="confirm">NOR</button>
                  </div>
                </div>

                <div style="display:flex;flex-direction:column;gap:16px;padding:20px;background:#f4f8ff;border-radius:12px;box-shadow:0 2px 8px #e0e7ff;">

                  <div style="display:flex;align-items:center;gap:16px;padding:12px;background:#fff;border-radius:8px;border:2px solid #3358e0;">
                    <label style="color:#3358e0;font-weight:600;font-size:1em;min-width:80px;">Entrada de teste X:</label>
                    <input type="number" id="expo-test-x" min="-100" max="100" step="0.1" value="0" style="width:120px;padding:8px 12px;border:2px solid #e0e7ff;border-radius:6px;background:#fff;color:#3358e0;font-size:1em;text-align:center;outline:none;">
                    <div style="flex:1;display:flex;align-items:center;gap:12px;">
                      <span style="color:#3358e0;font-weight:600;font-size:1em;">Coordenada:</span>
                      <span id="expo-test-coord" style="color:#e74c3c;font-weight:bold;font-size:1.1em;font-family:'Roboto',monospace;padding:6px 16px;background:#fff3f0;border-radius:6px;border:2px solid #e74c3c;min-width:200px;text-align:center;">(0, 0)</span>
                    </div>
                  </div>
                  <div style="display:flex;flex-direction:row;align-items:flex-start;gap:20px;">
                    <canvas id="expo-graph-canvas" width="600" height="600" style="background:#fff;border-radius:8px;box-shadow:0 1px 4px #d0d7e6;"></canvas>
                  <div style="display:flex;flex-direction:row;gap:20px;flex:1;">

                    <div style="display:flex;flex-direction:column;gap:16px;min-width:224px;padding:16px;background:#fff;border-radius:8px;border:2px solid #4f8cff;">
                      <div style="color:#4f8cff;font-weight:600;font-size:1em;text-align:center;margin-bottom:8px;" data-i18n="left-params">å·¦ä¾§å‚æ•°</div>
                      <div style="display:flex;flex-direction:column;gap:8px;">
                        <label style="color:#3358e0;font-weight:500;font-size:0.95em;" data-i18n="rate-value">Rateå€¼:</label>
                        <input type="range" id="k-slider-left" min="-100" max="100" value="0" style="width:100%;height:6px;border-radius:4px;background:linear-gradient(90deg, #e0e7ff 0%, #4f8cff 50%, #e0e7ff 100%);outline:none;accent-color:#4f8cff;">
                        <input type="number" id="k-input-left" min="-100" max="100" step="1" value="0" style="width:100%;padding:6px 8px;border:2px solid #e0e7ff;border-radius:6px;background:#fff;color:#3358e0;font-size:1em;text-align:center;outline:none;">
                      </div>
                      <div style="display:flex;flex-direction:column;gap:8px;">
                        <label style="color:#3358e0;font-weight:500;font-size:0.95em;" data-i18n="expo-value">Expoå€¼:</label>
                        <input type="range" id="expo-slider-left" min="-100" max="100" value="0" style="width:100%;height:6px;border-radius:4px;background:linear-gradient(90deg, #e0e7ff 0%, #4f8cff 50%, #e0e7ff 100%);outline:none;accent-color:#4f8cff;">
                        <input type="number" id="expo-input-left" min="-100" max="100" step="1" value="0" style="width:100%;padding:6px 8px;border:2px solid #e0e7ff;border-radius:6px;background:#fff;color:#3358e0;font-size:1em;text-align:center;outline:none;">
                      </div>
                    </div>

                    <div style="display:flex;flex-direction:column;gap:16px;min-width:224px;padding:16px;background:#fff;border-radius:8px;border:2px solid #e74c3c;">
                      <div style="color:#e74c3c;font-weight:600;font-size:1em;text-align:center;margin-bottom:8px;" data-i18n="right-params">å³ä¾§å‚æ•°</div>
                      <div style="display:flex;flex-direction:column;gap:8px;">
                        <label style="color:#3358e0;font-weight:500;font-size:0.95em;" data-i18n="rate-value">Rateå€¼:</label>
                        <input type="range" id="k-slider-right" min="-100" max="100" value="0" style="width:100%;height:6px;border-radius:4px;background:linear-gradient(90deg, #e0e7ff 0%, #e74c3c 50%, #e0e7ff 100%);outline:none;accent-color:#e74c3c;">
                        <input type="number" id="k-input-right" min="-100" max="100" step="1" value="0" style="width:100%;padding:6px 8px;border:2px solid #e0e7ff;border-radius:6px;background:#fff;color:#3358e0;font-size:1em;text-align:center;outline:none;">
                      </div>
                      <div style="display:flex;flex-direction:column;gap:8px;">
                        <label style="color:#3358e0;font-weight:500;font-size:0.95em;" data-i18n="expo-value">Expoå€¼:</label>
                        <input type="range" id="expo-slider-right" min="-100" max="100" value="0" style="width:100%;height:6px;border-radius:4px;background:linear-gradient(90deg, #e0e7ff 0%, #e74c3c 50%, #e0e7ff 100%);outline:none;accent-color:#e74c3c;">
                        <input type="number" id="expo-input-right" min="-100" max="100" step="1" value="0" style="width:100%;padding:6px 8px;border:2px solid #e0e7ff;border-radius:6px;background:#fff;color:#3358e0;font-size:1em;text-align:center;outline:none;">
                      </div>
                    </div>
                  </div>
                </div>

                <div style="display:flex;justify-content:center;padding:16px;">
                  <button id="expo-confirm-btn" style="width:300px;padding:10px 20px;background:linear-gradient(135deg, #4f8cff 0%, #3358e0 100%);color:#fff;border:none;border-radius:8px;font-size:1.1em;font-weight:500;cursor:pointer;box-shadow:0 2px 8px rgba(51,88,224,0.3);transition:all 0.3s;" data-i18n="confirm">ç¡®è®¤</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>`;
      configPage.innerHTML = html;

      setTimeout(() => {
        const btns = document.querySelectorAll('.config-menu-btn');
        const pages = document.querySelectorAll('.config-stack-page');
        btns.forEach(btn => {
          btn.onclick = function() {
            console.log("btn:",btn.dataset.page);


            if (btn.dataset.page === 'trim-center') {
              setTimeout(() => {
              if (window.channelMap) {

              for (let i = 0; i < 4; i++) {
                let uiIdx = i;//adcMap[i];

                const trimValSpan = document.getElementById(`trim-val-${uiIdx}`);
                if (trimValSpan) trimValSpan.textContent = window.channelMap.channelTrimSend[i];
                const trimDot = document.getElementById(`trim-dot-${uiIdx}`);
                const trimBar = document.getElementById(`trim-bar-${uiIdx}`);
                if (trimBar && trimDot) {
                  let percent = (window.channelMap.channelTrimSend[i] + 130) / 260;
                  let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth);
                  trimDot.style.left = left + 'px';
                }

                const centerValSpan = document.getElementById(`center-val-${uiIdx}`);
                if (centerValSpan) centerValSpan.textContent = document.getElementById(`center-input-${uiIdx}`).value;//window.channelMap.channelMidSend[i]*100/512;
                const centerDot = document.getElementById(`center-dot-${uiIdx}`);
                const centerBar = document.getElementById(`center-bar-${uiIdx}`);
                if (centerBar && centerDot) {
                  let percent = (window.channelMap.channelMidSend[i]*100/512 + 100) / 200;
                  let left = percent * (centerBar.offsetWidth - centerDot.offsetWidth);
                  centerDot.style.left = left + 'px';
                }
                }
              }
          }, 0);}
           

          if (btn.dataset.page === 'channel-map') {
            //const inputOptions = ['AIL','ELE','THR','RUD','SA','SB','SC','SD','SE','S1'];
            for(let i=4;i<10;i++){    
              const sel = document.getElementById(`ch-map-in2-${i}`); 
              if (sel) {
                  //console.log('sel:',sel.value);          
                  sel.value = window.channelMap.channelMapSend[i];
                };
              }
          }


          if (btn.dataset.page === 'expo') {
            setTimeout(initExpoPage, 0);
          }

            btns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const page = btn.dataset.page;
            pages.forEach(p => {
              p.style.display = (p.dataset.page === page) ? 'block' : 'none';
            });
          };
        });

        pages.forEach(p => {
          p.style.display = (p.dataset.page === 'channel') ? 'block' : 'none';
        });



        const drawModePage = () => {

          if (typeof window._currentModeIdx !== 'number' || window._currentModeIdx < 0 || window._currentModeIdx >= modeList.length) {
            window._currentModeIdx = 0;
          }
          
          const left = document.getElementById('cross-left');
          const right = document.getElementById('cross-right');
          if (left && right) {
            drawCross(left, getModeMap(window._currentModeIdx), 1);
            drawCross(right, getModeMap(window._currentModeIdx), 0);
          }
          const sel = document.getElementById('mode-select');
          if (sel) {

            let lastModeIdx = window._currentModeIdx;
            sel.onchange = function() {
              const newIdx = parseInt(sel.value);
              if (newIdx !== lastModeIdx) {
                window._currentModeIdx = newIdx;
                drawCross(left, getModeMap(window._currentModeIdx), 1);
                drawCross(right, getModeMap(window._currentModeIdx), 0);

                let modeVal = window._currentModeIdx + 1;
                if (typeof writer !== 'undefined' && writer) {
                  writer.write(new Uint8Array([0xA5, 0x55, 0x10, modeVal, 0x0D, 0x0A]));
                }
                lastModeIdx = newIdx;
              } else {

                window._currentModeIdx = newIdx;
                drawCross(left, getModeMap(window._currentModeIdx), 1);
                drawCross(right, getModeMap(window._currentModeIdx), 0);
              }
            };
          }
        };

        btns.forEach(btn => {
          btn.addEventListener('click', function() {
            if (btn.dataset.page === 'mode') setTimeout(drawModePage, 0);
          });
        });


        const convertChannelToInput = (channelValue) => {


          if (channelValue < 988) channelValue = 988;
          if (channelValue > 2012) channelValue = 2012;
          return (channelValue - 1500) * 500 / 512;
        };
        

        const getCurrentChannelInput = () => {
          const channelSelect = document.getElementById('expo-channel-select');
          if (!channelSelect) return null;
          
          const selectedChannel = parseInt(channelSelect.value); // 0-3 (AIL/ELE/THR/RUD)
          

          if (!window.origChannelData || window.origChannelData.length < 4) {
            return null;
          }
          

          const channelMapSend = (window.channelMap && window.channelMap.channelMapSend) 
            ? window.channelMap.channelMapSend 
            : Array.from({length:10}, (_,i)=>i+1);
          


          let inputChannelIdx = -1;
          for (let i = 0; i < channelMapSend.length; i++) {
            if (channelMapSend[i] === selectedChannel + 1) {
              inputChannelIdx = i;
              break;
            }
          }
          
          if (inputChannelIdx < 0 || inputChannelIdx >= window.origChannelData.length) {
            return null;
          }
          

          const rawValue = window.origChannelData[inputChannelIdx];
          return convertChannelToInput(rawValue);
        };
        

        const drawExpoGraph = () => {
          const canvas = document.getElementById('expo-graph-canvas');
          if (!canvas) return;
          
          const ctx = canvas.getContext('2d');
          const width = canvas.width;
          const height = canvas.height;
          const padding = 50;
          const graphWidth = width - 2 * padding;
          const graphHeight = height - 2 * padding;
          const centerX = padding + graphWidth / 2;
          const centerY = padding + graphHeight / 2;
          const xRange = 200;
          const yRange = 200;
          const scaleX = graphWidth / xRange;
          const scaleY = graphHeight / yRange;
          

          ctx.clearRect(0, 0, width, height);
          

          ctx.strokeStyle = '#e0e7ff';
          ctx.lineWidth = 1;

          for (let i = -100; i <= 100; i += 10) {
            const x = centerX + i * scaleX;
            ctx.beginPath();
            ctx.moveTo(x, padding);
            ctx.lineTo(x, height - padding);
            ctx.stroke();
          }

          for (let i = -100; i <= 100; i += 10) {
            const y = centerY - i * scaleY;
            ctx.beginPath();
            ctx.moveTo(padding, y);
            ctx.lineTo(width - padding, y);
            ctx.stroke();
          }
          

          ctx.strokeStyle = '#3358e0';
          ctx.lineWidth = 2;

          ctx.beginPath();
          ctx.moveTo(padding, centerY);
          ctx.lineTo(width - padding, centerY);
          ctx.stroke();

          ctx.beginPath();
          ctx.moveTo(centerX, padding);
          ctx.lineTo(centerX, height - padding);
          ctx.stroke();
          

          ctx.fillStyle = '#3358e0';
          ctx.font = '12px Arial';
          ctx.textAlign = 'center';
          ctx.textBaseline = 'top';

          for (let i = -100; i <= 100; i += 10) {
            const x = centerX + i * scaleX;
            ctx.beginPath();
            ctx.moveTo(x, centerY - 5);
            ctx.lineTo(x, centerY + 5);
            ctx.stroke();
            if (i !== 0) {
              ctx.fillText(i.toString(), x, centerY + 8);
            }
          }

          ctx.textAlign = 'right';
          ctx.textBaseline = 'middle';
          for (let i = -100; i <= 100; i += 10) {
            const y = centerY - i * scaleY;
            ctx.beginPath();
            ctx.moveTo(centerX - 5, y);
            ctx.lineTo(centerX + 5, y);
            ctx.stroke();
            if (i !== 0) {
              ctx.fillText(i.toString(), centerX - 8, y);
            }
          }
          

          const kInputLeft = document.getElementById('k-input-left');
          const expoInputLeft = document.getElementById('expo-input-left');
          const kInputRight = document.getElementById('k-input-right');
          const expoInputRight = document.getElementById('expo-input-right');
          const switchChannelSelect = document.getElementById('expo-switch-channel-select');
          
          if (!kInputLeft || !expoInputLeft || !kInputRight || !expoInputRight) {
            console.log('Expo graph: Missing input elements');
            return;
          }
          
          const kLeft = (parseFloat(kInputLeft.value) || 0) / 100;
          const expoLeft = parseFloat(expoInputLeft.value) || 0;
          const kRight = (parseFloat(kInputRight.value) || 0) / 100;
          const expoRight = parseFloat(expoInputRight.value) || 0;
          

          const switchChannelIdx = switchChannelSelect ? parseInt(switchChannelSelect.value) : 0;
          



          ctx.strokeStyle = '#e74c3c';
          ctx.lineWidth = 3;
          ctx.beginPath();
          let firstPoint = true;
          
          for (let x = -100; x <= 100; x += 0.5) {


            let k, expo;
            if (x < 0) {

              k = kLeft;
              expo = expoLeft;
            } else {

              k = kRight;
              expo = expoRight;
            }
            




            let y = x;
            if (Math.abs(expo) > 0.001) {

              const normalizedX = x / 100;
              const sign = normalizedX >= 0 ? 1 : -1;
              const absX = Math.abs(normalizedX);
              const clampedAbsX = Math.min(1, absX);
              





              const expoNorm = expo + 100;
              let kFactor;
              
              if (expoNorm <= 100) {


                kFactor = expoNorm / 100;
                

                const linearTerm = kFactor * clampedAbsX;
                const cubicTerm = (1 - kFactor) * clampedAbsX * clampedAbsX * clampedAbsX;
                const expoAbsY = linearTerm + cubicTerm;
                

                const clampedExpoAbsY = Math.max(0, Math.min(1, expoAbsY));
                

                const normalizedY = sign * clampedExpoAbsY;
                y = normalizedY * 100;
              } else {



                const kNorm = 200 - expoNorm;
                kFactor = kNorm / 100;
                




                // 




                const reversedX = 1 - clampedAbsX;
                


                const linearTerm = kFactor * reversedX;
                const cubicTerm = (1 - kFactor) * reversedX * reversedX * reversedX;
                const calcY = linearTerm + cubicTerm;
                




                // 




                let expoAbsY = 1 - calcY;
                

                expoAbsY = Math.max(0, Math.min(1, expoAbsY));
                
                const clampedExpoAbsY = expoAbsY;
                

                const normalizedY = sign * clampedExpoAbsY;
                y = normalizedY * 100;
              }
            }
            

            y = k * y;

            y = Math.max(-100, Math.min(100, y));
            const px = centerX + x * scaleX;
            const py = centerY - y * scaleY;
            if (firstPoint) {
              ctx.moveTo(px, py);
              firstPoint = false;
            } else {
              ctx.lineTo(px, py);
            }
          }
          ctx.stroke();
          

          const testXInput = document.getElementById('expo-test-x');
          const testCoordDisplay = document.getElementById('expo-test-coord');
          if (testXInput && testCoordDisplay) {
            const testX = parseFloat(testXInput.value);
            if (!isNaN(testX) && testX >= -100 && testX <= 100) {

              let k, expo;
              if (testX < 0) {
                k = kLeft;
                expo = expoLeft;
              } else {
                k = kRight;
                expo = expoRight;
              }
              

              let testY = testX;
              if (Math.abs(expo) > 0.001) {
                const normalizedX = testX / 100;
                const sign = normalizedX >= 0 ? 1 : -1;
                const absX = Math.abs(normalizedX);
                const clampedAbsX = Math.min(1, absX);
                
                const expoNorm = expo + 100;
                let kFactor;
                
                if (expoNorm <= 100) {
                  kFactor = expoNorm / 100;
                  const linearTerm = kFactor * clampedAbsX;
                  const cubicTerm = (1 - kFactor) * clampedAbsX * clampedAbsX * clampedAbsX;
                  const expoAbsY = linearTerm + cubicTerm;
                  const clampedExpoAbsY = Math.max(0, Math.min(1, expoAbsY));
                  const normalizedY = sign * clampedExpoAbsY;
                  testY = normalizedY * 100;
                } else {
                  const kNorm = 200 - expoNorm;
                  kFactor = kNorm / 100;
                  const reversedX = 1 - clampedAbsX;
                  const linearTerm = kFactor * reversedX;
                  const cubicTerm = (1 - kFactor) * reversedX * reversedX * reversedX;
                  const calcY = linearTerm + cubicTerm;
                  let expoAbsY = 1 - calcY;
                  expoAbsY = Math.max(0, Math.min(1, expoAbsY));
                  const normalizedY = sign * expoAbsY;
                  testY = normalizedY * 100;
                }
              }
              

              testY = k * testY;
              testY = Math.max(-100, Math.min(100, testY));
              

              testCoordDisplay.textContent = `(${testX.toFixed(1)}, ${testY.toFixed(2)})`;
              

              const testPx = centerX + testX * scaleX;
              const testPy = centerY - testY * scaleY;
              

              ctx.strokeStyle = '#e74c3c';
              ctx.lineWidth = 2;
              ctx.setLineDash([5, 5]);
              ctx.beginPath();
              ctx.moveTo(testPx, padding);
              ctx.lineTo(testPx, height - padding);
              ctx.stroke();
              

              ctx.beginPath();
              ctx.moveTo(padding, testPy);
              ctx.lineTo(width - padding, testPy);
              ctx.stroke();
              ctx.setLineDash([]);
              

              ctx.fillStyle = '#e74c3c';
              ctx.beginPath();
              ctx.arc(testPx, testPy, 6, 0, 2 * Math.PI);
              ctx.fill();
              

              ctx.strokeStyle = '#fff';
              ctx.lineWidth = 2;
              ctx.beginPath();
              ctx.arc(testPx, testPy, 6, 0, 2 * Math.PI);
              ctx.stroke();
            } else {
              testCoordDisplay.textContent = '(entrada invalida)';
            }
          }
          

          ctx.strokeStyle = '#999';
          ctx.lineWidth = 1;
          ctx.setLineDash([5, 5]);
          ctx.beginPath();
          ctx.moveTo(centerX, padding);
          ctx.lineTo(centerX, height - padding);
          ctx.stroke();
          ctx.setLineDash([]);
          

          ctx.fillStyle = '#e74c3c';
          ctx.fillRect(width - padding - 120, padding + 10, 15, 2);
          ctx.fillStyle = '#222';
          ctx.font = '12px Arial';
          ctx.textAlign = 'left';
          ctx.fillText('Curva segmentada', width - padding - 100, padding + 5);
          

          ctx.fillStyle = '#4f8cff';
          ctx.fillRect(width - padding - 120, padding + 30, 15, 2);
          ctx.fillStyle = '#222';
          ctx.fillText('Parametros esquerda', width - padding - 100, padding + 25);
          
          ctx.fillStyle = '#e74c3c';
          ctx.fillRect(width - padding - 120, padding + 50, 15, 2);
          ctx.fillStyle = '#222';
          ctx.fillText('Parametros direita', width - padding - 100, padding + 45);
          

          const realTimeInput = getCurrentChannelInput();
          if (realTimeInput !== null) {

            const normalizedInput = realTimeInput / 5;
            

            const channelSelect = document.getElementById('expo-channel-select');
            const selectedChannel = channelSelect ? parseInt(channelSelect.value) : 0;
            
            let k, expo;
            if (normalizedInput < 0) {
              const kInputLeft = document.getElementById('k-input-left');
              const expoInputLeft = document.getElementById('expo-input-left');
              k = (parseFloat(kInputLeft?.value) || 0) / 100;
              expo = parseFloat(expoInputLeft?.value) || 0;
            } else {
              const kInputRight = document.getElementById('k-input-right');
              const expoInputRight = document.getElementById('expo-input-right');
              k = (parseFloat(kInputRight?.value) || 0) / 100;
              expo = parseFloat(expoInputRight?.value) || 0;
            }
            

            let outputY = normalizedInput;
            if (Math.abs(expo) > 0.001) {
              const normalizedX = normalizedInput / 100;
              const sign = normalizedX >= 0 ? 1 : -1;
              const absX = Math.abs(normalizedX);
              const clampedAbsX = Math.min(1, absX);
              
              const expoNorm = expo + 100;
              let kFactor;
              
              if (expoNorm <= 100) {
                kFactor = expoNorm / 100;
                const linearTerm = kFactor * clampedAbsX;
                const cubicTerm = (1 - kFactor) * clampedAbsX * clampedAbsX * clampedAbsX;
                const expoAbsY = linearTerm + cubicTerm;
                const clampedExpoAbsY = Math.max(0, Math.min(1, expoAbsY));
                const normalizedY = sign * clampedExpoAbsY;
                outputY = normalizedY * 100;
              } else {
                const kNorm = 200 - expoNorm;
                kFactor = kNorm / 100;
                const reversedX = 1 - clampedAbsX;
                const linearTerm = kFactor * reversedX;
                const cubicTerm = (1 - kFactor) * reversedX * reversedX * reversedX;
                const calcY = linearTerm + cubicTerm;
                let expoAbsY = 1 - calcY;
                expoAbsY = Math.max(0, Math.min(1, expoAbsY));
                const normalizedY = sign * expoAbsY;
                outputY = normalizedY * 100;
              }
            }
            

            outputY = k * outputY;
            outputY = Math.max(-100, Math.min(100, outputY));
            

            const realTimePx = centerX + normalizedInput * scaleX;
            const realTimePy = centerY - outputY * scaleY;
            

            ctx.strokeStyle = '#2ecc71';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(realTimePx, padding);
            ctx.lineTo(realTimePx, height - padding);
            ctx.stroke();
            

            ctx.beginPath();
            ctx.moveTo(padding, realTimePy);
            ctx.lineTo(width - padding, realTimePy);
            ctx.stroke();
            ctx.setLineDash([]);
            

            ctx.fillStyle = '#2ecc71';
            ctx.beginPath();
            ctx.arc(realTimePx, realTimePy, 8, 0, 2 * Math.PI);
            ctx.fill();
            

            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(realTimePx, realTimePy, 8, 0, 2 * Math.PI);
            ctx.stroke();
            

            const testCoordDisplay = document.getElementById('expo-test-coord');
            if (testCoordDisplay) {
              testCoordDisplay.textContent = `(${normalizedInput.toFixed(1)}, ${outputY.toFixed(2)}) [tempo real]`;
              testCoordDisplay.style.color = '#2ecc71';
            }
            



            let channelValue = 1500 + outputY * 512 / 100;

            if (channelValue > 2012) channelValue = 2012;
            if (channelValue < 988) channelValue = 988;
            channelValue = Math.round(channelValue);
            

            const channelMapSend = (window.channelMap && window.channelMap.channelMapSend) 
              ? window.channelMap.channelMapSend 
              : Array.from({length:10}, (_,i)=>i+1);
            


            let physicalChannelIdx = -1;
            for (let i = 0; i < channelMapSend.length; i++) {
              if (channelMapSend[i] === selectedChannel + 1) {
                physicalChannelIdx = i;
                break;
              }
            }
            

            if (physicalChannelIdx >= 0 && physicalChannelIdx < 10) {
              const chVal = document.getElementById(`ch-val-${physicalChannelIdx}`);
              const chInput = document.getElementById(`ch-input-${physicalChannelIdx}`);
              const chBar = document.getElementById(`ch-bar-${physicalChannelIdx}`);
              const chBarAttr = document.getElementById(`ch-bar-attr-${physicalChannelIdx}`);
              

              if (chVal) chVal.textContent = channelValue;
              if (chInput) chInput.value = channelValue;
              

              const percent = ((channelValue - 988) / (2012 - 988) * 100);
              if (chBar) {
                const barFill = chBar.children[0];
                if (barFill) barFill.style.width = percent + '%';
              }
              if (chBarAttr) {
                const barFillAttr = chBarAttr.children[0];
                if (barFillAttr) barFillAttr.style.width = percent + '%';
              }
            }

          }
        };
        

        const initExpoPage = () => {

          const kSliderLeft = document.getElementById('k-slider-left');
          const kInputLeft = document.getElementById('k-input-left');
          const expoSliderLeft = document.getElementById('expo-slider-left');
          const expoInputLeft = document.getElementById('expo-input-left');
          

          const kSliderRight = document.getElementById('k-slider-right');
          const kInputRight = document.getElementById('k-input-right');
          const expoSliderRight = document.getElementById('expo-slider-right');
          const expoInputRight = document.getElementById('expo-input-right');
          

          const channelSelect = document.getElementById('expo-channel-select');
          const switchChannelSelect = document.getElementById('expo-switch-channel-select');
          const confirmBtn = document.getElementById('expo-confirm-btn');
          const queryBtn = document.getElementById('expo-query-btn');
          const reverseBtn = document.getElementById('expo-reverse-btn');
          

          if (queryBtn) {
            queryBtn.onclick = function() {
              const channel = channelSelect ? parseInt(channelSelect.value) : 0;
              const channelNames = ['AIL', 'ELE', 'THR', 'RUD'];
              console.log('é€šé“æŸ¥è¯¢:', {
                channel: channel + 1,
                channelName: channelNames[channel] || 'Unknown',
                action: 'æŸ¥è¯¢é€šé“'
              });
              

              // if (typeof writer !== 'undefined' && writer) {

              // }
              

              this.style.transform = 'scale(0.95)';
              setTimeout(() => {
                this.style.transform = 'scale(1)';
              }, 100);
            };
          }
          

          if (reverseBtn) {
            reverseBtn.onclick = function() {
              const channel = channelSelect ? parseInt(channelSelect.value) : 0;
              const switchChannel = switchChannelSelect ? parseInt(switchChannelSelect.value) : 0;
              const channelNames = ['AIL', 'ELE', 'THR', 'RUD'];
              const switchNames = ['SA', 'SB', 'SC', 'SD', 'SE', 'S1'];
              

              const currentText = this.textContent;
              const newText = currentText === 'NOR' ? 'REV' : 'NOR';
              this.textContent = newText;
              
              console.log('æ­£åæ–¹å‘åˆ‡æ¢:', {
                channel: channel + 1,
                channelName: channelNames[channel] || 'Unknown',
                switchChannel: switchChannel + 1,
                switchName: switchNames[switchChannel] || 'Unknown',
                direction: newText,
                action: 'åˆ‡æ¢æ­£åæ–¹å‘'
              });
              

              // if (typeof writer !== 'undefined' && writer) {

              // }
              

              this.style.transform = 'scale(0.95)';
              setTimeout(() => {
                this.style.transform = 'scale(1)';
              }, 100);
            };
          }
          

          if (channelSelect) {
            channelSelect.onchange = function() {
              drawExpoGraph();
            };
          }
          

          if (kSliderLeft && kInputLeft) {
            kSliderLeft.oninput = function() {
              const rate = parseFloat(this.value);
              kInputLeft.value = Math.round(rate);
              drawExpoGraph();
            };
            kInputLeft.oninput = function() {
              let rate = parseFloat(this.value);
              if (isNaN(rate)) rate = 0;
              rate = Math.max(-100, Math.min(100, rate));
              this.value = Math.round(rate);
              kSliderLeft.value = rate;
              drawExpoGraph();
            };
            kInputLeft.onchange = function() {
              let rate = parseFloat(this.value);
              if (isNaN(rate)) rate = 0;
              rate = Math.max(-100, Math.min(100, rate));
              this.value = Math.round(rate);
              kSliderLeft.value = rate;
              drawExpoGraph();
            };

            const initRateLeft = parseFloat(kSliderLeft.value);
            kInputLeft.value = Math.round(initRateLeft);
            console.log('Left Rate initialized:', initRateLeft);
          }
          

          if (expoSliderLeft && expoInputLeft) {
            expoSliderLeft.oninput = function() {
              expoInputLeft.value = this.value;
              drawExpoGraph();
            };
            expoInputLeft.oninput = function() {
              let expo = parseFloat(this.value);
              if (isNaN(expo)) expo = 0;
              expo = Math.max(-100, Math.min(100, expo));
              this.value = Math.round(expo);
              expoSliderLeft.value = expo;
              drawExpoGraph();
            };
            expoInputLeft.onchange = function() {
              let expo = parseFloat(this.value);
              if (isNaN(expo)) expo = 0;
              expo = Math.max(-100, Math.min(100, expo));
              this.value = Math.round(expo);
              expoSliderLeft.value = expo;
              drawExpoGraph();
            };

            expoInputLeft.value = expoSliderLeft.value;
            console.log('Left Expo initialized:', expoSliderLeft.value);
          }
          

          if (kSliderRight && kInputRight) {
            kSliderRight.oninput = function() {
              const rate = parseFloat(this.value);
              kInputRight.value = Math.round(rate);
              drawExpoGraph();
            };
            kInputRight.oninput = function() {
              let rate = parseFloat(this.value);
              if (isNaN(rate)) rate = 0;
              rate = Math.max(-100, Math.min(100, rate));
              this.value = Math.round(rate);
              kSliderRight.value = rate;
              drawExpoGraph();
            };
            kInputRight.onchange = function() {
              let rate = parseFloat(this.value);
              if (isNaN(rate)) rate = 0;
              rate = Math.max(-100, Math.min(100, rate));
              this.value = Math.round(rate);
              kSliderRight.value = rate;
              drawExpoGraph();
            };

            const initRateRight = parseFloat(kSliderRight.value);
            kInputRight.value = Math.round(initRateRight);
            console.log('Right Rate initialized:', initRateRight);
          }
          

          const testXInput = document.getElementById('expo-test-x');
          if (testXInput) {
            testXInput.oninput = function() {
              drawExpoGraph();
            };
            testXInput.onchange = function() {
              let x = parseFloat(this.value);
              if (isNaN(x)) x = 0;
              x = Math.max(-100, Math.min(100, x));
              this.value = x;
              drawExpoGraph();
            };
          }
          

          if (expoSliderRight && expoInputRight) {
            expoSliderRight.oninput = function() {
              expoInputRight.value = this.value;
              drawExpoGraph();
            };
            expoInputRight.oninput = function() {
              let expo = parseFloat(this.value);
              if (isNaN(expo)) expo = 0;
              expo = Math.max(-100, Math.min(100, expo));
              this.value = Math.round(expo);
              expoSliderRight.value = expo;
              drawExpoGraph();
            };
            expoInputRight.onchange = function() {
              let expo = parseFloat(this.value);
              if (isNaN(expo)) expo = 0;
              expo = Math.max(-100, Math.min(100, expo));
              this.value = Math.round(expo);
              expoSliderRight.value = expo;
              drawExpoGraph();
            };

            expoInputRight.value = expoSliderRight.value;
            console.log('Right Expo initialized:', expoSliderRight.value);
          }
          

          if (channelSelect) {
            channelSelect.onchange = function() {

              drawExpoGraph();
            };
          }
          

          if (switchChannelSelect) {
            switchChannelSelect.onchange = function() {
              drawExpoGraph();
            };
          }
          

          if (confirmBtn) {
            confirmBtn.onclick = function() {
              const channel = channelSelect ? parseInt(channelSelect.value) : 0;
              const switchChannel = switchChannelSelect ? parseInt(switchChannelSelect.value) : 0;
              const kLeft = kInputLeft ? parseFloat(kInputLeft.value) : 0;
              const expoLeft = expoInputLeft ? parseFloat(expoInputLeft.value) : 0;
              const kRight = kInputRight ? parseFloat(kInputRight.value) : 0;
              const expoRight = expoInputRight ? parseFloat(expoInputRight.value) : 0;
              

              console.log('ç¡®è®¤è®¾ç½®:', {
                channel: channel + 1,
                switchChannel: switchChannel + 1,
                left: {
                  rate: kLeft,
                  expo: expoLeft
                },
                right: {
                  rate: kRight,
                  expo: expoRight
                }
              });
              

              // if (typeof writer !== 'undefined' && writer) {

              // }
              

              this.style.transform = 'scale(0.95)';
              setTimeout(() => {
                this.style.transform = 'scale(1)';
              }, 100);
            };
            

            confirmBtn.onmouseenter = function() {
              this.style.boxShadow = '0 4px 12px rgba(51,88,224,0.4)';
            };
            confirmBtn.onmouseleave = function() {
              this.style.boxShadow = '0 2px 8px rgba(51,88,224,0.3)';
            };
          }
          

          console.log('initExpoPage: Drawing graph');
          drawExpoGraph();
          console.log('initExpoPage: Graph drawn');
          

          if (window.expoUpdateInterval) {
            clearInterval(window.expoUpdateInterval);
          }
          window.expoUpdateInterval = setInterval(() => {
            drawExpoGraph();
          }, 50);
        };


        setTimeout(drawModePage, 0);

        setTimeout(() => {
          for (let i = 0; i < 10; i++) {
            const btn = document.getElementById(`ch-dir-btn-${i}`);
            if (btn) {
              btn.onclick = function() {
                if (!window.channelMap) return;
                window.channelMap.channelDirSend[i] = window.channelMap.channelDirSend[i] ? 0 : 1;
                btn.textContent = window.channelMap.channelDirSend[i] ? 'REV' : 'NOR';
                btn.style.background = window.channelMap.channelDirSend[i] ? '#ffe066' : '#fff';
                btn.style.color = window.channelMap.channelDirSend[i] ? '#e74c3c' : '#3358e0';
              };

              if (window.channelMap && window.channelMap.channelDirSend[i]) {
                btn.textContent = 'REV';
                btn.style.background = '#ffe066';
                btn.style.color = '#e74c3c';
              } else {
                btn.textContent = 'NOR';
                btn.style.background = '#fff';
                btn.style.color = '#3358e0';
              }
            }


            const leftInput = document.getElementById(`ch-left-input-${i}`);
            const rightInput = document.getElementById(`ch-right-input-${i}`);
            if (leftInput) {
              leftInput.onchange = function() {
                let v = Math.max(0, Math.min(100, parseInt(leftInput.value)||0));
                leftInput.value = v;
                if (window.channelMap && window.channelMap.channelLeftSend) {
                  window.channelMap.channelLeftSend[i] = 100 - v;
                }
              };

              if (window.channelMap && window.channelMap.channelLeftSend) {
                leftInput.value = 100 - (window.channelMap.channelLeftSend[i]||0);
              }
            }
            if (rightInput) {
              rightInput.onchange = function() {
                let v = Math.max(0, Math.min(100, parseInt(rightInput.value)||0));
                rightInput.value = v;
                if (window.channelMap && window.channelMap.channelRightSend) {
                  window.channelMap.channelRightSend[i] = 100 - v;
                }
              };

              if (window.channelMap && window.channelMap.channelRightSend) {
                rightInput.value = 100 - (window.channelMap.channelRightSend[i]||0);
              }
            }
          }
       

          const confirmBtn = document.getElementById('channel-confirm-btn');
          if (confirmBtn) {
            confirmBtn.onclick = function() {
              if (!window.channelMap) { alert('Dados de canal nao carregados'); return; }

              let tmpData = new Uint8Array(56+2);
              tmpData[0] = 0xA5;
              tmpData[1] = 0x55;
              tmpData[2] = 0x0C;
              tmpData[3] = 52;

              let map = window.channelMap.channelMapSend || Array.from({length:16}, (_,i)=>i+1);
              for(let i=0;i<16;i++) tmpData[4+i] = map[i]||0;

              let dir = window.channelMap.channelDirSend || Array(16).fill(0);
              let tmpData1 = 0;
              for(let i=0;i<16;i++) if(dir[i]) tmpData1 |= (1<<i);
              tmpData[20] = (tmpData1>>8)&0xFF;
              tmpData[21] = tmpData1&0xFF;

              let left = window.channelMap.channelLeftSend || Array(16).fill(0);
              let right = window.channelMap.channelRightSend || Array(16).fill(0);
              for(let i=0;i<16;i++) tmpData[22+i] = left[i]||0;
              for(let i=0;i<16;i++) tmpData[38+i] = right[i]||0;

              let mode = (typeof window._currentModeIdx === 'number' ? window._currentModeIdx+1 : 1);
              if (mode < 1) mode = 1; if (mode > 4) mode = 4;
              tmpData[54] = mode;
              // CRC
              tmpData[55] = crc8tab_js(tmpData.slice(3, 55), 52);
              tmpData[56] = 0x0D;
              tmpData[57] = 0x0A;

              if (typeof writer !== 'undefined' && writer) {
                writer.write(tmpData);
                confirmBtn.textContent = LANGS[currentLang]['send-success'];
                setTimeout(()=>{confirmBtn.textContent=LANGS[currentLang]['channel-confirm'];}, 1200);
              } else {
                alert('Porta serial nao conectada');
              }
            };
          }


          const restoreBtn = document.getElementById('channel-restore-btn');
          if (restoreBtn) {
            restoreBtn.onclick = function() {
              if (!window.channelMap) { alert('Dados de canal nao carregados'); return; }

              window.channelMap.channelDirSend = Array(16).fill(0);

              window.channelMap.channelLeftSend = Array(16).fill(0);
              window.channelMap.channelRightSend = Array(16).fill(0);

              for (let i = 0; i < 10; i++) {

                const btn = document.getElementById(`ch-dir-btn-${i}`);
                if (btn) {
                  btn.textContent = 'NOR';
                  btn.style.background = '#fff';
                  btn.style.color = '#3358e0';
                }

                const leftInput = document.getElementById(`ch-left-input-${i}`);
                const rightInput = document.getElementById(`ch-right-input-${i}`);
                if (leftInput) leftInput.value = 100;
                if (rightInput) rightInput.value = 100;
              }
              if (confirmBtn) {
                  confirmBtn.click();
              }
            };
          }


          const confirmMapBtn = document.getElementById('channel-map-confirm-btn');  
          if (confirmMapBtn) {
            confirmMapBtn.onclick = function() {
              if (!window.channelMap) { alert('Dados de canal nao carregados'); return; }

              let tmpData = new Uint8Array(56+2);
              tmpData[0] = 0xA5;
              tmpData[1] = 0x55;
              tmpData[2] = 0x0C;
              tmpData[3] = 52;

              let map = window.channelMap.channelMapSend || Array.from({length:16}, (_,i)=>i+1);
              for(let i=0;i<16;i++) tmpData[4+i] = map[i]||0;

              let dir = window.channelMap.channelDirSend || Array(16).fill(0);
              let tmpData1 = 0;
              for(let i=0;i<16;i++) if(dir[i]) tmpData1 |= (1<<i);
              tmpData[20] = (tmpData1>>8)&0xFF;
              tmpData[21] = tmpData1&0xFF;

              let left = window.channelMap.channelLeftSend || Array(16).fill(0);
              let right = window.channelMap.channelRightSend || Array(16).fill(0);
              for(let i=0;i<16;i++) tmpData[22+i] = left[i]||0;
              for(let i=0;i<16;i++) tmpData[38+i] = right[i]||0;

              let mode = (typeof window._currentModeIdx === 'number' ? window._currentModeIdx+1 : 1);
              if (mode < 1) mode = 1; if (mode > 4) mode = 4;
              tmpData[54] = mode;
              // CRC
              tmpData[55] = crc8tab_js(tmpData.slice(3, 55), 52);
              tmpData[56] = 0x0D;
              tmpData[57] = 0x0A;

              if (typeof writer !== 'undefined' && writer) {
                writer.write(tmpData);
                confirmMapBtn.textContent = LANGS[currentLang]['send-success'];
                setTimeout(()=>{confirmMapBtn.textContent=LANGS[currentLang]['channel-confirm'];}, 1200);
              } else {
                alert('Porta serial nao conectada');
              }
            }
          }


          const restoreMapBtn = document.getElementById('channel-map-restore-btn');
          if (restoreMapBtn) {
            restoreMapBtn.onclick = function() {
              if (!window.channelMap) { alert('Dados de canal nao carregados'); return; }
              let dataTmp = [ 9,5,6,7,8,10]; 
              if (window.channelMap.channelMapSend) {
                window.channelMap.channelMapSend.splice(4, 10, ...dataTmp);
              }
              for(let i=4;i<10;i++){  
                const sel = document.getElementById(`ch-map-in2-${i}`); 
                if (sel) {
                    //console.log('sel:',sel.value);          
                    sel.value = window.channelMap.channelMapSend[i];
                  };
                }
              if (confirmMapBtn) {
                confirmMapBtn.click();
              }  
            }
          }
        }, 0);


      }, 0);


      setTimeout(() => {
        for (let i = 0; i < 4; i++) {
          // Trim
          const trimBar = document.getElementById(`trim-bar-${i}`);
          const trimDot = document.getElementById(`trim-dot-${i}`);
          const trimValSpan = document.getElementById(`trim-val-${i}`);
          let trimVal = 0;
          if (trimValSpan) trimVal = parseInt(trimValSpan.textContent) || 0;
          if (trimBar && trimDot) {
            let percent = (trimVal + 130) / 260;
            let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth);
            trimDot.style.left = left + 'px';
          }
          // Center
          const centerBar = document.getElementById(`center-bar-${i}`);
          const centerDot = document.getElementById(`center-dot-${i}`);
          const centerInput = document.getElementById(`center-input-${i}`);
          const centerValSpan = document.getElementById(`center-val-${i}`);
          let centerVal = 0;
          if (centerInput) centerVal = parseInt(centerInput.value) || 0;
          if (centerBar && centerDot) {
            let percent = (centerVal + 100) / 200;
            let left = percent * (centerBar.offsetWidth - centerDot.offsetWidth);
            centerDot.style.left = left + 'px';
          }
          if (centerInput && centerValSpan && centerBar && centerDot) {

            centerInput.oninput = function() {
              let v = parseInt(centerInput.value) || 0;
              if (v < -100) v = -100;
              if (v > 100) v = 100;
              centerInput.value = v;
              centerValSpan.textContent = v;
              let percent = (v + 100) / 200;
              let left = percent * (centerBar.offsetWidth - centerDot.offsetWidth);
              centerDot.style.left = left + 'px';
              if (!window._center) window._center = [0,0,0,0];
              window._center[i] = v;
            };

            centerInput.onchange = function() {
              let v = parseInt(centerInput.value) || 0;
              if (v < -100) v = -100;
              if (v > 100) v = 100;
              centerInput.value = v;
              if (!window._center) window._center = [0,0,0,0];
              window._center[i] = v;
              if (typeof sendCenterCommand === 'function') {
                sendCenterCommand(window._center);
              }
            };
            centerInput.onkeydown = function(e) {
              if (e.key === 'Enter') {
                let v = parseInt(centerInput.value) || 0;
                if (v < -100) v = -100;
                if (v > 100) v = 100;
                centerInput.value = v;
                if (!window._center) window._center = [0,0,0,0];
                window._center[i] = v;
                if (typeof sendCenterCommand === 'function') {
                  sendCenterCommand(window._center);
                }
              }
            };
          }
        }

        document.querySelectorAll('.trim-clear-btn').forEach(btn => {
          btn.onclick = function() {
            const type = btn.getAttribute('data-type');
            const idx = btn.getAttribute('data-idx');
            if (type === 'trim') {

              const valSpan = document.getElementById(`trim-val-${idx}`);
              const dot = document.getElementById(`trim-dot-${idx}`);
              const bar = document.getElementById(`trim-bar-${idx}`);
              if (valSpan) valSpan.textContent = 0;
              if (bar && dot) {
                let percent = (0 + 130) / 260;
                let left = percent * (bar.offsetWidth - dot.offsetWidth);
                dot.style.left = left + 'px';
              }
              if(window.channelMap)
              {
                //console.log('idx:', idx);
                window.channelMap.channelTrimSend[idx] = 0;
              }
              let data = new Uint8Array(3+8+2);  
              data[0] = 0xA5;
              data[1] = 0x55;
              data[2] = 0x0F;
              for (let i = 0; i < 4; i++) {
                val = window.channelMap.channelTrimSend ? window.channelMap.channelTrimSend[i] : 0;
                data[3+i*2] = val & 0xFF;
                data[3+i*2+1] = (val >> 8) & 0xFF;
              }
              data[11] = 0x0D;
              data[12] = 0x0A;
              const cmd = new Uint8Array(data);
              if(writer) writer.write(cmd);
              //console.log('cmd:', cmd);
            } else if (type === 'center') {
              const valSpan = document.getElementById(`center-val-${idx}`);
              const dot = document.getElementById(`center-dot-${idx}`);
              const input = document.getElementById(`center-input-${idx}`);
              const bar = document.getElementById(`center-bar-${idx}`);
              if (valSpan) valSpan.textContent = 0;
              if (input) input.value = 0;
              if (bar && dot) {
                let percent = (0 + 100) / 200;
                let left = percent * (bar.offsetWidth - dot.offsetWidth);
                dot.style.left = left + 'px';
              }

              if (!window._center) window._center = [0,0,0,0];
              window._center[idx] = 0;
              if (typeof sendCenterCommand === 'function') {
                sendCenterCommand(window._center);
              }
            }
          };
        });
     }, 0);


      updateAllLangText();
    }


    let _autoDevAttrTries = 0;
    let _autoDevAttrMaxTries = 3;
    let _autoDevAttrTimer = null;
    async function autoSendDevAttr() {

      if (!writer) return;
      if (_autoDevAttrTries >= _autoDevAttrMaxTries) return;
      _autoDevAttrTries++;
      const devAttrCmd = new Uint8Array([0xA5, 0x55, 0x1D, 0x0D, 0x0A]);
      await writer.write(devAttrCmd);

      _autoDevAttrTimer = setTimeout(() => {
        if (!window._deviceInfo && _autoDevAttrTries < _autoDevAttrMaxTries) {
          autoSendDevAttr();
        } else if (!window._deviceInfo && _autoDevAttrTries >= _autoDevAttrMaxTries) {

          //renderDeviceInfoPage();
        }
      }, 2000);
    }



    function onSerialConnected() {
      _autoDevAttrTries = 0;
      if (_autoDevAttrTimer) clearTimeout(_autoDevAttrTimer);
      window._deviceInfo = undefined;
      autoSendDevAttr();

      const manualBaudrateInput = document.getElementById('manual-baudrate');
      if (manualBaudrateInput) {
        manualBaudrateInput.value = currentBaudRate;
      }
    }
    



    let _channelMapTries = 0;
    let _channelMapMaxTries = 3;
    let _channelMapTimer = null;
    let _channelMapSuccess = false;
    let _channelMapRefreshBtn = null;
    let _hasRequestedTrimAndMid = false;
    let _hasTrimAndMid = false;
    let _origChannelTimer = null;
    function showChannelMapRefreshBtn() {
      if (!_channelMapRefreshBtn) {
        _channelMapRefreshBtn = document.createElement('button');
        _channelMapRefreshBtn.textContent = 'Atualizar mapeamento de canais novamente';
        _channelMapRefreshBtn.style.background = 'linear-gradient(90deg,#4f8cff 0%,#3358e0 100%)';
        _channelMapRefreshBtn.style.color = '#fff';
        _channelMapRefreshBtn.style.border = 'none';
        _channelMapRefreshBtn.style.borderRadius = '8px';
        _channelMapRefreshBtn.style.padding = '10px 32px';
        _channelMapRefreshBtn.style.fontSize = '1.08em';
        _channelMapRefreshBtn.style.fontWeight = 'bold';
        _channelMapRefreshBtn.style.cursor = 'pointer';
        _channelMapRefreshBtn.style.margin = '18px auto';
        _channelMapRefreshBtn.onclick = () => {
          _channelMapTries = 0;
          _channelMapSuccess = false;
          _hasRequestedTrimAndMid = false;
          _hasTrimAndMid = false;
          _channelMapRefreshBtn.style.display = 'none';
          requestChannelMap();
        };
        const configPage = document.getElementById('page-config');
        if (configPage) configPage.appendChild(_channelMapRefreshBtn);
      }
      _channelMapRefreshBtn.style.display = '';
    }
    function hideChannelMapRefreshBtn() {
      if (_channelMapRefreshBtn) _channelMapRefreshBtn.style.display = 'none';
    }
    async function requestChannelMap() {
      if (!writer) return;
      if (_channelMapSuccess) return;
      if (_channelMapTries >= _channelMapMaxTries) {
        showChannelMapRefreshBtn();
        return;
      }
      _channelMapTries++;

      const buf = new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A]);
      await writer.write(buf);

      _channelMapTimer = setTimeout(() => {
        if (!_channelMapSuccess) requestChannelMap();
      }, 2000);
    }

    const _orig_showMainPage2 = showMainPage;
    showMainPage = function(page) {
      _orig_showMainPage2.apply(this, arguments);
      if (page === 'config') {
        _channelMapTries = 0;
        _channelMapSuccess = false;
        _hasRequestedTrimAndMid = false;
        _hasTrimAndMid = false;
        hideChannelMapRefreshBtn();
        requestChannelMap();

        if (_origChannelTimer) { clearInterval(_origChannelTimer); _origChannelTimer = null; }
      } else {

        if (_origChannelTimer) { clearInterval(_origChannelTimer); _origChannelTimer = null; }
      }
    };


    let _waitingForTrimAndMid = false;
    function tryParseChannelMapPacket(buf) {
      //console.log('tryParseChannelMapPacket Running', buf);
      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x44) return false;
      const len = buf[1];
      if (buf.length < len + 2) return false;
      const crc = buf[len+1];

      const calcCrc = crc8tab_js(buf.slice(2,2+len-1), len-1);
      if (crc !== calcCrc) return false;

      channelMap = {
        channelMapNum: buf[52],
        ctlModeRecv: buf[53],
        channelMapRecv: Array.from(buf.slice(2,18)),
        channelMapSend: Array.from(buf.slice(2,18)),
        channelLeftRecv: Array.from(buf.slice(18,34)),
        channelLeftSend: Array.from(buf.slice(18,34)),
        channelRightRecv: Array.from(buf.slice(34,50)),
        channelRightSend: Array.from(buf.slice(34,50)),
        channelDirRecv: [],
        channelDirSend: [],
        channelMidRecv: [0,0,0,0],
        channelMidSend: [0,0,0,0],
        channelTrimRecv: [0,0,0,0],
        channelTrimSend: [0,0,0,0]
      };

      let dirWord = buf[50] | (buf[51]<<8);
      for(let i=0;i<16;i++){
        channelMap.channelDirRecv[i] = (dirWord & (1<<i)) ? 1 : 0;
        channelMap.channelDirSend[i] = channelMap.channelDirRecv[i];
      }

      for(let i=0;i<4;i++){
        let centerInput = document.getElementById(`center-input-${i}`);
        let centerValSpan = document.getElementById(`center-val-${i}`);
        if(centerInput) centerInput.value = 0;
        if(centerValSpan) centerValSpan.textContent = 0;
        let centerDot = document.getElementById(`center-dot-${i}`);
        let centerBar = document.getElementById(`center-bar-${i}`);
        if(centerDot && centerBar) {
          let percent = (0 + 100) / 200;
          let left = percent * (centerBar.offsetWidth - centerDot.offsetWidth);
          centerDot.style.left = left + 'px';
        }
        let trimInput = document.getElementById(`trim-input-${i}`);
        let trimValSpan = document.getElementById(`trim-val-${i}`);
        if(trimInput) trimInput.value = 0;
        if(trimValSpan) trimValSpan.textContent = 0;
        let trimDot = document.getElementById(`trim-dot-${i}`);
        let trimBar = document.getElementById(`trim-bar-${i}`);
        if(trimDot && trimBar) {
          let percent = (0 + 130) / 260;
          let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth);
          trimDot.style.left = left + 'px';
        }
        
      }
      window.channelMap = channelMap;
      console.log('channelMap:', channelMap);
      //console.log('tryParseChannelMapPacket Running over');

      if (typeof channelMap.ctlModeRecv === 'number') {
        let modeIdx = 1;
        if (channelMap.ctlModeRecv === 1) modeIdx = 0;
        else if (channelMap.ctlModeRecv === 2) modeIdx = 1;
        else if (channelMap.ctlModeRecv === 3) modeIdx = 2;
        else if (channelMap.ctlModeRecv === 4) modeIdx = 3;
        window._currentModeIdx = modeIdx;

      setTimeout(() => {
          const sel = document.getElementById('mode-select');
          if (sel) sel.value = modeIdx;

          if (sel) sel.dispatchEvent(new Event('change'));
        }, 0);
      }

      if (typeof writer !== 'undefined' && writer && !_waitingForTrimAndMid) {
        _waitingForTrimAndMid = true;
        const cmd = new Uint8Array([0xA5,0x55,0x1F,0x0D,0x0A]);
        writer.write(cmd);
        console.log('å·²å‘é€èŽ·å–trimå’Œä¸­å¿ƒç‚¹æŒ‡ä»¤: [0xA5,0x55,0x1F,0x0D,0x0A]');
      }

      if (typeof window._onConfigMapReceived === 'function') {
        window._onConfigMapReceived();
        window._onConfigMapReceived = null;
      }
      if (typeof window._onCalibMapReceived === 'function') {
        window._onCalibMapReceived();
        window._onCalibMapReceived = null;
      }
      return channelMap;
    }

    function tryParseTrimAndMidPacket(buf) {
      //console.log('tryParseTrimAndMidPacket Running', buf);
      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x12) return false;
      const len = buf[1];
      if (buf.length < len + 2 || len < 10) return false;
      const crc = buf[len+1];
      const calcCrc = crc8tab_js(buf.slice(2,2+len-1), len-1);
      if (crc !== calcCrc) return false;

      let channelMidRecv = [], channelMidSend = [], channelTrimRecv = [], channelTrimSend = [];
      for(let i=0;i<4;i++){
        let off = 2 + i*2;
        let val = buf[off] | (buf[off+1]<<8);
        if(val & 0x8000) val = val - 0x10000;
        channelMidRecv[i] = val;
        channelMidSend[i] = val;
        let centerVal = Math.round(val * 100 / 512);
        let centerInput = document.getElementById(`center-input-${i}`);
        let centerValSpan = document.getElementById(`center-val-${i}`);
        if(centerInput) centerInput.value = centerVal;
        if(centerValSpan) centerValSpan.textContent = centerVal;
        let centerDot = document.getElementById(`center-dot-${i}`);
        let centerBar = document.getElementById(`center-bar-${i}`);
        if(centerDot && centerBar) {
          let percent = (centerVal + 100) / 200;
          let left = percent * (centerBar.offsetWidth - centerDot.offsetWidth);
          centerDot.style.left = left + 'px';
        }
      }

      for(let i=0;i<4;i++){
        let off = 2 + 8 + i*2;
        let val = buf[off] | (buf[off+1]<<8);
        if(val & 0x8000) val = val - 0x10000;
        channelTrimRecv[i] = val;
        channelTrimSend[i] = val;
        let trimInput = document.getElementById(`trim-input-${i}`);
        let trimValSpan = document.getElementById(`trim-val-${i}`);
        if(trimInput) trimInput.value = val;
        if(trimValSpan) trimValSpan.textContent = val;
        let trimDot = document.getElementById(`trim-dot-${i}`);
        let trimBar = document.getElementById(`trim-bar-${i}`);
        if(trimDot && trimBar) {
          let percent = (val + 130) / 260;
          let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth);
          trimDot.style.left = left + 'px';
        }


      }

      if (window.channelMap) {
        window.channelMap.channelMidRecv = channelMidRecv;
        window.channelMap.channelMidSend = channelMidSend;
        window.channelMap.channelTrimSend = channelTrimSend;
        window.channelMap.channelTrimRecv = channelTrimRecv;
      }



      console.log('trimMidObj:', { channelMidRecv, channelMidSend, channelTrimRecv, channelTrimSend });
      _hasTrimAndMid = true;

      _waitingForTrimAndMid = false;

      // if (!_origChannelTimer && typeof writer !== 'undefined' && writer &&
      //   document.getElementById('page-config') &&
      //   document.getElementById('page-config').style.display !== 'none'
      // ) {
      //   _origChannelTimer = setInterval(() => {
      //     writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
      //   }, 20);


      // }

      if (typeof window._onConfigTrimReceived === 'function') {
        window._onConfigTrimReceived();
        window._onConfigTrimReceived = null;
      }
      return { channelMidRecv, channelMidSend, channelTrimRecv, channelTrimSend };
    }


    function showProgressModal() {
      if(isProcessing === false)
      {
        const modal = document.getElementById('progressModal');
        modal.classList.add('active');
        

        const closeBtn = document.getElementById('progressCloseBtn');
        closeBtn.onclick = () => {

            closeProgressModal('Cancelado pelo usuario');
            refreshSettings();
        };

        // progressTimer = setTimeout(() => {

        // }, 20 * 1000);



        progressInterval = setInterval(() => {
          if (typeof rxLuaStats !== 'undefined') {
            updateProgress(rxLuaStats);
          }
        }, 200);

        isProcessing = true;
      }
    }

    /**


     */
    function updateProgress(percent) {
      const bar = document.getElementById('progressBar');
      const status = document.getElementById('progressStatus');
      

      percent = Math.min(100, Math.max(0, percent));
      bar.style.width = `${percent}%`;
      status.textContent = LANGS[currentLang]['progressStatus-Text'] + `${percent}%`;


      if (percent >= 100) {
        closeProgressModal('Operacao concluida');
      }
    }

    /**


     */
    function closeProgressModal(message) {
      document.getElementById('progressModal').classList.remove('active');
      
      isProcessing = false;

      if (progressInterval) {
        clearInterval(progressInterval);
        progressInterval = null;
      }



      if (progressTimer) {
        clearTimeout(progressTimer);
        progressTimer = null;
      }


      if (message) {
        console.log(message);
      }
      

      document.body.style.overflow = '';
    }






    function tryParseOrigChannelPacket(buf) {
      //console.log('tryParseOrigChannelPacket Running', buf);
      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x22) return false;
      const len = buf[1];
      if (buf.length < len + 2) return false;
      const crc = buf[len+1];
      const calcCrc = crc8tab_js(buf.slice(2,2+len-1), len-1);
      if (crc !== calcCrc) return false;

      let recvChannel = [];
      for(let i=0;i<10;i++){
        let off = 8 + i*2;
        let val = buf[off] | (buf[off+1]<<8);
        recvChannel[i] = val;
      }
      
      //console.log('tryParseOrigChannelPacket Running', buf);

      let channlMinRoute = 988;
      let channlMaxRoute = 2012;
      let channlMidRoute = 1500;
      let processedCH = new Array(10);

      let channelMapSend = (window.channelMap && window.channelMap.channelMapSend) ? window.channelMap.channelMapSend : Array.from({length:10}, (_,i)=>i+1);
      let channelDirSend = (window.channelMap && window.channelMap.channelDirSend) ? window.channelMap.channelDirSend : Array(10).fill(0);
      let routeLeft = (window.channelMap && window.channelMap.channelLeftSend) ? window.channelMap.channelLeftSend : Array(10).fill(0);
      let routeRight = (window.channelMap && window.channelMap.channelRightSend) ? window.channelMap.channelRightSend : Array(10).fill(0);
      let centerVal = (window.channelMap && window.channelMap.channelMidSend) ? window.channelMap.channelMidSend : Array(4).fill(0);
      let trimVal = (window.channelMap && window.channelMap.channelTrimSend) ? window.channelMap.channelTrimSend : Array(4).fill(0);

      let tmpRouteData = new Array(10);
      for(let i = 0; i < 10; i++)
      {
        tmpRouteData[i] = recvChannel[window.channelMap.channelMapSend[i]-1];
      }
      
        for (let i = 0; i < 10; i++) {

        let raw = tmpRouteData[i];
        let midOffset = (i < 4) ? (centerVal[window.channelMap.channelMapSend[i]-1] || 0) : 0;
        let leftPercent = routeLeft[i] || 0;
        let rightPercent = routeRight[i] || 0;
        if (raw >= channlMidRoute) {
          tmpRouteData[i] = ((raw - channlMidRoute) * (channlMaxRoute - channlMidRoute - midOffset) / (channlMaxRoute - channlMidRoute)) * (100 - rightPercent) / 100 + channlMidRoute + midOffset;
        } else {
          tmpRouteData[i] = (-1 * (channlMidRoute - raw) * (channlMidRoute + midOffset - channlMinRoute) / (channlMidRoute - channlMinRoute)) * (100 - leftPercent) / 100 + channlMidRoute + midOffset;
        }

        if (i < 4) {
          let handOffset = trimVal[window.channelMap.channelMapSend[i]-1] || 0;
          if (handOffset > 0) {
            if (tmpRouteData[i] + handOffset > channlMaxRoute) {
              tmpRouteData[i] = channlMaxRoute;
            } else {
              tmpRouteData[i] = tmpRouteData[i] + handOffset;
            }
          } else if (handOffset < 0) {
            if (tmpRouteData[i] + handOffset < channlMinRoute) {
              tmpRouteData[i] = channlMinRoute;
            } else {
              tmpRouteData[i] = tmpRouteData[i] + handOffset;
            }
          }
        }
      }

      // let mappedCH = new Array(10);
      // for (let i = 0; i < 10; i++) {
      //   //let srcIdx = (channelMapSend[i] || (i+1)) - 1;
      //   mappedCH[i] = tmpRouteData[i];
      // }

      for (let i = 0; i < 10; i++) {
        if (channelDirSend[i]) {
          processedCH[i] = 2 * channlMidRoute - tmpRouteData[i];
        } else {
          processedCH[i] = tmpRouteData[i];
        }

        if (processedCH[i] > channlMaxRoute) processedCH[i] = channlMaxRoute;
        if (processedCH[i] < channlMinRoute) processedCH[i] = channlMinRoute;
      }

      if (processedCH[0] !== 0) {
        for(let i=0;i<10;i++){
          let chVal = document.getElementById(`ch-val-${i}`);
          let chInput = document.getElementById(`ch-input-${i}`);
          if(chVal) chVal.textContent = Math.round(processedCH[i]);
          if(chInput) chInput.value = Math.round(processedCH[i]);
          let bar = document.getElementById(`ch-bar-${i}`)?.children[0];
          if(bar) bar.style.width = ((processedCH[i]-988)/(2012-988)*100) + '%';
          let barAttr = document.getElementById(`ch-bar-attr-${i}`)?.children[0];
          if(barAttr) barAttr.style.width = ((processedCH[i]-988)/(2012-988)*100) + '%';
        }
      }
      window.origChannelData = recvChannel;

      window._lastOrigChannelBuf = buf;

      return true;
    }


    

    const _orig_serialBufferPush = Array.prototype.push;
    Array.prototype.push = function(...args) {
      //console.log('serialBuffer.push called', args, this);
      const ret = _orig_serialBufferPush.apply(this, args);
      let found;
      do {
        found = false;
        for (let i = 0; i < this.length - 2; i++) {

          if(window._currentPage !== 'net')
          {
            if (this[i] === 0x44) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                if (tryParseChannelMapPacket(buf)) {
                  _channelMapSuccess = true;
                  hideChannelMapRefreshBtn();
                  if (_channelMapTimer) clearTimeout(_channelMapTimer);
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }

            
            if(this[i] === 0x11){
                const len = this[i+1];
                if (this.length >= i + len + 2 && len >0) {
                  const buf = this.slice(i, i+len+2);
                if (parseDeviceStats(buf)) {
                    this.splice(i, len+2);
                    found = true;
                    break;
                  }
              }
            }



            if (this[i] === 0x12) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                if (tryParseTrimAndMidPacket(buf)) {
                  console.log('[DEBUG] 0x12åŒ…è§£æžæˆåŠŸï¼Œå‡†å¤‡ç§»é™¤');
                  this.splice(i, len+2);
                  found = true;
                  break;
                } 
              }
            }



            if (this[i] === 0x22) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                let parsed = tryParseOrigChannelPacket(buf);

                //console.log('window._currentPage1:', window._currentPage);
                if (window._currentPage === 'calib' && typeof tryParseOrigChannelPacketCalib === 'function') {
                  //console.log('window._currentPage2:', window._currentPage);
                  tryParseOrigChannelPacketCalib(buf);
                }
                // else
                // {
                // }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }
            
          

            if (this[i] === 0x33) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                let parsed = false;
                if (window._currentPage === 'calib' && typeof tryParseAdcPacketCalib === 'function') {
                  parsed = tryParseAdcPacketCalib(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }



            if (this[i] === 0x34) {

              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                let parsed = false;
                if (window._currentPage === 'calib' && typeof tryParseMidAdcPacketCalib === 'function') {
                  console.log('[æ ¡å‡†] tryParseMidAdcPacketCalib Running');
                  parsed = tryParseMidAdcPacketCalib(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }



            if (this[i] === 0x45) {

              //console.log('this[i]:',this[i]);
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                //console.log('buf',buf);
                let parsed = false;
                //if (window._currentPage === 'net' && 
                if(typeof tryNetError === 'function') {

                  parsed = tryNetError(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }


            if(this[i] === 0x89) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                let parsed = false;
              }
            }


            if (this[i] === 0x55) {
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                let parsed = false;
                if (typeof tryParseTrimPacket === 'function') {
                  parsed = tryParseTrimPacket(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  break;
                }
              }
            }


            if (this[i] === 0xFF) {
              const len = this[i+1];
              if (this.length >= i + len + 2) {
                const buf = this.slice(i, i+len+2);
                let parsed = false;
              } 
              if (this.length >= i + len + 2 && len >0) {        

                const buf = new Uint8Array(this.slice(i, i+len+2));
                const devInfo = parseDeviceInfoPacket(buf);
                if (devInfo) {
                  console.log('[è®¾å¤‡å±žæ€§] æ”¶åˆ°åŽŸå§‹åŒ…:'+this.slice(i, i+len+2).map(x=>x.toString(16).padStart(2,'0')).join(' '));
                  window._deviceInfo = devInfo;
                  renderDeviceInfoPage();
                  if (window._waitingDevAttr) clearTimeout(window._waitingDevAttr);
                  console.log('[è®¾å¤‡å±žæ€§] è§£æžå¹¶æ¸²æŸ“å®Œæˆ');
                  this.splice(i, len+2);
                } else {

                }
              }
            } 

            if (this[i] === 0x67) {

              //console.log('this[i]:',this[i]);
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                //console.log('buf',buf);
                let parsed = false;
                //if (window._currentPage === 'net' && 
                if(typeof linkStats === 'function') {

                  parsed = linkStats(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  console.log("ä¿¡å·å¼ºåº¦:",g_linkState);
                  break;
                }
              }
            }
          }
          else 
          {


            if (this[i] === 0x67) {

              //console.log('this[i]:',this[i]);
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                const buf = this.slice(i, i+len+2);
                //console.log('buf',buf);
                let parsed = false;
                //if (window._currentPage === 'net' && 
                if(typeof linkStats === 'function') {

                  parsed = linkStats(buf);
                }
                if (parsed) {
                  this.splice(i, len+2);
                  found = true;
                  console.log("ä¿¡å·å¼ºåº¦:",g_linkState);
                  break;
                }
              }
            }


            if(this[i] === 0x23){
              const len = this[i+1];
              if (this.length >= i + len + 2 && len >0) {
                let parsed = false;
                const buf = this.slice(i, i+len+2);
                if (window._currentPage === 'net' && typeof tryParseNetProgress === 'function')
                {
                  parsed = tryParseNetProgress(buf);
                  if (parsed) {
                    this.splice(i, len+2);
                    found = true;
                    if(buf[3]==2)
                    {
                      
                      rxLuaStats = buf[2];
                      document.getElementById('settings-status-rx').textContent =rxLuaStats; 

                        showProgressModal();

                    }
                    else if(buf[3]==1)
                    {
                      txLuaStats = buf[2];
                      document.getElementById('settings-status').textContent =txLuaStats;
                    }
                    else if(buf[3]==3)
                    {
                      closeProgressModal("Dados invalidos");

                    }
                    else
                    {
                      console.log('æœªçŸ¥å¼‚å¸¸:'+buf);
                    }

                    break;
                  }
                }
              }
            }
          }

        }
        
      } while(found);
      return ret;
    };


    const _orig_showMainPage3 = showMainPage;
    showMainPage = function(page) {
      _orig_showMainPage3.apply(this, arguments);


      
    };


    function initCommPage() {

      //updateSignalStrength(2);
      linkSacn();
      serialBuffer= [];
      window._globalChannelTask = null;
      stopGlobalChannelTimer();
      updateAllLangText();
    }
    function initAttrPage() {

      //updateSignalStrength(2);
      serialBuffer= [];
      setTimeout(() => {
        linkSacn();
      },200);
      setTimeout(() => {
        const devAttrCmd = new Uint8Array([0xA5, 0x55, 0x1D, 0x0D, 0x0A]);
        writer.write(devAttrCmd);
      },200);
      setTimeout(() => {
        renderDeviceInfoPage();
        window._globalChannelTask = null;
        stopGlobalChannelTimer();
        //console.log('initAttrPage');
        updateAllLangText();
      },200);
      // renderDeviceInfoPage();
      // window._globalChannelTask = null;
      // stopGlobalChannelTimer();
      // //console.log('initAttrPage');
      // updateAllLangText();
    }
    
    function initConfigPage() {
      linkSacn();
      serialBuffer= [];
      renderConfigPage();

      if (window._crsfPingName) {
        updatePingNameDisplay(window._crsfPingName);
      }
      let state = { step: 0, gotMap: false, gotTrim: false };

      function sendMapLoop() {
        if (window._currentPage !== 'config' || state.gotMap) return;
        console.log('[é…ç½®] å‘é€mapåŒ…');
        writer.write(new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A]));
        setTimeout(sendMapLoop, 500);
      }
      function sendTrimLoop() {
        if (window._currentPage !== 'config' || !state.gotMap || state.gotTrim) return;
        console.log('[é…ç½®] å‘é€trim/centeråŒ…');
        writer.write(new Uint8Array([0xA5,0x55,0x1F,0x0D,0x0A]));
        setTimeout(sendTrimLoop, 500);
      }

      sendMapLoop();

      window._onConfigMapReceived = function() {
        if (window._currentPage === 'config' && !state.gotMap) {
          state.gotMap = true;
          console.log('[é…ç½®] æ”¶åˆ°mapåŒ…ï¼Œåˆ‡æ¢åˆ°trim/center');
          sendTrimLoop();
        }
      };

      window._onConfigTrimReceived = function() {
        if (window._currentPage === 'config' && state.gotMap && !state.gotTrim) {
          state.gotTrim = true;
          console.log('[é…ç½®] æ”¶åˆ°trim/centeråŒ…ï¼Œå¼€å§‹è¿žç»­é€šé“æ•°æ®');
        }
      };
      window._globalChannelTask = {
        channelRequest: () => {
          if (state.gotMap && state.gotTrim) {
            writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
          }
        },
        commandRequest: () => {}
      };

      setTimeout(() => {
        for (let i =4; i < 10; i++) {
          const sel = document.getElementById(`ch-map-in2-${i}`);

          if (sel) {

            sel.onchange = function() {
              console.log('é€šé“æ˜ å°„å·²æ›´æ”¹', sel.value);
              if (window.channelMap && window.channelMap.channelMapSend) {
                window.channelMap.channelMapSend[i] = Number(sel.value);


                const confirmBtn = document.getElementById('channel-confirm-btn');
                if (confirmBtn) {
                  confirmBtn.click();
                }
              }
            };
          }
        }
      }, 0);

      startTimers(window._globalChannelTask);
      updateAllLangText();
    }
    function initNetPage() {

      if (window._crsfPingName) {

        setTimeout(() => {
          updatePingNameDisplay(window._crsfPingName);
        }, 100);
      }
      linkSacn();
      serialBuffer= [];
      if (typeof refreshSettings === 'function') {
        refreshSettings();
      }
      wifiToggleBtn();
      window._globalChannelTask = null;
      stopGlobalChannelTimer();
      updateAllLangText();
    }
    function initCalibPage() {
      linkSacn();
      serialBuffer= [];
      //document.body.style.zoom = 1;
      let state = { step: 0, gotMap: false, calibState: 'idle' };
      function sendMapLoop() {
        if (window._currentPage !== 'calib' || state.gotMap) return;
        console.log('[æ ¡å‡†] å‘é€mapåŒ…');
        writer.write(new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A]));
        setTimeout(sendMapLoop, 500);
      }
      sendMapLoop();
      window._onCalibMapReceived = function() {
        if (window._currentPage === 'calib' && !state.gotMap) {
          state.gotMap = true;
          console.log('[æ ¡å‡†] æ”¶åˆ°mapåŒ…ï¼Œåˆ‡æ¢åˆ°é€šé“æ•°æ®');
        }
      };

      window._globalChannelTask = {
        channelRequest: () => {
          if (state.gotMap && state.calibState === 'idle') {
            writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
          }
        },
        commandRequest: () => {}
      };
      startTimers(window._globalChannelTask);
      updateAllLangText();
      
    }
    // function initFwPage() {
    //   serialBuffer= [];
    //   window._globalChannelTask = null;
    //   stopGlobalChannelTimer();
    // }
    //const _orig_initFwPage = typeof initFwPage === 'function' ? initFwPage : null;
    function initFwPage() {
      serialBuffer= [];
      window._globalChannelTask = null;
      stopGlobalChannelTimer();
      //if (_orig_initFwPage) _orig_initFwPage();
      if (fwUpdateBtn) {
        fwUpdateBtn.disabled = true;
        console.log('[FW] è¿›å…¥å›ºä»¶æ›´æ–°é¡µé¢ï¼Œç¦ç”¨ç¡®è®¤æ›´æ–°æŒ‰é’®');
      }
      setTimeout(() => { if (fwUpdateBtn) fwUpdateBtn.disabled = true; }, 0);

      if (fwSend31Timer) clearInterval(fwSend31Timer);
      fwSend31Count = 0;
      fwSend31Timer = setInterval(async () => {
        if (writer && fwSend31Count < 2) {
          try {

            await writer.write(new Uint8Array([0x33]));
            fwSend31Count++;
            console.log('[FW] å®šæ—¶å™¨å·²å‘é€0x31ï¼Œç¬¬' + fwSend31Count + 'æ¬¡');
            if (fwSend31Count >= 2) {
              clearInterval(fwSend31Timer);
              fwSend31Timer = null;
              console.log('[FW] å·²å‘é€2æ¬¡0x31ï¼Œåœæ­¢å®šæ—¶å™¨');
            }
          } catch (e) {
            fwStatus.textContent = 'Falha ao enviar 0x31: ' + e.message;
            console.log('[FW] å‘é€0x31å¤±è´¥ï¼š' + e.message);
            clearInterval(fwSend31Timer);
            fwSend31Timer = null;
          }
        } else if (!writer) {
          fwStatus.textContent = 'Conecte a porta serial primeiro!';
          console.log('[FW] æœªè¿žæŽ¥ä¸²å£ï¼Œæ— æ³•å‘é€0x31');
          clearInterval(fwSend31Timer);
          fwSend31Timer = null;
        }
      }, 1000);
      startFwReadyCheck();
      updateFwUI();
      updateAllLangText();
    }


    function sendChannelConfirm(){

    }


    function renderDeviceInfoPage() {
      const dev = window._deviceInfo;
      const attrPage = document.getElementById('page-attr');
      if (!attrPage) return;
      let html = '<div class="comm-container" style="display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 64px);background:linear-gradient(135deg,#e0e7ff 0%,#f4f6fb 100%);">';
      html += '<div style="background:#fff;border-radius:22px;box-shadow:0 8px 36px rgba(79,140,255,0.15);padding:48px 60px 40px 60px;min-width:380px;max-width:520px;width:100%;display:flex;flex-direction:column;align-items:center;">';
      html += '<div class="comm-title" data-i18n="attr-title" style="margin-bottom:32px;display:flex;align-items:center;gap:16px;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);padding:20px 32px;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.1);border:2px solid #3b82f6;">';
      html += '<svg width="32" height="32" viewBox="0 0 24 24" fill="none" style="filter:drop-shadow(0 2px 4px rgba(0,0,0,0.1));"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="#1e40af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
      html += '<span style="color:#1e40af;font-size:1.4em;font-weight:700;text-shadow:0 1px 2px rgba(255,255,255,0.8);">Informações do Dispositivo</span>';
      html += '</div>';
      html += `<div style="margin: 24px 0 0 0; display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; max-width: 100%; justify-items: center;">
        <button id="enter-passthrough-btn" data-i18n="enter-passthrough" style="background: linear-gradient(90deg,#27ae60 0%,#229954 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Entrar em Passthrough</button>
        <button id="exit-passthrough-btn" data-i18n="exit-passthrough" style="background: linear-gradient(90deg,#f39c12 0%,#e67e22 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Sair de Passthrough</button>
        <button id="enable-wifi-btn" data-i18n="open-wifi" style="background: linear-gradient(90deg,#3498db 0%,#2980b9 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Abrir WiFi</button>
        <button id="disable-wifi-btn" data-i18n="close-wifi" style="background: linear-gradient(90deg,#95a5a6 0%,#7f8c8d 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Fechar WiFi</button>
        <button id="factory-reset-btn" data-i18n="factory-reset" style="background: linear-gradient(90deg,#e74c3c 0%,#c0392b 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Restaurar Padrão de Fábrica</button>
        <button id="exit-fw-update-btn" data-i18n="exit-fw-update" style="background: linear-gradient(90deg,#3498db 0%,#2980b9 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 32px; font-size: 1.08em; font-weight: bold; cursor: pointer; width: 160px;">Sair da Atualização de Firmware</button>
      </div>`;

      const keymodeOptions = [
        [6, 3, 2, 0], // SA
        [0, 0, 4, 1], // SB
        [0, 0, 4, 1], // SC
        [6, 3, 2, 0], // SD
        [0, 0, 0, 1], // SE
      ];
      const keyNames = ['SA', 'SB', 'SC', 'SD', 'SE'];
      const keymodeLabels = {
        6: { text: 'Clique', i18n: 'keymode-trigger' },
        3: { text: 'Simples', i18n: 'keymode-single' },
        2: { text: 'Duplo', i18n: 'keymode-double' },
        4: { text: '3 Posições', i18n: 'keymode-triple' },
        1: { text: '2 Posições', i18n: 'keymode-doubleStatus' }
      };
      html += `
        <div style="margin-top:32px;width:100%;">
          <div data-i18n="keymode-title" style="color:#3358e0;font-weight:bold;font-size:1.13em;margin-bottom:10px;">Configuração do Modo de Tecla</div>
          <div id="keymode-selectors" style="display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;gap:12px;">
          ${keyNames.map((k, i) => `
            <div style="display:flex;flex-direction:column;align-items:center;">
              <span style="margin-bottom:6px;">${k}</span>
              <select id="keymode-${k}" class="keymode-select">
                ${keymodeOptions[i].map(type =>
                  type ? `<option value="${type}" data-i18n="${keymodeLabels[type].i18n}">${keymodeLabels[type].text}</option>` : ''
                ).join('')}
              </select>
            </div>
          `).join('')}
          </div>
      </div>`;

      html += '<button id="query-device-attr-btn" class="connect-btn" data-i18n="query-device-attr" style="margin-bottom:18px;">Consultar Configuração do Dispositivo</button>';
      if (!dev) {
        html += '<div data-i18n="no-device-info">Sem informações do dispositivo.</div></div></div>';
        attrPage.innerHTML = html;

        const queryBtn = document.getElementById('query-device-attr-btn');
        if (queryBtn) {
          queryBtn.onclick = async function() {
            if (!writer) { alert(LANGS[currentLang]['connect-port-desc']); return; }
            const devAttrCmd = new Uint8Array([0xA5, 0x55, 0x1D, 0x0D, 0x0A]);
            await writer.write(devAttrCmd);
            queryBtn.disabled = true;
            queryBtn.textContent = LANGS[currentLang]['query-device-attr-loading'];
            setTimeout(() => {
              queryBtn.disabled = false;
              queryBtn.textContent = LANGS[currentLang]['query-device-attr'];
            }, 2000);
          };
        }
        const exitFwUpdateBtn = document.getElementById('exit-fw-update-btn');
        if (exitFwUpdateBtn) {
            exitFwUpdateBtn.onclick = function() {
              if (typeof writer !== 'undefined' && writer) {
                writer.write(new Uint8Array([0x34]));
                alert(LANGS[currentLang]['exit-fw-update']);
                console.log('[ATTR] å·²å‘é€é€€å‡ºå›ºä»¶æ›´æ–°æŒ‡ä»¤');
              }
            };
        }
        return;
      }

      let serialNumStr = '';
      if (dev.serialNumber) {
        const arr = typeof dev.serialNumber === 'string' ? Array.from(dev.serialNumber).map(c=>c.charCodeAt(0)) : Array.from(dev.serialNumber);
        serialNumStr = arr.map(b=>b.toString(16).padStart(2,'0')).join('');

        serialNumStr = serialNumStr.replace(/(00)+$/, '');
      }
      html += `<div style="width:100%;display:flex;flex-direction:column;gap:18px;">
        <div class="setting-row">
          <span class="setting-label" data-i18n="volume">Volume</span>
          <input id="volume-range"  min="0" max="25" value="${dev.devVolume}" type="range" ...>
          <div class="setting-right">
            <span id="volume-value" class="setting-value">${dev.devVolume*4}</span>
          </div>
        </div>
        <div class="setting-row">
          <span class="setting-label" data-i18n="slide_mid">Tom médio S1</span>
          <input id="slide_mid-range"  min="1000" max="8000" value="${dev.slideMidData}" type="range" ...>
          <div class="setting-right">
            <span id="slide_mid-value" class="setting-value">${dev.slideMidData}</span>
            <input type="checkbox" id="slide_mid" value="${dev.slideMid}">
          </div>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="serial-warning-test">Aviso de perda do receptor</span>
          <input type="checkbox" id="check_warning" value="${dev.RxWarning}">
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="lowpower-warning-test">Aviso de bateria fraca</span>
          <input type="checkbox" id="check_lowpower" value="${dev.LowPowerWarning}">
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="trim-left-reset-test">Função de reset do trim esquerdo</span>
          <input type="checkbox" id="check_left_trim_reset" value="${dev.LeftTrimReset}">
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="trim-right-reset-test">Função de reset do trim direito</span>
          <input type="checkbox" id="check_right_trim_reset" value="${dev.RightTrimReset}">
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="serial-number">Número de Série</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;letter-spacing:2px;">${serialNumStr}</span>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#f4f8ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="elrs-firmware-version">Versão do Firmware ExpressLRS</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;">${dev.elrsFirmWare}</span>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="device-firmware-version">Versão do Firmware do Dispositivo</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;">${dev.deviceFirmWare}</span>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#f4f8ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="elrs-name">Nome do Radio</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;">${dev.elrsName}</span>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#eaf1ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="company-name">Fornecedor</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;">${dev.companyName}</span>
        </div>
        <div style="display:flex;align-items:center;gap:18px;justify-content:space-between;background:#f4f8ff;border-radius:12px;padding:12px 18px;">
          <span style="color:#3358e0;font-weight:500;min-width:90px;" data-i18n="device-name">Dispositivo</span>
          <span style="font-family:'Roboto',monospace;font-size:1.08em;">${dev.devName}</span>
        </div>
      </div>`;

    //   <div style="margin-top:32px;width:100%;">

    //     <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
    //       <div style="background:#f4f8ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#eaf1ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#f4f8ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#eaf1ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#f4f8ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#eaf1ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#f4f8ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#eaf1ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //       <div style="background:#f4f8ff;border-radius:8px;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;">

    //       </div>
    //     </div>
    //   </div>
 
    attrPage.innerHTML = html;
    const  SildeRange = document.getElementById('slide_mid-range');
    const SildeValue = document.getElementById('slide_mid-value');
    SildeRange.addEventListener('input', function() {
        let v = parseInt(SildeRange.value) || 0;
        if (v < 1000) v = 1000;
        if (v > 8000) v = 8000;
        SildeValue.textContent = v ;
        window._deviceInfo.slideMidData = v;
      });

    SildeRange.addEventListener('change', function() {
        let v = parseInt(SildeRange.value) || 0;
        if (v < 1000) v = 1000;
        if (v > 8000) v = 8000;

        let cmdData = [];
        if(window._deviceInfo.slideMid)
        {
          cmdData[0] = 0x01;
          window._deviceInfo.slideMid = 1;
        }
        else
        {
          cmdData[0] = 0x00;
          window._deviceInfo.slideMid = 0;
        }
        let value = parseInt(SildeRange.value) || 0;
        cmdData[1] = (value >> 8) & 0xFF;
        cmdData[2] = value & 0xFF;
    
        const sendData = new Uint8Array([0xA5, 0x55, 0x24,cmdData[0],cmdData[2],cmdData[1],0x0D,0x0A]);
        if (typeof writer !== 'undefined' && writer) {
          setTimeout(() => {
            writer.write(sendData);
          }, 100);
          setTimeout(() => {
            writer.write(sendData);
          }, 200);
          setTimeout(() => {
            writer.write(sendData);
          }, 300);
          console.log('[ATTR] é¢‘çŽ‡è®¾ç½®å·²å‘é€ï¼š' + v);
          console.log('sendData',sendData);
        }
      });



      const volumeRange = document.getElementById('volume-range');
      const volumeValue = document.getElementById('volume-value');
      volumeRange.addEventListener('input', function() {
        let v = parseInt(volumeRange.value) || 0;
        if (v < 0) v = 0;
        if (v > 25) v = 25;
        volumeValue.textContent = v * 4;
        window._deviceInfo.devVolume = v;
      });

      volumeRange.addEventListener('change', function() {
        let v = parseInt(volumeRange.value) || 0;
        if (v < 0) v = 0;
        if (v > 25) v = 25;
        if (typeof writer !== 'undefined' && writer) {
          writer.write(new Uint8Array([0xA5, 0x55, 0x19, v, 0x0D, 0x0A]));
          setTimeout(() => {
            writer.write(new Uint8Array([0xA5, 0x55, 0x19, v, 0x0D, 0x0A]));
          }, 100);
          setTimeout(() => {
            writer.write(new Uint8Array([0xA5, 0x55, 0x19, v, 0x0D, 0x0A]));
          }, 200);
          setTimeout(() => {
            writer.write(new Uint8Array([0xA5, 0x55, 0x19, v, 0x0D, 0x0A]));
          }, 300);
          console.log('[ATTR] éŸ³é‡è®¾ç½®å·²å‘é€ï¼š' + v);
        }
      });


      const enterPassthroughBtn = document.getElementById('enter-passthrough-btn');
      //enterPassthroughBtn.style.display = 'none';
      if (enterPassthroughBtn) {
        enterPassthroughBtn.onclick = function() {
          if (typeof writer !== 'undefined' && writer) {
            writer.write(new Uint8Array([0xA5, 0x55, 0x2A, 0x0D, 0x0A]));
            console.log('[ATTR] è¿›å…¥é€ä¼ æ¨¡å¼æŒ‡ä»¤å·²å‘é€');
          }
        };
      }
      

      const exitPassthroughBtn = document.getElementById('exit-passthrough-btn');
      //exitPassthroughBtn.style.display = 'none';
      if (exitPassthroughBtn) {
        exitPassthroughBtn.onclick = function() {
          if (typeof writer !== 'undefined' && writer) {
            writer.write(new Uint8Array([0xA5, 0x55, 0x2B, 0x0D, 0x0A]));
            console.log('[ATTR] é€€å‡ºé€ä¼ æ¨¡å¼æŒ‡ä»¤å·²å‘é€');
          }
        };
      }
      

      const enableWifiBtn = document.getElementById('enable-wifi-btn');
      if (enableWifiBtn) {
        enableWifiBtn.onclick = function() {
          if (typeof writer !== 'undefined' && writer) {
            writer.write(new Uint8Array([0xA5, 0x66, 0x05, 0x0D, 0x0A]));
            console.log('[ATTR] å¼€å¯WiFiæŒ‡ä»¤å·²å‘é€');
          }
        };
      }
      

      const disableWifiBtn = document.getElementById('disable-wifi-btn');
      if (disableWifiBtn) {
        disableWifiBtn.onclick = function() {
          if (typeof writer !== 'undefined' && writer) {
            writer.write(new Uint8Array([0xA5, 0x66, 0x06, 0x0D, 0x0A]));
            console.log('[ATTR] å…³é—­WiFiæŒ‡ä»¤å·²å‘é€');
          }
        };
      }
      
      const factoryResetBtn = document.getElementById('factory-reset-btn');
      if (factoryResetBtn) {
        factoryResetBtn.onclick = function() {
          if (!window.confirm(LANGS[currentLang]['factory-reset-confirm'])) return;
          if (typeof writer !== 'undefined' && writer) {
            writer.write(new Uint8Array([0xA5, 0x55, 0x0E, 0x0D, 0x0A]));
            alert(LANGS[currentLang]['factory-reset-success']);
          }
        };
      }
      const keyModeArr = dev.keyModel;

      ['SA','SB','SC','SD','SE'].forEach((k, i) => {
        const sel = document.getElementById(`keymode-${k}`);
        if (sel) {
          sel.value = parseInt(keyModeArr[i] || 6).toString();
          sel.onchange = function() {

            const vals = ['SA','SB','SC','SD','SE'].map((kk, idx) => {
              const s = document.getElementById(`keymode-${kk}`);
              return s ? parseInt(s.value) : 6;
            });

            const cmd = new Uint8Array([0xA5, 0x55, 0x21, ...vals, 7, 0x0D, 0x0A]);
            if (typeof writer !== 'undefined' && writer) {
              window._deviceInfo.keyModel = [...vals, 7];
              // console.log([...vals, 7]);
              // console.log("cmd:",cmd);
              setTimeout(() => {
                 writer.write(cmd);
              }, 500);
              setTimeout(() => {
                 writer.write(cmd);
              }, 500);
              setTimeout(() => {
                 writer.write(cmd);
              }, 500);

            }
          };
        }
      });


      const RxWarning = document.getElementById('check_warning');
      RxWarning.checked = dev.RxWarning === 1;
      if (RxWarning) {
        RxWarning.onchange = function() {
          let cmdData = [];
          if(window._deviceInfo.RxWarning)
          {
            cmdData[0] = 0x00;
            window._deviceInfo.RxWarning = 0;
            RxWarning.checked = false;
          }
          else
          {
            cmdData[0] = 0x01;
            window._deviceInfo.RxWarning = 1;
            RxWarning.checked = true;
          }
          const sendData = new Uint8Array([0xA5, 0x55, 0x25,cmdData[0],0x0D,0x0A]);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
        }
      }

      const LowPowerWarning = document.getElementById('check_lowpower');
      LowPowerWarning.checked = dev.LowPowerWarning === 1;
      if (LowPowerWarning) {
        LowPowerWarning.onchange = function() {
          let cmdData = [];
          if(window._deviceInfo.LowPowerWarning)
          {
            cmdData[0] = 0x00;
            window._deviceInfo.LowPowerWarning = 0;
            LowPowerWarning.checked = false;
          }
          else
          {
            cmdData[0] = 0x01;
            window._deviceInfo.LowPowerWarning = 1;
            LowPowerWarning.checked = true;
          }
          const sendData = new Uint8Array([0xA5, 0x55, 0x27,cmdData[0],0x0D,0x0A]);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
        }
      }

      const LeftTrimReset = document.getElementById('check_left_trim_reset');
      LeftTrimReset.checked = dev.LeftTrimReset === 1;
      if (LeftTrimReset) {
        LeftTrimReset.onchange = function() {
          let cmdData = [];
          if(window._deviceInfo.LeftTrimReset)
          {
            cmdData[0] = 0x00;
            cmdData[1] = window._deviceInfo.RightTrimReset;
            window._deviceInfo.LeftTrimReset = 0;
            LeftTrimReset.checked = false;
          }
          else
          {
            cmdData[0] = 0x01;
            cmdData[1] = window._deviceInfo.RightTrimReset;
            window._deviceInfo.LeftTrimReset = 1;
            LeftTrimReset.checked = true;
          }
          const sendData = new Uint8Array([0xA5, 0x55, 0x30,cmdData[0],cmdData[1],0x0D,0x0A]);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
        }
      }



      const RightTrimReset = document.getElementById('check_right_trim_reset');
      RightTrimReset.checked = dev.RightTrimReset === 1;
      if (RightTrimReset) {
        RightTrimReset.onchange = function() {
          let cmdData = [];
          if(window._deviceInfo.RightTrimReset)
          {
            cmdData[1] = 0x00;
            cmdData[0] = window._deviceInfo.LeftTrimReset;
            window._deviceInfo.RightTrimReset = 0;
            RightTrimReset.checked = false;
          }
          else
          {
            cmdData[1] = 0x01;
            cmdData[0] = window._deviceInfo.LeftTrimReset;
            window._deviceInfo.RightTrimReset = 1;
            RightTrimReset.checked = true;
          }
          const sendData = new Uint8Array([0xA5, 0x55, 0x30,cmdData[0],cmdData[1],0x0D,0x0A]);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
          setTimeout(() => {
            writer.write(sendData);
          }, 500);
        }
      }




      const slideMid = document.getElementById('slide_mid');
      const slideMidData = document.getElementById('slide_midData');
      slideMid.checked = dev.slideMid === 1;
      if (slideMid) {
        slideMid.onchange = function() {
        let cmdData = [];
        if(window._deviceInfo.slideMid)
        {
          cmdData[0] = 0x00;
          window._deviceInfo.slideMid = 0;
          //console.log("0:",window._deviceInfo.slideMid);
        }
        else
        {
          cmdData[0] = 0x01;
          window._deviceInfo.slideMid = 1;
          //console.log("1",window._deviceInfo.slideMid);
        }
        let value = parseInt(SildeRange.value) || 0;
        cmdData[1] = (value >> 8) & 0xFF;
        cmdData[2] = value & 0xFF;

        console.log('SildeRange.value:',SildeRange.value);
        const sendData = new Uint8Array([0xA5, 0x55, 0x24,cmdData[0],cmdData[2],cmdData[1],0x0D,0x0A]);
        setTimeout(() => {
            writer.write(sendData);    
              }, 500);
        setTimeout(() => {
            writer.write(sendData);    
              }, 500);
      }
    }



      updateAllLangText();
      }


    function updateFwUI() {
      if (typeof upDataFlag === 'undefined') window.upDataFlag = 0;

      const fwEnterUpdateBtn = document.getElementById('fw-enter-update-btn');
      const fwDropArea = document.getElementById('fw-drop-area');
      //const fwFileBtn = document.getElementById('fw-file-btn');
      const fwFileInput = document.getElementById('fw-file');
      const fwFileName = document.getElementById('fw-file-name');
      const fwUpdateBtn = document.getElementById('fw-update-btn');
      const fwStatus = document.getElementById('fw-status');
      const fwStatusText = document.getElementById('fw-status-text');
      const fwProgressLabel = document.getElementById('fw-progress-label');
      const fwProgressBarWrap = document.getElementById('fw-progress-bar-wrap');

      if (upDataFlag === 0) {
        fwEnterUpdateBtn.style.display = '';
        fwDropArea.style.display = 'none';
        //fwFileBtn.style.display = 'none';
        fwFileInput.style.display = 'none';
        fwFileName.style.display = 'none';
        fwUpdateBtn.style.display = 'none';
        fwProgressLabel.style.display = 'none';
        fwProgressBarWrap.style.display = 'none';
        fwStatus.textContent = '';
        fwStatusText.textContent = '';
        document.getElementById('fw-device-type').disabled = false;
      } else if (upDataFlag === 1) {
        fwEnterUpdateBtn.style.display = 'none';
        fwDropArea.style.display = 'none';
        //fwFileBtn.style.display = 'none';
        fwFileInput.style.display = 'none';
        fwFileName.style.display = 'none';
        fwUpdateBtn.style.display = 'none';
        fwProgressLabel.style.display = 'none';
        fwProgressBarWrap.style.display = 'none';
        fwStatus.textContent =LANGS[currentLang]['fw-wait-ready'];
        document.getElementById('fw-device-type').disabled = true;
      } else if (upDataFlag === 2) {
        fwEnterUpdateBtn.style.display = 'none';
        fwDropArea.style.display = '';
        //fwFileBtn.style.display = '';
        fwFileInput.style.display = '';
        fwFileName.style.display = '';
        fwUpdateBtn.style.display = '';
        fwProgressLabel.style.display = '';
        fwProgressBarWrap.style.display = '';
        document.getElementById('fw-device-type').disabled = true;
        fwStatus.textContent =LANGS[currentLang]['fw-ready-update'];
        fwStatusText.textContent =LANGS[currentLang]['fw-ready-update-text'];
      }
      updateAllLangText();
    }


    if (typeof pageInits === 'object') pageInits.fw = initFwPage;
    fwUpdateBtn.onclick = async function() {
      if (!fwFileData) { fwStatus.textContent =LANGS[currentLang]['fw-file-input']; return; }
      if (!writer) { fwStatus.textContent =LANGS[currentLang]['fw-connect-port']; return; }
      fwStatus.textContent =LANGS[currentLang]['fw-transmitting'];
      fwProgressBar.style.width = '0%';
      fwProgressText.textContent = '0%';
      fwUpdateBtn.disabled = true;
      try {
        await ymodemSend(fwFileData, fwFileInput.files[0].name, (sent, total) => {
          const percent = Math.floor(sent / total * 100);
          fwProgressBar.style.width = percent + '%';
          fwProgressText.textContent = percent + '%';
        });
        fwStatus.textContent = 'Transferencia de firmware concluida!';
        fwUpdateBtn.disabled = false;
        upDataFlag = 0;
        updateFwUI();
        window.alert(LANGS[currentLang]['update-over']);
      } catch (e) {
        fwStatus.textContent = 'Falha na transferencia: ' + e.message;
      }
    };


    window._globalChannelTimer = null;
    window._globalChannelTask = null;
    function startGlobalChannelTimer() {
      if (!window._globalChannelTimer) {
        console.log('[å®šæ—¶å™¨] å¯åŠ¨å…¨å±€é€šé“å®šæ—¶å™¨');
        window._globalChannelTimer = setInterval(() => {
          if (typeof window._globalChannelTask === 'function') {
            window._globalChannelTask();
          } else if (window._globalChannelTask && window._globalChannelTask.channelRequest) {
            window._globalChannelTask.channelRequest();
          }
        }, 20);
      } else {
        console.log('[å®šæ—¶å™¨] å·²æœ‰å®šæ—¶å™¨åœ¨è¿è¡Œ');
      }
    }
    function stopGlobalChannelTimer() {
      if (window._globalChannelTimer) {
        console.log('[å®šæ—¶å™¨] åœæ­¢å…¨å±€é€šé“å®šæ—¶å™¨');
        clearInterval(window._globalChannelTimer);
        window._globalChannelTimer = null;
      }
    }

    function tryParseNetProgress(buf){
      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x23) return false;
      const len = buf[1];
      if (buf.length < len + 2) return false;
      const crc = buf[len+1];
      const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
      if (crc !== calcCrc) return false;
      //console.log('buf:',buf);
      return true;
    }


    function tryParseAdcPacketCalib(buf) {
      var pageCalib = document.getElementById('page-calib');
      if (!pageCalib || pageCalib.style.display === 'none') return false;

      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x33) return false;
      const len = buf[1];
      if (buf.length < len + 2) return false;
      const crc = buf[len+1];
      const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
      if (crc !== calcCrc) return false;

      // CaliFlag
      const CaliFlag = buf[12];


      let recvAdc = [];
      for (let i = 0; i < 5; i++) {
        let off = 2 + i*2;
        recvAdc[i] = buf[off] | (buf[off+1]<<8);
      }


      let recvAdcInputDir = [];
      for (let i = 0; i < 4; i++) {
        recvAdcInputDir[i] = buf[11+2+i];
      }


      let adcMap = [];
      for (let i = 0; i < 4; i++) {
        adcMap[i] = buf[15+2+i];
      }


      let recvAdcCailData = [];
      for (let i = 0; i < 5; i++) {
        let base = 19+2+i*6;
        let max = buf[base] | (buf[base+1]<<8);
        let min = buf[base+2] | (buf[base+3]<<8);
        let mid = buf[base+4] | (buf[base+5]<<8);
        recvAdcCailData[i] = [max, min, mid];
      }


      let tmpData = [];
      for (let i = 0; i < 5; i++) {
        let adc = recvAdc[i];
        let max = recvAdcCailData[i][0];
        let min = recvAdcCailData[i][1];
        let mid = recvAdcCailData[i][2];
        if (adc >= mid) {
          tmpData[i] = 1.0 * (adc - mid) * 100 / (max - mid);
          if (tmpData[i] > 100) tmpData[i] = 100;
        } else {
          tmpData[i] = -100 + 1.0 * (adc - min) * 100 / (mid - min);
          if (tmpData[i] < -100) tmpData[i] = -100;
        }

        if (i < 4 && recvAdcInputDir[adcMap[i]]) tmpData[i] = -tmpData[i];
      }





      const joy1Canvas = document.getElementById('joystick1');
      const joy2Canvas = document.getElementById('joystick2');

      drawJoystick(joy2Canvas, tmpData[adcMap[1]], tmpData[adcMap[0]]);

      drawJoystick(joy1Canvas, tmpData[adcMap[3]], tmpData[adcMap[2]]);


      const slider = document.getElementById('calib-slider');
      const sliderValue = document.getElementById('calib-slider-value');

      let adcNow = recvAdc[4];
      let adcMin = recvAdcCailData[4][1];
      let adcMax = recvAdcCailData[4][0];
      let percent = 0;
      if (adcMax !== adcMin) {
        percent = Math.round((adcNow - adcMin) * 100 / (adcMax - adcMin));
        if (percent < 0) percent = 0;
        if (percent > 100) percent = 100;
      }
      if (slider) slider.value = percent;
      if (sliderValue) sliderValue.textContent = percent;
      if (slider) slider.style.background = `linear-gradient(90deg, #4f8cff ${percent}%, #e0e7ff ${percent}%)`;


      if (!window._adcMax) window._adcMax = [0,0,0,0,0];
      if (!window._adcMin) window._adcMin = [65535,65535,65535,65535,65535];
      for (let i = 0; i < 4; i++) {
        if(recvAdc[i]>100 && recvAdc[i]<4000)
        {
          if(recvAdc[i] > window._adcMax[i]) window._adcMax[i] = recvAdc[i];
          if(recvAdc[i] < window._adcMin[i]) window._adcMin[i] = recvAdc[i];
        }
      }
        if (recvAdc[4] > window._adcMax[4]) window._adcMax[4] = recvAdc[4];
        if (recvAdc[4] < window._adcMin[4]) window._adcMin[4] = recvAdc[4];

      let isCalib = 0;

      for (let i = 0; i < 4; i++) {   
        if(recvAdc[i]==0)
        {
          console.log('[ADCæ ¡å‡†å¼‚å¸¸] ä¸º',i,'çš„å€¼ä¸º0',buf);
        }

        if((window._adcMax[i]-recvMidAdc[i]>800) && (recvMidAdc[i]-window._adcMin[i]>800))
        {
          isCalib++;
        }
        else
        {
          console.log('[ADCæ ¡å‡†] å½“å‰æœ€å¤§å€¼:', window._adcMax, 'æœ€å°å€¼:', window._adcMin,'å½“å‰ä¸­ç«‹ç‚¹:',recvMidAdc,'å½“å‰æ ¡å‡†çŠ¶æ€:',isCalib);
        }
      }
      // if(window._adcMax[4]>3000 && window._adcMin[4]<1000)
      // {
      //   isCalib++;
      // }
      if(isCalib==4)
      {

        console.log('[ADCæ ¡å‡†] å½“å‰æœ€å¤§å€¼:', window._adcMax, 'æœ€å°å€¼:', window._adcMin,'å½“å‰ä¸­ç«‹ç‚¹:',recvMidAdc);
        document.getElementById('calib-action-btn').disabled = false;
        document.getElementById('calib-save-action-btn').disabled = false;
      }



      return true;
    }


    function tryParseMidAdcPacketCalib(buf) {

        var pageCalib = document.getElementById('page-calib');
        if (!pageCalib || pageCalib.style.display === 'none') return false;

        if (!buf || buf.length < 3) return false;
        if (buf[0] !== 0x34) return false;
        const len = buf[1];
        if (buf.length < len + 2) return false;
        const crc = buf[len+1];
        const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
        if (crc !== calcCrc) return false;


        for (let i = 0; i < 4; i++) {
          let off = 2 + i*2;
          let val = buf[off] | (buf[off+1]<<8);
          recvMidAdc[i] = val;
        }

        console.log('[æ ¡å‡†ä¸­å¿ƒç‚¹] è§£æžåˆ°4ä¸ªä¸­ç«‹ç‚¹:', recvMidAdc);


        if (recvMidAdc[0] !== 0) {
          console.log('[æ ¡å‡†ä¸­å¿ƒç‚¹] èŽ·å¾—äº†æ ¡å‡†ä¸­å¿ƒç‚¹');
        }
        return true;
    }

    function linkStats(buf) {

        //console.log('buf',buf);
        //var pageNet = document.getElementById('page-net');
        //if (!pageNet || pageNet.style.display === 'none') return false;
        if (!buf || buf.length < 3) return false;
        if (buf[0] !== 0x67) return false;
        const len = buf[1];
        // if (buf.length < len + 2) return false;
        const crc = buf[len+1];
        const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
        if (crc !== calcCrc) return false; 
        g_linkState.upLinkRssiAnt1          = buf[2];
        g_linkState.upLinkRssiAnt2          = buf[3];           // uint8_t
        g_linkState.upLinkPackageSuccessRate= buf[4];           // uint8_t
        g_linkState.upLinkSNR               = buf[5];
        g_linkState.diversityActiveAntenna  = buf[6];           // uint8_t
        g_linkState.rfMode                  = buf[7];
        g_linkState.upLinkTxPower           = buf[8];
        g_linkState.downLinkRssi            = buf[9];           // uint8_t
        g_linkState.downLinkPackSuccessRate = buf[10];           // uint8_t
        g_linkState.downLinkSNR             = buf[11];           // int8_t
        g_linkState.connectFlag             = buf[12];

        if(g_linkState.connectFlag!=1)
        {
          document.getElementById('refresh-settings-rx').disabled = true;
          updateSignalStrength(0);
        }  
        else if((0xFF - g_linkState.downLinkRssi) <=40 )
        {
          document.getElementById('refresh-settings-rx').disabled = false;
          updateSignalStrength(4);
        }  
        else if((0xFF - g_linkState.downLinkRssi) <=60 )
        {
          document.getElementById('refresh-settings-rx').disabled = false;
          updateSignalStrength(3);
        }  
        else if((0xFF - g_linkState.downLinkRssi) <=80 )
        {
          document.getElementById('refresh-settings-rx').disabled = false;
          updateSignalStrength(2);
        }  
        else if((0xFF - g_linkState.downLinkRssi) <=100)
        {
          document.getElementById('refresh-settings-rx').disabled = false;
          updateSignalStrength(1);
        }  
        //console.log('buf:',buf);

        return true;
    }



    function tryNetError(buf) {

        //console.log('buf',buf);
        //var pageNet = document.getElementById('page-net');
        //if (!pageNet || pageNet.style.display === 'none') return false;
        if (!buf || buf.length < 3) return false;
        if (buf[0] !== 0x45) return false;
        const len = buf[1];
        // if (buf.length < len + 2) return false;
        const crc = buf[len+1];
        const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
        if (crc !== calcCrc) return false;
        if(buf[2]==0)
        {
          console.log('[è¯†åˆ«åˆ°ELRSå›ºä»¶]');
        }
        else if(buf[2]==1)
        {
          alert(LANGS[currentLang]['elrs-missing-alert'] || 'Firmware ELRS não encontrado. Verifique o dispositivo ou reinicie.');
          console.log('[è¯†åˆ«åˆ°æ²¡æœ‰ELRSå›ºä»¶]');
        }
        else
        {
          console.log('buf',buf);
        }
        //console.log('buf:',buf);

        return true;
    }



    window._globalChannelTimer = null;
    window._globalCommandTimer = null;
    window._globalChannelTask = null;


    function clearAllTimers() {
      if (window._globalChannelTimer) {
        clearInterval(window._globalChannelTimer);
        window._globalChannelTimer = null;
      }
      if (window._globalCommandTimer) {
        clearInterval(window._globalCommandTimer);
        window._globalCommandTimer = null;
      }
      window._globalChannelTask = null;
    }


    function startTimers(task) {
      clearAllTimers();
      window._globalChannelTask = task;
      

      if (task && task.channelRequest) {
        window._globalChannelTimer = setInterval(() => {
          if (window._globalChannelTask && window._globalChannelTask.channelRequest) {
            window._globalChannelTask.channelRequest();
          }
        }, 20);
      }
      

      if (task && task.commandRequest) {
        window._globalCommandTimer = setInterval(() => {
          if (window._globalChannelTask && window._globalChannelTask.commandRequest) {
            window._globalChannelTask.commandRequest();
          }
        }, 1000);
      }
    }


    function createConfigTask(configStepRef) {
      return {
        channelRequest: () => {
          if (configStepRef.value === 2) {
            writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
          }
        },
        commandRequest: () => {
          if (configStepRef.value === 0) {
            writer.write(new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A])); // map
          } else if (configStepRef.value === 1) {
            writer.write(new Uint8Array([0xA5,0x55,0x1F,0x0D,0x0A])); // trim/center
          }
        }
      };
    }


    function createCalibTask(calibStepRef, calibStateRef) {
      return {
        channelRequest: () => {
          if (calibStepRef.value === 1 && calibStateRef.value === 'idle') {
            writer.write(new Uint8Array([0xA5,0x55,0x02,0x0D,0x0A]));
          }
        },
        commandRequest: () => {
          if (calibStepRef.value === 0) {
            writer.write(new Uint8Array([0xA5,0x55,0x0D,0,0,0x0D,0x0A])); // map
          }
        }
      };
    }


    function drawCross(canvas, modeMap, isLeft) {
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const center = canvas.width / 2;
      const axisLen = canvas.width / 2 - 40;
      const arrowSize = 16;
      ctx.save();
      ctx.lineWidth = 2.2;
      ctx.strokeStyle = 'blue';

      ctx.beginPath();
      ctx.moveTo(center, center - axisLen);
      ctx.lineTo(center, center + axisLen);
      ctx.moveTo(center - axisLen, center);
      ctx.lineTo(center + axisLen, center);
      ctx.stroke();

      function drawArrow(x, y, dx, dy) {
        ctx.save();
        ctx.strokeStyle = 'red';
        ctx.lineWidth = 2.2;
        ctx.beginPath();
        if (dx === 0 && dy === -1) {
          ctx.moveTo(x, y - arrowSize);
          ctx.lineTo(x - arrowSize * 0.6, y + arrowSize * 0.7);
          ctx.lineTo(x + arrowSize * 0.6, y + arrowSize * 0.7);
          ctx.closePath();
        } else if (dx === 0 && dy === 1) {
          ctx.moveTo(x, y + arrowSize);
          ctx.lineTo(x - arrowSize * 0.6, y - arrowSize * 0.7);
          ctx.lineTo(x + arrowSize * 0.6, y - arrowSize * 0.7);
          ctx.closePath();
        } else if (dx === -1 && dy === 0) {
          ctx.moveTo(x - arrowSize, y);
          ctx.lineTo(x + arrowSize * 0.7, y - arrowSize * 0.6);
          ctx.lineTo(x + arrowSize * 0.7, y + arrowSize * 0.6);
          ctx.closePath();
        } else if (dx === 1 && dy === 0) {
          ctx.moveTo(x + arrowSize, y);
          ctx.lineTo(x - arrowSize * 0.7, y - arrowSize * 0.6);
          ctx.lineTo(x - arrowSize * 0.7, y + arrowSize * 0.6);
          ctx.closePath();
        }
        ctx.stroke();
        ctx.restore();
      }

      drawArrow(center, center - axisLen, 0, -1);
      drawArrow(center, center + axisLen, 0, 1);
      drawArrow(center - axisLen, center, -1, 0);
      drawArrow(center + axisLen, center, 1, 0);

      ctx.save();
      ctx.font = 'bold 22px Arial';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.lineWidth = 4;

      ctx.shadowColor = 'rgba(255,255,255,0.8)';
      ctx.shadowBlur = 4;


      if (isLeft) {

        ctx.fillStyle = 'black';
        ctx.fillText(modeMap[0], center - 20, center - axisLen / 2);
        ctx.fillText(modeMap[0], center - 20, center + axisLen / 2);
        ctx.fillText(modeMap[1], center - axisLen / 2, center - 20);
        ctx.fillText(modeMap[1], center + axisLen / 2, center - 20);
      } else {

        ctx.fillStyle = 'black';
        ctx.fillText(modeMap[2], center - 20, center - axisLen / 2);
        ctx.fillText(modeMap[2], center - 20, center + axisLen / 2);
        ctx.fillText(modeMap[3], center - axisLen / 2, center - 20);
        ctx.fillText(modeMap[3], center + axisLen / 2, center - 20);
      }
      ctx.restore();
    }


    function drawJoystick(canvas, x, y) {
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width;
  const h = canvas.height;
  ctx.clearRect(0, 0, w, h);
  ctx.fillStyle = '#f4f6fb';
  ctx.fillRect(0, 0, w, h);


  const margin = w * 0.04;
  const maxRadius = w / 2 - margin;


  const centerCircleRadius = w * 0.025; // 2.5%
  const pointerRadius = w * 0.025;      // 2.5%


  ctx.save();
  ctx.setLineDash([w * 0.012, w * 0.01]);
  ctx.strokeStyle = '#bbb';
  ctx.lineWidth = w * 0.002;
  ctx.beginPath();
  ctx.moveTo(w/2, 0); ctx.lineTo(w/2, h);
  ctx.moveTo(0, h/2); ctx.lineTo(w, h/2);
  ctx.stroke();
  ctx.restore();


  ctx.beginPath();
  ctx.arc(w/2, h/2, centerCircleRadius, 0, 2 * Math.PI);
  ctx.fillStyle = '#e74c3c';
  ctx.shadowColor = '#e74c3c';
  ctx.shadowBlur = w * 0.01;
  ctx.fill();
  ctx.shadowBlur = 0;


  let bx = w/2 + (x||0) * maxRadius / 100;
  let by = h/2 - (y||0) * maxRadius / 100;


  ctx.save();
  ctx.strokeStyle = '#3358e0';
  ctx.lineWidth = w * 0.008;
  ctx.beginPath();
  ctx.moveTo(w/2, h/2);
  ctx.lineTo(bx, by);
  ctx.stroke();
  ctx.restore();


  ctx.beginPath();
  ctx.arc(bx, by, pointerRadius, 0, 2 * Math.PI);
  ctx.fillStyle = '#111';
  ctx.shadowColor = '#111';
  ctx.shadowBlur = w * 0.01;
  ctx.fill();
  ctx.shadowBlur = 0;
}
    window.drawJoystick = drawJoystick;


    function wifiToggleBtn(){
      setTimeout(function() {
      const wifiBtn = document.getElementById('wifi-toggle-btn');
      wifiBtn.style.display = 'none';
      if (wifiBtn) {
        let wifiEnabled = false;
        let dialog = null;
        let inner = null;
        let closeBtn = null;
        let msg = null;
        function showWifiDialog(isEnabling) {
          dialog = document.createElement('div');
          dialog.style.position = 'fixed';
          dialog.style.left = '0';
          dialog.style.top = '0';
          dialog.style.width = '100vw';
          dialog.style.height = '100vh';
          dialog.style.background = 'rgba(0,0,0,0.18)';
          dialog.style.display = 'flex';
          dialog.style.alignItems = 'center';
          dialog.style.justifyContent = 'center';
          dialog.style.zIndex = '9999';
          inner = document.createElement('div');
          inner.style.background = '#fff';
          inner.style.borderRadius = '16px';
          inner.style.boxShadow = '0 4px 24px rgba(79,140,255,0.18)';
          inner.style.padding = '38px 48px 32px 48px';
          inner.style.display = 'flex';
          inner.style.flexDirection = 'column';
          inner.style.alignItems = 'center';
          inner.style.minWidth = '260px';
          inner.style.maxWidth = '90vw';
          inner.innerHTML = `<div style="font-size:1.18em;color:#3358e0;font-weight:bold;margin-bottom:18px;">WiFi${isEnabling ? 'Abrir' : 'Fechar'}</div>`;
          msg = document.createElement('div');
          msg.style.fontSize = '1.08em';
          msg.style.color = '#222';
          msg.style.marginBottom = '18px';
          msg.textContent = isEnabling ? 'Abrindo WiFi...' : 'Fechando WiFi...';
          inner.appendChild(msg);
          closeBtn = document.createElement('button');
          closeBtn.textContent = isEnabling ? 'Fechar WiFi' : 'Fechar janela';
          closeBtn.style.marginTop = '12px';
          closeBtn.style.background = isEnabling ? 'linear-gradient(90deg,#e74c3c 0%,#c0392b 100%)' : 'linear-gradient(90deg,#4f8cff 0%,#3358e0 100%)';
          closeBtn.style.color = '#fff';
          closeBtn.style.border = 'none';
          closeBtn.style.borderRadius = '8px';
          closeBtn.style.padding = '10px 32px';
          closeBtn.style.fontSize = '1.08em';
          closeBtn.style.fontWeight = 'bold';
          closeBtn.style.cursor = 'pointer';
          closeBtn.onclick = () => {
            if (isEnabling) {

              if (writer) writer.write(new Uint8Array([0xA5,0x66,0x06,0x0D,0x0A]));
              wifiEnabled = false;
              wifiBtn.textContent = 'Abrir WiFi';
              document.body.removeChild(dialog);
            } else {
              document.body.removeChild(dialog);
            }
          };
          inner.appendChild(closeBtn);
          document.body.appendChild(dialog);
          dialog.appendChild(inner);
        }
        wifiBtn.onclick = () => {
          if (!wifiEnabled) {

            if (writer) writer.write(new Uint8Array([0xA5,0x66,0x05,0x0D,0x0A]));
            wifiEnabled = true;
            wifiBtn.textContent = 'Fechar WiFi';
            showWifiDialog(true);
          } else {

            if (writer) writer.write(new Uint8Array([0xA5,0x66,0x06,0x0D,0x0A]));
            wifiEnabled = false;
            wifiBtn.textContent = 'Abrir WiFi';
            showWifiDialog(false);
          }
        };
      }
    }, 0);
    }


    function tryParseTrimPacket(buf) {
      if (!buf || buf.length < 3) return false;
      if (buf[0] !== 0x55) return false;
      const len = buf[1];
      if (buf.length < len + 2) return false;
      const crc = buf[len+1];
      const calcCrc = crc8tab_js(buf.slice(2, 2+len-1), len-1);
      if (crc !== calcCrc) return false;
      if(buf[10] !== 0x01)
      {
        console.log('å¼‚å¸¸æ•°æ®å…¨ä¸º0');
        return false;
      } 






      //     ];


      let trim = [];
      for (let i = 0; i < 4; i++) {
        let off = 2 + i*2;
        trim[i] = buf[off] | (buf[off+1]<<8);

        if (trim[i] & 0x8000) trim[i] = trim[i] - 0x10000;
      }

      let adcMap = window.channelMap && window.channelMap.channelMapSend ? window.channelMap.channelMapSend : [0,1,2,3];

      for (let i = 0; i < 4; i++) {
        
        let uiIdx = i;//adcMap[i];

        const trimValSpan = document.getElementById(`trim-val-${uiIdx}`);
        if (trimValSpan) trimValSpan.textContent = trim[i];
        const trimDot = document.getElementById(`trim-dot-${uiIdx}`);
        const trimBar = document.getElementById(`trim-bar-${uiIdx}`);
        if (trimBar && trimDot) {
          let percent = (trim[i] + 130) / 260;
          let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth) + 1;
          trimDot.style.left = left + 'px';
        }


        const sliderMap = {
          2: 'calib-slider-lv',
          3: 'calib-slider-lh',
          0: 'calib-slider-rh',
          1: 'calib-slider-rv'
        };
        
        const sliderId = sliderMap[i];
        if (sliderId) {
          const slider = document.getElementById(sliderId);
          if (slider) {
            slider.value = trim[i];
          }
          

          const valSpan = document.getElementById(`val-${sliderId}`);
          if (valSpan) {
            valSpan.textContent = trim[i];
          }
        }

        // const { barId, valId, dir } = trimElements[i];    

        // const valElement = document.getElementById(valId);
        // if (valElement) {
        //   valElement.textContent = (trim[i] + 130) / 260;
        // }
        

        // const barFill = document.getElementById(barId);
        // let left = percent * (trimBar.offsetWidth - trimDot.offsetWidth) + 1;
        // if (barFill) {
        //   barFill.style.left =  left + 'px';
        // }
      }






      // window.channelMap.channelMidRecv = channelMidRecv;
      // window.channelMap.channelMidSend = channelMidSend;
      

      if (!window.channelMap) {
        window.channelMap = {
          channelTrimSend: [0,0,0,0],
          channelTrimRecv: [0,0,0,0]
        };
      }
      
      window.channelMap.channelTrimSend = trim;
      window.channelMap.channelTrimRecv = trim;


      console.log('[TRIMåŒ…] è§£æžåˆ°4ä¸ªtrim:', trim, 'æ˜ å°„é¡ºåº:', adcMap);
      return true;
    }

    function sendCenterCommand(centerArr) {

      let data = new Uint8Array(3+8+2);
      data[0] = 0xA5;
      data[1] = 0x55;
      data[2] = 0x1A;
      

      if (!window.channelMap) {
        window.channelMap = {
          channelMidSend: [0,0,0,0]
        };
      }
      
      for (let i = 0; i < 4; i++) {
        let val = Math.round(centerArr[i] * 512 / 100);
        if (window.channelMap.channelMidSend) {
          window.channelMap.channelMidSend[i] = val;
        }
        data[3+i*2] = val & 0xFF;
        data[3+i*2+1] = (val >> 8) & 0xFF;
      }

      //for (let i = 11; i < 11+4; i++) data[i] = 0;
      data[11] = 0x0D;
      data[12] = 0x0A;
      writer.write(data);
      console.log('[ä¸­ç«‹ç‚¹æŒ‡ä»¤] å·²å‘é€:', Array.from(data).map(x=>x.toString(16).padStart(2,'0')).join(' '));
    }


    const LANGS = {
      zh: {},
      en: {
        'update': 'Firmware Update',
        'confirm_update': 'Confirm Update',
        'select_file': 'Please select firmware file!',
        'connect_serial': 'Please connect serial port first!',
        'transferring': 'Transferring, please wait...',
        'transfer_done': 'Firmware transfer completed!',
        'transfer_fail': 'Transfer failed: ',
        'attr-title': 'Device Information',
        'connect-title': 'COM  Connection',
        'connect-port': 'COM Port',
        'connect-baudrate': 'Baud Rate',
        'connect-btn': 'Connect',
        'connect-status': 'Disconnected',
        'new-device-detected': 'New device detected, please click Connect',
        'update-progress': 'Update Progress',
        'drag-fw-file': 'Drag firmware file here',
        'or': 'Or',
        'fw-remote': 'T8L Controller',
        'fw-transmitter': 'Internal ELRS Module',
        'fw-sensor': 'Sensor',
        'factory-reset': 'Factory Reset',
        'exit-fw-update': 'Exit Firmware Update',
        'keymode-title': 'Key Mode Setting',
        'keymode-single': 'Single',
        'keymode-double': 'Double',
        'keymode-trigger': 'Click',
        'keymode-triple': '3-POS',
        'keymode-doubleStatus': '2-POS',
        'keymode-toggle': 'Toggle',
        'query-device-attr': 'Query Device Setting',
        'query-device-attr-loading': 'Querying...',
        'no-device-info': 'No device information.',
        'connect-port-desc': 'Please connect serial port first!',
        'wifi-open': 'WiFi Open',  
        'wifi-close': 'WiFi Close',
        'wifi-open-desc': 'WiFi Open Success',
        'wifi-close-desc': 'WiFi Close Success',
        'wifi-open-fail': 'WiFi Open Fail',
        'volume': 'Volume',
        'serial-number': 'Serial Number',
        'elrs-firmware-version': 'ExpressLRS Firmware Version',
        'device-firmware-version': 'Device Firmware Version',
        'elrs-name': 'Radio Control',
        'company-name': 'Vendor',
        'device-name': 'Device',
        'send-pack-speed': 'Send Pack Speed',
        'return-speed': 'Return Speed',
        'calibration-flag': 'Calibration Flag',
        'connect-protocol': 'Connect Protocol',
        'channel-num': 'Channel Number',
        'secret-key': 'Secret Key',
        'power': 'Power',
        'remote-type': 'Remote Type',
        'mixed-ctl': 'Mixed Control',
        'remote-param': 'Remote Parameter',
        'comm-uart': 'UART',
        'attr-dev': 'Device',
        'config-channel': 'Channels',
        'net-config': 'RF Settings',
        'dev-cailation': 'Calibration',
        'frieware-updata': 'Firmware Update',
        'channel-monitor': 'Channel Monitor',
        'channel-attr': 'Channel Settings',
        'channel-map': 'Channel Mapping',
        'trim-center': 'Trim and Sub Trim',
        'mode': 'Mode',
        'channel-map-relation': 'Channel Mapping Relation',
        'channel-map-confirm-label': 'If the remote control does not respond, click "Save" again to write',
        'channel-attr-negative-travel': 'Negative Travel',
        'channel-attr-positive-travel': 'Positive Travel',
        'trim-center-title': 'Trim',
        'trim-center-center-title': 'Sub Trim',
        'mode-title': 'Mode',
        'config-dev': 'Channels',
        'channel-attr-confirm-btn': 'Save',
        'channel-attr-restore-btn': 'Restore',
        'channel-map-confirm-btn': 'Save',
        'channel-map-restore-btn': 'Restore',
        'net-lua-config': 'LUA Config',
        'settings-status-label-Text': 'Please do not click quickly in succession, which will cause data transmission exceptions and buffer exceptions.',
        'settings-rxLua-label-Text': 'For 50Hz and 150Hz modes it is recommended to change tele ratio to 1:2 while configuring the RX.',
        'net-refresh-tx': 'Refresh TX',
        'net-refresh-rx': 'Refresh RX',
        'net-recv-hex': 'Hex Display',
        'mode-left-stick': 'Left',//'Left Stick',
        'mode-right-stick': 'Right',//'Right Stick',
        'channel-attr-confirm-label': 'After modification, click "Save" to write',
        'trim-center-clear': 'Clear',
        'comm-send-text': 'Text Send',
        'comm-send-hex': 'Hex Send',
        'comm-send-input': 'Input the data to send',
        'comm-send-btn': 'Send',
        'comm-clear-output': 'Clear',
        'refresh-getting': 'Getting Settings...',
        'refresh-done': 'Refresh Done',
        'refresh-timeout': 'Timeout',
        'calib-title': 'Calibration',
        'calib-joystick-label-left': 'Left Joystick',
        'calib-joystick-label-right': 'Right Joystick',
        'calib-step-label': 'Click "Start Calibration" button to perform calibration operation',
        'calib-action': 'Start Calibration',
        'calib-save-action': 'Save Calibration',
        'calib-reset-action': 'Reset Calibration',
        'calib-center-point': 'Calibration Center Point',
        'calib-step-label-center-point': 'Please place the joystick at the center point, then click the "Select Center Point" button',
        'calib-done': 'Calibration Done',
        'calib-step-label-done': 'After hearing a "beep", move the joystick and knob to their extreme positions (maximum and minimum). Please stay at the corner positions for at least 0.5 to 1 second. Once calibration is completed, click the "Calibration Complete" button.',
        'fw-change-title': 'Select Firmware Update',
        'fw-device-type': 'Device Type:',
        'fw-file-input': 'Please select firmware file!',
        'fw-file-name': 'Firmware File Name:',
        'fw-transmitting': 'Transmitting, please wait...',
        'fw-select-file': 'Please select firmware file!',
        'fw-connect-port': 'Please connect serial port first!',
        'fw-ready-update': 'Device is ready, you can start firmware update',
        'fw-ready-update-text': 'To exit the update, please power off and then power on again, refresh the webpage and click the "Exit Firmware Update" button on the home page.',
        'fw-wait-ready': 'Please wait for the device to be ready...',
        'fw-update-btn': 'Confirm Update',
        'fw-update-progress': 'Update Progress',
        'connecting': 'Connecting...',
        'connect-failed': 'Connection failed: ',
        'browser-not-support': 'Browser not support this function, please select Chrome/Edge etc. Google core browser',
        'confirm-update': 'Are you sure you want to continue? Once started, you will not be able to perform any other actions, and any connected receiver will be disconnected. Do not unplug or disconnect the radio during the update process.',//'Are you sure to enter the firmware update state? After entering, you cannot perform other operations, and you need to exit the update to restore.',
        'confirm-center-point': 'Confirm Center Point',
        'comm-disconnect-btn': 'Disconnect',
        'recv-hex-checked': 'Hex Display',
        'calib-start-step-label': 'Click "Start Calibration" button to perform calibration operation',
        'calib-save': 'Save Calibration',
        'calib-reset': 'Reset Calibration',
        'calib-done': 'Calibration Done',
        'calib-step-label-center-point': 'Please place the joystick at the center point, then click the "Select Center Point" button',
        'calib-center-point': 'Calibration Center Point',
        'calib-start': 'Start Calibration',
        "comm-output-title": "Output",
        "fw-enter-update": "Start Firmware Update",
        "start": "Start",
        "fw-file-selected": "File Selected: ",
        "fw-file-size": "Size: ",
        "fw-file-bytes": "Bytes",
        "execute": "Execute",
        'command-running': 'Running...',
        'command-end': 'End',
        'channel-map-default-output': 'Default',
        'channel-map-channel-input': 'Input',
        'factory-reset-confirm': 'Are you sure you want to restore the factory settings? This will initialize all configurations and calibrations!!! This operation should not be ignored!',
        'Sub-trim-title':'Sub Trim',
        'factory-reset-success':"The factory reset instruction has been sent",
        'slide_mid':'S1 Mid tone',
        'elrs-missing-alert': 'ELRS firmware not detected. Please check the device or restart.',
        'jump-to-elrs-website': 'Jump to ELRS website for firmware update',
        'update-esp-firmware': 'Update ESP firmware with local App',
        'jump-to-elrs-website-desc': 'ESP firmware update mode has been enabled, clicking confirm will disconnect the connection, and directly open the ESPTool tool provided by RadioMaster to select USB update.',
        'select-firmware-update-method': 'Please select the firmware update method you want to use:',
        'select-firmware-update-method-desc': 'Select firmware update method',
        'cancel': 'Cancel',
        'progressStatus-label-Text':'LUA Config Update',
        'progressStatus-Text':'Processing progress: ',
        'serial-warning-test':'Receiver loss warning',
        'lowpower-warning-test':'Low power warning',
        'channel-confirm':'Save',
        'send-success':'Sent',
        'trim-left-reset-test':'Trim left reset function',
        'trim-right-reset-test':'Trim right reset function',
        'serial-not-found': 'No available serial port device found. If the device is just inserted, please wait a few seconds and try again.',
        'serial-access-failed': 'Serial port access failed: ',
        'serial-permission-denied': 'User has denied serial port access permission, or the browser environment does not support serial port access.',
        "baud-btn": "Manual Baud Rate",
        "baud-enter-btn": "Confirm",
        'bauding':"Switching...",
        'enter-passthrough': 'Enter Passthrough',
        'exit-passthrough': 'Exit Passthrough',
        'open-wifi': 'Open WiFi',
        'close-wifi': 'Close WiFi',
        'update-over' : 'Update complete',

        // ... you can continue ...
      }
    };

        const PT_BR = {
      'update': 'Atualizacao de Firmware',
      'confirm_update': 'Confirmar Atualizacao',
      'select_file': 'Selecione o arquivo de firmware!',
      'connect_serial': 'Conecte a porta serial primeiro!',
      'transferring': 'Transferindo, aguarde...',
      'transfer_done': 'Transferencia de firmware concluida!',
      'transfer_fail': 'Falha na transferencia: ',
      'attr-title': 'Informacoes do Dispositivo',
      'connect-title': 'Conexao Serial',
      'connect-port': 'Porta Serial',
      'connect-baudrate': 'Taxa de Baud',
      'connect-btn': 'Conectar',
      'connect-status': 'Desconectado',
      'new-device-detected': 'Novo dispositivo detectado, clique em Conectar',
      'update-progress': 'Progresso da Atualizacao',
      'drag-fw-file': 'Arraste o arquivo de firmware aqui',
      'or': 'Ou',
      'fw-remote': 'Controle T8L',
      'fw-transmitter': 'Modulo ELRS Interno',
      'fw-sensor': 'Sensor',
      'factory-reset': 'Restaurar Padrao de Fabrica',
      'exit-fw-update': 'Sair da Atualizacao de Firmware',
      'keymode-title': 'Configuracao do Modo de Tecla',
      'keymode-single': 'Simples',
      'keymode-double': 'Duplo',
      'keymode-trigger': 'Clique',
      'keymode-triple': '3 Posicoes',
      'keymode-doubleStatus': '2 Posicoes',
      'keymode-toggle': 'Alternar',
      'query-device-attr': 'Consultar Configuracao do Dispositivo',
      'query-device-attr-loading': 'Consultando...',
      'no-device-info': 'Sem informacoes do dispositivo.',
      'connect-port-desc': 'Conecte a porta serial primeiro!',
      'wifi-open': 'Abrir WiFi',
      'wifi-close': 'Fechar WiFi',
      'wifi-open-desc': 'WiFi ativado com sucesso',
      'wifi-close-desc': 'WiFi desativado com sucesso',
      'wifi-open-fail': 'Falha ao ativar o WiFi',
      'volume': 'Volume',
      'serial-number': 'Numero de Serie',
      'elrs-firmware-version': 'Versao do Firmware ExpressLRS',
      'device-firmware-version': 'Versao do Firmware do Dispositivo',
      'elrs-name': 'Controle de Radio',
      'company-name': 'Fornecedor',
      'device-name': 'Dispositivo',
      'send-pack-speed': 'Velocidade de Envio de Pacotes',
      'return-speed': 'Velocidade de Retorno',
      'calibration-flag': 'Indicador de Calibracao',
      'connect-protocol': 'Protocolo de Conexao',
      'channel-num': 'Numero de Canais',
      'secret-key': 'Chave Secreta',
      'power': 'Potencia',
      'remote-type': 'Tipo de Controle',
      'mixed-ctl': 'Controle Misto',
      'remote-param': 'Parametro do Controle',
      'comm-uart': 'UART',
      'attr-dev': 'Dispositivo',
      'config-channel': 'Canais',
      'net-config': 'Configuracoes RF',
      'dev-cailation': 'Calibracao',
      'frieware-updata': 'Atualizacao de Firmware',
      'channel-monitor': 'Monitor de Canais',
      'channel-attr': 'Configuracoes de Canal',
      'channel-map': 'Mapeamento de Canais',
      'trim-center': 'Trim e Sub Trim',
      'mode': 'Modo',
      'channel-map-relation': 'Relacao de Mapeamento de Canais',
      'channel-map-confirm-label': 'Se o controle nao responder, clique em "Salvar" novamente para gravar',
      'channel-attr-negative-travel': 'Curso Negativo',
      'channel-attr-positive-travel': 'Curso Positivo',
      'trim-center-title': 'Trim',
      'trim-center-center-title': 'Sub Trim',
      'mode-title': 'Modo',
      'config-dev': 'Canais',
      'channel-attr-confirm-btn': 'Salvar',
      'channel-attr-restore-btn': 'Restaurar',
      'channel-map-confirm-btn': 'Salvar',
      'channel-map-restore-btn': 'Restaurar',
      'net-lua-config': 'Configuracao LUA',
      'settings-status-label-Text': 'Evite clicar repetidamente em sequencia para nao causar falhas de transmissao e buffer.',
      'settings-rxLua-label-Text': 'Nos modos 50Hz e 150Hz, recomenda-se ajustar a proporcao para 1:2 ao configurar o RX.',
      'net-refresh-tx': 'Atualizar TX',
      'net-refresh-rx': 'Atualizar RX',
      'net-recv-hex': 'Exibir em Hex',
      'mode-left-stick': 'Esquerdo',
      'mode-right-stick': 'Direito',
      'channel-attr-confirm-label': 'Apos modificar, clique em "Salvar" para gravar',
      'trim-center-clear': 'Limpar',
      'comm-send-text': 'Enviar Texto',
      'comm-send-hex': 'Enviar Hex',
      'comm-send-input': 'Digite os dados para envio',
      'comm-send-btn': 'Enviar',
      'comm-clear-output': 'Limpar',
      'refresh-getting': 'Obtendo configuracoes...',
      'refresh-done': 'Atualizacao concluida',
      'refresh-timeout': 'Tempo esgotado',
      'calib-title': 'Calibracao',
      'calib-joystick-label-left': 'Joystick Esquerdo',
      'calib-joystick-label-right': 'Joystick Direito',
      'calib-step-label': 'Clique em "Iniciar Calibracao" para executar a calibracao',
      'calib-action': 'Iniciar Calibracao',
      'calib-save-action': 'Salvar Calibracao',
      'calib-reset-action': 'Redefinir Calibracao',
      'calib-center-point': 'Ponto Central da Calibracao',
      'calib-step-label-center-point': 'Posicione o joystick no centro e clique em "Confirmar Ponto Central"',
      'calib-done': 'Calibracao Concluida',
      'calib-step-label-done': 'Apos ouvir um bip, mova joystick e knobs aos extremos e depois clique em "Calibracao Concluida".',
      'fw-change-title': 'Selecionar Atualizacao de Firmware',
      'fw-device-type': 'Tipo de Dispositivo:',
      'fw-file-input': 'Selecione o arquivo de firmware!',
      'fw-file-name': 'Nome do Arquivo de Firmware:',
      'fw-transmitting': 'Transmitindo, aguarde...',
      'fw-select-file': 'Selecione o arquivo de firmware!',
      'fw-connect-port': 'Conecte a porta serial primeiro!',
      'fw-ready-update': 'O dispositivo esta pronto, voce pode iniciar a atualizacao',
      'fw-ready-update-text': 'Para sair da atualizacao, desligue e ligue novamente, atualize a pagina e clique em "Sair da Atualizacao de Firmware".',
      'fw-wait-ready': 'Aguardando o dispositivo ficar pronto...',
      'fw-update-btn': 'Confirmar Atualizacao',
      'fw-update-progress': 'Progresso da Atualizacao',
      'connecting': 'Conectando...',
      'connect-failed': 'Falha na conexao: ',
      'browser-not-support': 'Navegador nao suporta esta funcao. Use Chrome/Edge ou outro navegador baseado em Chromium.',
      'confirm-update': 'Tem certeza de que deseja continuar? Durante a atualizacao, outras acoes serao bloqueadas e receptores conectados serao desconectados.',
      'confirm-center-point': 'Confirmar Ponto Central',
      'comm-disconnect-btn': 'Desconectar',
      'recv-hex-checked': 'Exibir conteudo recebido em Hex',
      'calib-start-step-label': 'Clique em "Iniciar Calibracao" para executar a calibracao',
      'calib-save': 'Salvar Calibracao',
      'calib-reset': 'Redefinir Calibracao',
      'calib-start': 'Iniciar Calibracao',
      'comm-output-title': 'Saida',
      'fw-enter-update': 'Iniciar Atualizacao de Firmware',
      'start': 'Iniciar',
      'fw-file-selected': 'Arquivo selecionado: ',
      'fw-file-size': 'Tamanho: ',
      'fw-file-bytes': 'Bytes',
      'execute': 'Executar',
      'command-running': 'Executando...',
      'command-end': 'Fim',
      'channel-map-default-output': 'Padrao',
      'channel-map-channel-input': 'Entrada',
      'factory-reset-confirm': 'Tem certeza de que deseja restaurar para o padrao de fabrica? Todas as configuracoes e calibracoes serao reiniciadas.',
      'Sub-trim-title': 'Sub Trim',
      'factory-reset-success': 'Comando de restauracao de fabrica enviado',
      'slide_mid': 'Tom medio S1',
      'elrs-missing-alert': 'Firmware ELRS nao detectado. Verifique o dispositivo ou reinicie.',
      'jump-to-elrs-website': 'Ir para o site ELRS para atualizar firmware',
      'update-esp-firmware': 'Atualizar firmware ESP com o App local',
      'jump-to-elrs-website-desc': 'O modo de atualizacao ESP foi ativado. Ao confirmar, a conexao sera encerrada e o ESPTool da RadioMaster sera aberto para atualizacao via USB.',
      'select-firmware-update-method': 'Selecione o metodo de atualizacao de firmware:',
      'select-firmware-update-method-desc': 'Selecionar metodo de atualizacao',
      'cancel': 'Cancelar',
      'progressStatus-label-Text': 'Atualizacao de Configuracao LUA',
      'progressStatus-Text': 'Progresso do processamento: ',
      'serial-warning-test': 'Aviso de perda do receptor',
      'lowpower-warning-test': 'Aviso de bateria fraca',
      'channel-confirm': 'Salvar',
      'send-success': 'Enviado',
      'trim-left-reset-test': 'Funcao de reset do trim esquerdo',
      'trim-right-reset-test': 'Funcao de reset do trim direito',
      'serial-not-found': 'Nenhum dispositivo de porta serial disponivel foi encontrado. Se acabou de conectar, aguarde alguns segundos e tente novamente.',
      'serial-access-failed': 'Falha no acesso a porta serial: ',
      'serial-permission-denied': 'O usuario negou permissao de acesso a porta serial, ou o navegador nao oferece suporte.',
      'baud-btn': 'Baud Rate Manual',
      'baud-enter-btn': 'Confirmar',
      'bauding': 'Alternando...',
      'enter-passthrough': 'Entrar em Passthrough',
      'exit-passthrough': 'Sair de Passthrough',
      'open-wifi': 'Abrir WiFi',
      'close-wifi': 'Fechar WiFi',
      'update-over': 'Atualizacao concluida'
    };

    LANGS.zh = { ...LANGS.en, ...PT_BR };


    function getLang() {

        // if (currentLang === 'auto') {
        //   const nav = navigator.language || navigator.userLanguage;
        //   return nav.startsWith('zh') ? 'zh' : 'en';
        // }
      return currentLang;
    }
    function setLang(lang) {
      currentLang = lang;
      //localStorage.setItem('lang', lang);
      updateLangUI();
      updateAllLangText();
    }
    function updateLangUI() {
      const btn = document.getElementById('lang-switcher');
      if (!btn) return;
      let txt = 'LANG ';
      //let txt = '';
      //if (currentLang === 'auto') txt += 'Auto';
      //else 
      if (currentLang === 'en') txt += 'EN';
      else txt += 'PT';
      btn.textContent = txt;
    }


    document.getElementById('lang-switcher').onclick = function() {
      //if (currentLang === 'auto') setLang('zh');
      //else if (currentLang === 'zh') setLang('en');
      //else setLang('auto');
      if (currentLang === 'zh') setLang('en');
      else setLang('zh');

      updateAllLangText();
      //autoTranslateAllText();
      //showMainPage("attr");
    };


    function updateAllLangText() {
      const lang = getLang();
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');

        if (LANGS[lang] && LANGS[lang][key]) {
          el.textContent = LANGS[lang][key];
        }
      });
    }



    updateLangUI();
    updateAllLangText();

    // fwStatus.textContent = LANGS[getLang()]['select_file'];

    // <button data-i18n="confirm_update"></button>
    // <div data-i18n="update"></div>
    // ...



    window.deviceStats = {
      devConnectStats: 0,
      bindConnect: 0,
      txLinkSnr: 0,
      rxLinkSnr: 0,
      rxbatteryVoltage: 0,
      rxbatteryCurrent: 0,
      txbatteryVoltage: 0,
      txBattery: 0
    };


    function updateBatteryIndicator() {
      const el = document.getElementById('battery-indicator');
      if (!el) return;
      if (typeof window.deviceStats.txBattery === 'number') {
        el.textContent = window.deviceStats.txBattery + '%';
      } else {
        el.textContent = '--%';
      }
    }


    let globalStatusTimer = null;
    function startGlobalStatusTimer() {
      if (globalStatusTimer) clearInterval(globalStatusTimer);
      globalStatusTimer = setInterval(() => {

        if (typeof window.currentPage === 'function' ? window.currentPage() : window.currentPage) {
          const page = typeof window.currentPage === 'function' ? window.currentPage() : window.currentPage;
          if (page === 'fw') return;
        }

        if (window._currentPage != 'net' && window._currentPage != 'fw' &&  window._currentPage != 'calib' &&writer ) {
          writer.write(new Uint8Array([0xA5,0x55,0x01,0x0D,0x0A]));

        }
      }, 2000);
    }
    startGlobalStatusTimer();


    function parseDeviceStats(buf) {
      if (!buf || buf.length < 15) return 0;
      if (buf[0] !== 0x11) return 0;
      const len = buf[1];

      let tmp = crc8(buf.slice(2, 2+len-1));
      //console.log('parseDeviceStats Running', buf);
      //if (buf[len+1] !== tmp) return 0;

      //console.log('parseDeviceStats Running', buf);
      window.deviceStats.devConnectStats = 5;
      window.deviceStats.bindConnect = buf[2];
      window.deviceStats.txLinkSnr = buf[3];
      window.deviceStats.rxLinkSnr = buf[4];
      window.deviceStats.rxbatteryVoltage = (buf[5] | (buf[6]<<8));
      window.deviceStats.rxbatteryCurrent = (buf[7] | (buf[8]<<8));

      window.deviceStats.txbatteryVoltage = (buf[10] | (buf[11]<<8));
      window.deviceStats.txBattery = buf[12];
      window._batteryPercent = buf[12];

      updateDeviceInfoBar();
    }


    function crc8(arr) {
      let crc = 0;
      for (let i = 0; i < arr.length; i++) {
        crc ^= arr[i];
        for (let j = 0; j < 8; j++) {
          if (crc & 0x80) crc = (crc << 1) ^ 0x07;
          else crc <<= 1;
        }
        crc &= 0xFF;
      }
      return crc;
    }



    // if (serialBuffer[0] === 0x11) parseDeviceStats(serialBuffer);

// <div id="signalContainer" class="signal-container state-disconnected">
//   <div class="signal-bar bar-1"></div>
//   <div class="signal-bar bar-2"></div>
//   <div class="signal-bar bar-3"></div>
//   <div class="signal-bar bar-4"></div>
  
//   <div class="cross cross-1"></div>
//   <div class="cross cross-2"></div>
// </div>






/**


 */
function updateSignalStrength(state) {
  const container = document.getElementById('signalContainer');
  if (!container) return;
  

  container.classList.remove(
    'state-disconnected',
    'state-signal-1',
    'state-signal-2',
    'state-signal-3',
    'state-signal-4'
  );
  

  const validState = Math.min(Math.max(0, Math.floor(state || 0)), 4);
  

  if (validState === 0) {
    container.classList.add('state-disconnected');
  } else {
    container.classList.add(`state-signal-${validState}`);
  }
}












function timerTask() {

  if (stopTimerFlag) {
    console.log("å®šæ—¶å™¨ä»»åŠ¡ï¼šæ£€æµ‹åˆ°å¤–éƒ¨æ ‡å¿—ä½æ‹‰é«˜ï¼Œç«‹åˆ»åœæ­¢ä»»åŠ¡");
    stopTimer();
    return;
  }


  console.log("å®šæ—¶å™¨ä»»åŠ¡æ‰§è¡Œï¼šæ¯2ç§’è§¦å‘ä¸€æ¬¡ï¼ˆå½“å‰æ—¶é—´ï¼š" + new Date().toLocaleTimeString() + "ï¼‰");
  


  // setTimeout(() => {


  // }, 500);
  // --------------------------
}

function linkSacn()
{
  writer.write(new Uint8Array([0xA5,0x55,0x26,0x0D,0x0A])); 
}


window._appInitialized = true;
console.log('RadioMaster Web App initialized successfully');


window.addEventListener('load', function() {
  console.log('é¡µé¢å®Œå…¨åŠ è½½å®Œæˆ');
  

  setTimeout(function() {
    if (window._appInitialized) {
      console.log('âœ… åº”ç”¨åˆå§‹åŒ–éªŒè¯é€šè¿‡');
    } else {
      console.warn('âš ï¸ åº”ç”¨åˆå§‹åŒ–å¯èƒ½å­˜åœ¨é—®é¢˜');
    }
  }, 1000);
});

  </script>
  <div id="app-version" style="position:fixed; bottom:10px; right:14px; color:#6b7a99; font-size:12px; z-index:1000; pointer-events:none;">Version 1.7.2</div>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .catch((err) => console.error('Falha ao registrar service worker:', err));
      });
    }
  </script>
</body>
</html> 





